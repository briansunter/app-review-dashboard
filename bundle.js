var app=function(){"use strict";function t(){}function o(e,t){for(const o in t)e[o]=t[o];return e}function n(e){return e()}function i(){return Object.create(null)}function a(e){e.forEach(n)}function r(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function l(e,t,o){const n=t.subscribe(o);e.$$.on_destroy.push(n.unsubscribe?()=>n.unsubscribe():n)}function c(e,t,o){if(e){const n=u(e,t,o);return e[0](n)}}function u(e,t,n){return e[1]?o({},o(t.$$scope.ctx,e[1](n?n(t):{}))):t.$$scope.ctx}function d(e,t,n,i){return e[1]?o({},o(t.$$scope.changed||{},e[1](i?i(n):{}))):t.$$scope.changed||{}}function h(e){const t={};for(const o in e)"$"!==o[0]&&(t[o]=e[o]);return t}function f(e,t){e.appendChild(t)}function p(e,t,o){e.insertBefore(t,o||null)}function m(e){e.parentNode.removeChild(e)}function g(e){return document.createElement(e)}function v(e){return document.createTextNode(e)}function b(){return v(" ")}function y(){return v("")}function w(e,t,o,n){return e.addEventListener(t,o,n),()=>e.removeEventListener(t,o,n)}function E(e,t,o){null==o?e.removeAttribute(t):e.setAttribute(t,o)}function C(e,t){t=""+t,e.data!==t&&(e.data=t)}function x(e,t){for(let o=0;o<e.options.length;o+=1){const n=e.options[o];if(n.__value===t)return void(n.selected=!0)}}let R;function M(e){R=e}function k(){if(!R)throw new Error("Function called outside component initialization");return R}function T(e){k().$$.on_mount.push(e)}function D(e,t){k().$$.context.set(e,t)}function L(e){return k().$$.context.get(e)}const S=[],_=Promise.resolve();let A=!1;const z=[],H=[],N=[];function F(e){H.push(e)}function P(){const e=new Set;do{for(;S.length;){const e=S.shift();M(e),j(e.$$)}for(;z.length;)z.shift()();for(;H.length;){const t=H.pop();e.has(t)||(t(),e.add(t))}}while(S.length);for(;N.length;)N.pop()();A=!1}function j(e){e.fragment&&(e.update(e.dirty),a(e.before_render),e.fragment.p(e.dirty,e.ctx),e.dirty=null,e.after_render.forEach(F))}let I;function O(){I={remaining:0,callbacks:[]}}function W(){I.remaining||a(I.callbacks)}function B(e){I.callbacks.push(e)}function V(e,t){const n=t.token={};function i(e,i,a,r){if(t.token!==n)return;t.resolved=a&&{[a]:r};const s=o(o({},t.ctx),t.resolved),l=e&&(t.current=e)(s);t.block&&(t.blocks?t.blocks.forEach((e,o)=>{o!==i&&e&&(O(),B(()=>{e.d(1),t.blocks[o]=null}),e.o(1),W())}):t.block.d(1),l.c(),l.i&&l.i(1),l.m(t.mount(),t.anchor),P()),t.block=l,t.blocks&&(t.blocks[i]=l)}if((a=e)&&"function"==typeof a.then){if(e.then(e=>{i(t.then,1,t.value,e)},e=>{i(t.catch,2,t.error,e)}),t.current!==t.pending)return i(t.pending,0),!0}else{if(t.current!==t.then)return i(t.then,1,t.value,e),!0;t.resolved={[t.value]:e}}var a}function $(e,t,o){const{fragment:i,on_mount:s,on_destroy:l,after_render:c}=e.$$;i.m(t,o),F(()=>{const t=s.map(n).filter(r);l?l.push(...t):a(t),e.$$.on_mount=[]}),c.forEach(F)}function G(e,t){e.$$.dirty||(S.push(e),A||(A=!0,_.then(P)),e.$$.dirty=i()),e.$$.dirty[t]=!0}function U(e,o,n,r,s,l){const c=R;M(e);const u=o.props||{},d=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:s,bound:i(),on_mount:[],on_destroy:[],before_render:[],after_render:[],context:new Map(c?c.$$.context:[]),callbacks:i(),dirty:null};let h=!1;var f;d.ctx=n?n(e,u,(t,o)=>{d.ctx&&s(d.ctx[t],d.ctx[t]=o)&&(d.bound[t]&&d.bound[t](o),h&&G(e,t))}):u,d.update(),h=!0,a(d.before_render),d.fragment=r(d.ctx),o.target&&(o.hydrate?d.fragment.l((f=o.target,Array.from(f.childNodes))):d.fragment.c(),o.intro&&e.$$.fragment.i&&e.$$.fragment.i(),$(e,o.target,o.anchor),P()),M(c)}class Y{$destroy(){var e,o;o=!0,(e=this).$$&&(a(e.$$.on_destroy),e.$$.fragment.d(o),e.$$.on_destroy=e.$$.fragment=null,e.$$.ctx={}),this.$destroy=t}$on(e,t){const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(t),()=>{const e=o.indexOf(t);-1!==e&&o.splice(e,1)}}$set(){}}var q=Math.ceil,X=Math.max;var J=function(e,t,o,n){for(var i=-1,a=X(q((t-e)/(o||1)),0),r=Array(a);a--;)r[n?a:++i]=e,e+=o;return r};var K=function(e,t){return e===t||e!=e&&t!=t},Z="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Q(e,t){return e(t={exports:{}},t.exports),t.exports}var ee="object"==typeof Z&&Z&&Z.Object===Object&&Z,te="object"==typeof self&&self&&self.Object===Object&&self,oe=ee||te||Function("return this")(),ne=oe.Symbol,ie=Object.prototype,ae=ie.hasOwnProperty,re=ie.toString,se=ne?ne.toStringTag:void 0;var le=function(e){var t=ae.call(e,se),o=e[se];try{e[se]=void 0;var n=!0}catch(e){}var i=re.call(e);return n&&(t?e[se]=o:delete e[se]),i},ce=Object.prototype.toString;var ue=function(e){return ce.call(e)},de="[object Null]",he="[object Undefined]",fe=ne?ne.toStringTag:void 0;var pe=function(e){return null==e?void 0===e?he:de:fe&&fe in Object(e)?le(e):ue(e)};var me=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},ge="[object AsyncFunction]",ve="[object Function]",be="[object GeneratorFunction]",ye="[object Proxy]";var we=function(e){if(!me(e))return!1;var t=pe(e);return t==ve||t==be||t==ge||t==ye},Ee=9007199254740991;var Ce=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Ee};var xe=function(e){return null!=e&&Ce(e.length)&&!we(e)},Re=9007199254740991,Me=/^(?:0|[1-9]\d*)$/;var ke=function(e,t){var o=typeof e;return!!(t=null==t?Re:t)&&("number"==o||"symbol"!=o&&Me.test(e))&&e>-1&&e%1==0&&e<t};var Te=function(e,t,o){if(!me(o))return!1;var n=typeof t;return!!("number"==n?xe(o)&&ke(t,o.length):"string"==n&&t in o)&&K(o[t],e)};var De=function(e){return null!=e&&"object"==typeof e},Le="[object Symbol]";var Se=function(e){return"symbol"==typeof e||De(e)&&pe(e)==Le},_e=NaN,Ae=/^\s+|\s+$/g,ze=/^[-+]0x[0-9a-f]+$/i,He=/^0b[01]+$/i,Ne=/^0o[0-7]+$/i,Fe=parseInt;var Pe=function(e){if("number"==typeof e)return e;if(Se(e))return _e;if(me(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=me(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Ae,"");var o=He.test(e);return o||Ne.test(e)?Fe(e.slice(2),o?2:8):ze.test(e)?_e:+e},je=1/0,Ie=1.7976931348623157e308;var Oe=function(e){return e?(e=Pe(e))===je||e===-je?(e<0?-1:1)*Ie:e==e?e:0:0===e?e:0};var We=function(e){return function(t,o,n){return n&&"number"!=typeof n&&Te(t,o,n)&&(o=n=void 0),t=Oe(t),void 0===o?(o=t,t=0):o=Oe(o),n=void 0===n?t<o?1:-1:Oe(n),J(t,o,n,e)}}();var Be=function(){this.__data__=[],this.size=0};var Ve=function(e,t){for(var o=e.length;o--;)if(K(e[o][0],t))return o;return-1},$e=Array.prototype.splice;var Ge=function(e){var t=this.__data__,o=Ve(t,e);return!(o<0||(o==t.length-1?t.pop():$e.call(t,o,1),--this.size,0))};var Ue=function(e){var t=this.__data__,o=Ve(t,e);return o<0?void 0:t[o][1]};var Ye=function(e){return Ve(this.__data__,e)>-1};var qe=function(e,t){var o=this.__data__,n=Ve(o,e);return n<0?(++this.size,o.push([e,t])):o[n][1]=t,this};function Xe(e){var t=-1,o=null==e?0:e.length;for(this.clear();++t<o;){var n=e[t];this.set(n[0],n[1])}}Xe.prototype.clear=Be,Xe.prototype.delete=Ge,Xe.prototype.get=Ue,Xe.prototype.has=Ye,Xe.prototype.set=qe;var Je=Xe;var Ke=function(){this.__data__=new Je,this.size=0};var Ze=function(e){var t=this.__data__,o=t.delete(e);return this.size=t.size,o};var Qe=function(e){return this.__data__.get(e)};var et,tt=function(e){return this.__data__.has(e)},ot=oe["__core-js_shared__"],nt=(et=/[^.]+$/.exec(ot&&ot.keys&&ot.keys.IE_PROTO||""))?"Symbol(src)_1."+et:"";var it=function(e){return!!nt&&nt in e},at=Function.prototype.toString;var rt=function(e){if(null!=e){try{return at.call(e)}catch(e){}try{return e+""}catch(e){}}return""},st=/^\[object .+?Constructor\]$/,lt=Function.prototype,ct=Object.prototype,ut=lt.toString,dt=ct.hasOwnProperty,ht=RegExp("^"+ut.call(dt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ft=function(e){return!(!me(e)||it(e))&&(we(e)?ht:st).test(rt(e))};var pt=function(e,t){return null==e?void 0:e[t]};var mt=function(e,t){var o=pt(e,t);return ft(o)?o:void 0},gt=mt(oe,"Map"),vt=mt(Object,"create");var bt=function(){this.__data__=vt?vt(null):{},this.size=0};var yt=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},wt="__lodash_hash_undefined__",Et=Object.prototype.hasOwnProperty;var Ct=function(e){var t=this.__data__;if(vt){var o=t[e];return o===wt?void 0:o}return Et.call(t,e)?t[e]:void 0},xt=Object.prototype.hasOwnProperty;var Rt=function(e){var t=this.__data__;return vt?void 0!==t[e]:xt.call(t,e)},Mt="__lodash_hash_undefined__";var kt=function(e,t){var o=this.__data__;return this.size+=this.has(e)?0:1,o[e]=vt&&void 0===t?Mt:t,this};function Tt(e){var t=-1,o=null==e?0:e.length;for(this.clear();++t<o;){var n=e[t];this.set(n[0],n[1])}}Tt.prototype.clear=bt,Tt.prototype.delete=yt,Tt.prototype.get=Ct,Tt.prototype.has=Rt,Tt.prototype.set=kt;var Dt=Tt;var Lt=function(){this.size=0,this.__data__={hash:new Dt,map:new(gt||Je),string:new Dt}};var St=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var _t=function(e,t){var o=e.__data__;return St(t)?o["string"==typeof t?"string":"hash"]:o.map};var At=function(e){var t=_t(this,e).delete(e);return this.size-=t?1:0,t};var zt=function(e){return _t(this,e).get(e)};var Ht=function(e){return _t(this,e).has(e)};var Nt=function(e,t){var o=_t(this,e),n=o.size;return o.set(e,t),this.size+=o.size==n?0:1,this};function Ft(e){var t=-1,o=null==e?0:e.length;for(this.clear();++t<o;){var n=e[t];this.set(n[0],n[1])}}Ft.prototype.clear=Lt,Ft.prototype.delete=At,Ft.prototype.get=zt,Ft.prototype.has=Ht,Ft.prototype.set=Nt;var Pt=Ft,jt=200;var It=function(e,t){var o=this.__data__;if(o instanceof Je){var n=o.__data__;if(!gt||n.length<jt-1)return n.push([e,t]),this.size=++o.size,this;o=this.__data__=new Pt(n)}return o.set(e,t),this.size=o.size,this};function Ot(e){var t=this.__data__=new Je(e);this.size=t.size}Ot.prototype.clear=Ke,Ot.prototype.delete=Ze,Ot.prototype.get=Qe,Ot.prototype.has=tt,Ot.prototype.set=It;var Wt=Ot,Bt="__lodash_hash_undefined__";var Vt=function(e){return this.__data__.set(e,Bt),this};var $t=function(e){return this.__data__.has(e)};function Gt(e){var t=-1,o=null==e?0:e.length;for(this.__data__=new Pt;++t<o;)this.add(e[t])}Gt.prototype.add=Gt.prototype.push=Vt,Gt.prototype.has=$t;var Ut=Gt;var Yt=function(e,t){for(var o=-1,n=null==e?0:e.length;++o<n;)if(t(e[o],o,e))return!0;return!1};var qt=function(e,t){return e.has(t)},Xt=1,Jt=2;var Kt=function(e,t,o,n,i,a){var r=o&Xt,s=e.length,l=t.length;if(s!=l&&!(r&&l>s))return!1;var c=a.get(e);if(c&&a.get(t))return c==t;var u=-1,d=!0,h=o&Jt?new Ut:void 0;for(a.set(e,t),a.set(t,e);++u<s;){var f=e[u],p=t[u];if(n)var m=r?n(p,f,u,t,e,a):n(f,p,u,e,t,a);if(void 0!==m){if(m)continue;d=!1;break}if(h){if(!Yt(t,function(e,t){if(!qt(h,t)&&(f===e||i(f,e,o,n,a)))return h.push(t)})){d=!1;break}}else if(f!==p&&!i(f,p,o,n,a)){d=!1;break}}return a.delete(e),a.delete(t),d},Zt=oe.Uint8Array;var Qt=function(e){var t=-1,o=Array(e.size);return e.forEach(function(e,n){o[++t]=[n,e]}),o};var eo=function(e){var t=-1,o=Array(e.size);return e.forEach(function(e){o[++t]=e}),o},to=1,oo=2,no="[object Boolean]",io="[object Date]",ao="[object Error]",ro="[object Map]",so="[object Number]",lo="[object RegExp]",co="[object Set]",uo="[object String]",ho="[object Symbol]",fo="[object ArrayBuffer]",po="[object DataView]",mo=ne?ne.prototype:void 0,go=mo?mo.valueOf:void 0;var vo=function(e,t,o,n,i,a,r){switch(o){case po:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case fo:return!(e.byteLength!=t.byteLength||!a(new Zt(e),new Zt(t)));case no:case io:case so:return K(+e,+t);case ao:return e.name==t.name&&e.message==t.message;case lo:case uo:return e==t+"";case ro:var s=Qt;case co:var l=n&to;if(s||(s=eo),e.size!=t.size&&!l)return!1;var c=r.get(e);if(c)return c==t;n|=oo,r.set(e,t);var u=Kt(s(e),s(t),n,i,a,r);return r.delete(e),u;case ho:if(go)return go.call(e)==go.call(t)}return!1};var bo=function(e,t){for(var o=-1,n=t.length,i=e.length;++o<n;)e[i+o]=t[o];return e},yo=Array.isArray;var wo=function(e,t,o){var n=t(e);return yo(e)?n:bo(n,o(e))};var Eo=function(e,t){for(var o=-1,n=null==e?0:e.length,i=0,a=[];++o<n;){var r=e[o];t(r,o,e)&&(a[i++]=r)}return a};var Co=function(){return[]},xo=Object.prototype.propertyIsEnumerable,Ro=Object.getOwnPropertySymbols,Mo=Ro?function(e){return null==e?[]:(e=Object(e),Eo(Ro(e),function(t){return xo.call(e,t)}))}:Co;var ko=function(e,t){for(var o=-1,n=Array(e);++o<e;)n[o]=t(o);return n},To="[object Arguments]";var Do=function(e){return De(e)&&pe(e)==To},Lo=Object.prototype,So=Lo.hasOwnProperty,_o=Lo.propertyIsEnumerable,Ao=Do(function(){return arguments}())?Do:function(e){return De(e)&&So.call(e,"callee")&&!_o.call(e,"callee")};var zo=function(){return!1},Ho=Q(function(e,t){var o=t&&!t.nodeType&&t,n=o&&e&&!e.nodeType&&e,i=n&&n.exports===o?oe.Buffer:void 0,a=(i?i.isBuffer:void 0)||zo;e.exports=a}),No={};No["[object Float32Array]"]=No["[object Float64Array]"]=No["[object Int8Array]"]=No["[object Int16Array]"]=No["[object Int32Array]"]=No["[object Uint8Array]"]=No["[object Uint8ClampedArray]"]=No["[object Uint16Array]"]=No["[object Uint32Array]"]=!0,No["[object Arguments]"]=No["[object Array]"]=No["[object ArrayBuffer]"]=No["[object Boolean]"]=No["[object DataView]"]=No["[object Date]"]=No["[object Error]"]=No["[object Function]"]=No["[object Map]"]=No["[object Number]"]=No["[object Object]"]=No["[object RegExp]"]=No["[object Set]"]=No["[object String]"]=No["[object WeakMap]"]=!1;var Fo=function(e){return De(e)&&Ce(e.length)&&!!No[pe(e)]};var Po=function(e){return function(t){return e(t)}},jo=Q(function(e,t){var o=t&&!t.nodeType&&t,n=o&&e&&!e.nodeType&&e,i=n&&n.exports===o&&ee.process,a=function(){try{var e=n&&n.require&&n.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=a}),Io=jo&&jo.isTypedArray,Oo=Io?Po(Io):Fo,Wo=Object.prototype.hasOwnProperty;var Bo=function(e,t){var o=yo(e),n=!o&&Ao(e),i=!o&&!n&&Ho(e),a=!o&&!n&&!i&&Oo(e),r=o||n||i||a,s=r?ko(e.length,String):[],l=s.length;for(var c in e)!t&&!Wo.call(e,c)||r&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ke(c,l))||s.push(c);return s},Vo=Object.prototype;var $o=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Vo)};var Go=function(e,t){return function(o){return e(t(o))}}(Object.keys,Object),Uo=Object.prototype.hasOwnProperty;var Yo=function(e){if(!$o(e))return Go(e);var t=[];for(var o in Object(e))Uo.call(e,o)&&"constructor"!=o&&t.push(o);return t};var qo=function(e){return xe(e)?Bo(e):Yo(e)};var Xo=function(e){return wo(e,qo,Mo)},Jo=1,Ko=Object.prototype.hasOwnProperty;var Zo=function(e,t,o,n,i,a){var r=o&Jo,s=Xo(e),l=s.length;if(l!=Xo(t).length&&!r)return!1;for(var c=l;c--;){var u=s[c];if(!(r?u in t:Ko.call(t,u)))return!1}var d=a.get(e);if(d&&a.get(t))return d==t;var h=!0;a.set(e,t),a.set(t,e);for(var f=r;++c<l;){var p=e[u=s[c]],m=t[u];if(n)var g=r?n(m,p,u,t,e,a):n(p,m,u,e,t,a);if(!(void 0===g?p===m||i(p,m,o,n,a):g)){h=!1;break}f||(f="constructor"==u)}if(h&&!f){var v=e.constructor,b=t.constructor;v!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b)&&(h=!1)}return a.delete(e),a.delete(t),h},Qo=mt(oe,"DataView"),en=mt(oe,"Promise"),tn=mt(oe,"Set"),on=mt(oe,"WeakMap"),nn=rt(Qo),an=rt(gt),rn=rt(en),sn=rt(tn),ln=rt(on),cn=pe;(Qo&&"[object DataView]"!=cn(new Qo(new ArrayBuffer(1)))||gt&&"[object Map]"!=cn(new gt)||en&&"[object Promise]"!=cn(en.resolve())||tn&&"[object Set]"!=cn(new tn)||on&&"[object WeakMap]"!=cn(new on))&&(cn=function(e){var t=pe(e),o="[object Object]"==t?e.constructor:void 0,n=o?rt(o):"";if(n)switch(n){case nn:return"[object DataView]";case an:return"[object Map]";case rn:return"[object Promise]";case sn:return"[object Set]";case ln:return"[object WeakMap]"}return t});var un=cn,dn=1,hn="[object Arguments]",fn="[object Array]",pn="[object Object]",mn=Object.prototype.hasOwnProperty;var gn=function(e,t,o,n,i,a){var r=yo(e),s=yo(t),l=r?fn:un(e),c=s?fn:un(t),u=(l=l==hn?pn:l)==pn,d=(c=c==hn?pn:c)==pn,h=l==c;if(h&&Ho(e)){if(!Ho(t))return!1;r=!0,u=!1}if(h&&!u)return a||(a=new Wt),r||Oo(e)?Kt(e,t,o,n,i,a):vo(e,t,l,o,n,i,a);if(!(o&dn)){var f=u&&mn.call(e,"__wrapped__"),p=d&&mn.call(t,"__wrapped__");if(f||p){var m=f?e.value():e,g=p?t.value():t;return a||(a=new Wt),i(m,g,o,n,a)}}return!!h&&(a||(a=new Wt),Zo(e,t,o,n,i,a))};var vn=function e(t,o,n,i,a){return t===o||(null==t||null==o||!De(t)&&!De(o)?t!=t&&o!=o:gn(t,o,n,i,e,a))},bn=1,yn=2;var wn=function(e,t,o,n){var i=o.length,a=i,r=!n;if(null==e)return!a;for(e=Object(e);i--;){var s=o[i];if(r&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var l=(s=o[i])[0],c=e[l],u=s[1];if(r&&s[2]){if(void 0===c&&!(l in e))return!1}else{var d=new Wt;if(n)var h=n(c,u,l,e,t,d);if(!(void 0===h?vn(u,c,bn|yn,n,d):h))return!1}}return!0};var En=function(e){return e==e&&!me(e)};var Cn=function(e){for(var t=qo(e),o=t.length;o--;){var n=t[o],i=e[n];t[o]=[n,i,En(i)]}return t};var xn=function(e,t){return function(o){return null!=o&&o[e]===t&&(void 0!==t||e in Object(o))}};var Rn=function(e){var t=Cn(e);return 1==t.length&&t[0][2]?xn(t[0][0],t[0][1]):function(o){return o===e||wn(o,e,t)}},Mn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kn=/^\w*$/;var Tn=function(e,t){if(yo(e))return!1;var o=typeof e;return!("number"!=o&&"symbol"!=o&&"boolean"!=o&&null!=e&&!Se(e))||kn.test(e)||!Mn.test(e)||null!=t&&e in Object(t)},Dn="Expected a function";function Ln(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(Dn);var o=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=o.cache;if(a.has(i))return a.get(i);var r=e.apply(this,n);return o.cache=a.set(i,r)||a,r};return o.cache=new(Ln.Cache||Pt),o}Ln.Cache=Pt;var Sn=Ln,_n=500;var An=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zn=/\\(\\)?/g,Hn=function(e){var t=Sn(e,function(e){return o.size===_n&&o.clear(),e}),o=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(An,function(e,o,n,i){t.push(n?i.replace(zn,"$1"):o||e)}),t});var Nn=function(e,t){for(var o=-1,n=null==e?0:e.length,i=Array(n);++o<n;)i[o]=t(e[o],o,e);return i},Fn=1/0,Pn=ne?ne.prototype:void 0,jn=Pn?Pn.toString:void 0;var In=function e(t){if("string"==typeof t)return t;if(yo(t))return Nn(t,e)+"";if(Se(t))return jn?jn.call(t):"";var o=t+"";return"0"==o&&1/t==-Fn?"-0":o};var On=function(e){return null==e?"":In(e)};var Wn=function(e,t){return yo(e)?e:Tn(e,t)?[e]:Hn(On(e))},Bn=1/0;var Vn=function(e){if("string"==typeof e||Se(e))return e;var t=e+"";return"0"==t&&1/e==-Bn?"-0":t};var $n=function(e,t){for(var o=0,n=(t=Wn(t,e)).length;null!=e&&o<n;)e=e[Vn(t[o++])];return o&&o==n?e:void 0};var Gn=function(e,t,o){var n=null==e?void 0:$n(e,t);return void 0===n?o:n};var Un=function(e,t){return null!=e&&t in Object(e)};var Yn=function(e,t,o){for(var n=-1,i=(t=Wn(t,e)).length,a=!1;++n<i;){var r=Vn(t[n]);if(!(a=null!=e&&o(e,r)))break;e=e[r]}return a||++n!=i?a:!!(i=null==e?0:e.length)&&Ce(i)&&ke(r,i)&&(yo(e)||Ao(e))};var qn=function(e,t){return null!=e&&Yn(e,t,Un)},Xn=1,Jn=2;var Kn=function(e,t){return Tn(e)&&En(t)?xn(Vn(e),t):function(o){var n=Gn(o,e);return void 0===n&&n===t?qn(o,e):vn(t,n,Xn|Jn)}};var Zn=function(e){return e};var Qn=function(e){return function(t){return null==t?void 0:t[e]}};var ei=function(e){return function(t){return $n(t,e)}};var ti=function(e){return Tn(e)?Qn(Vn(e)):ei(e)};var oi=function(e){return"function"==typeof e?e:null==e?Zn:"object"==typeof e?yo(e)?Kn(e[0],e[1]):Rn(e):ti(e)};var ni=function(e,t){for(var o,n=-1,i=e.length;++n<i;){var a=t(e[n]);void 0!==a&&(o=void 0===o?a:o+a)}return o},ii=NaN;var ai=function(e,t){var o=null==e?0:e.length;return o?ni(e,t)/o:ii};var ri=function(e,t){return ai(e,oi(t,2))},si={value:function(){}};function li(){for(var e,t=0,o=arguments.length,n={};t<o;++t){if(!(e=arguments[t]+"")||e in n)throw new Error("illegal type: "+e);n[e]=[]}return new ci(n)}function ci(e){this._=e}function ui(e,t){for(var o,n=0,i=e.length;n<i;++n)if((o=e[n]).name===t)return o.value}function di(e,t,o){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=si,e=e.slice(0,n).concat(e.slice(n+1));break}return null!=o&&e.push({name:t,value:o}),e}ci.prototype=li.prototype={constructor:ci,on:function(e,t){var o,n,i=this._,a=(n=i,(e+"").trim().split(/^|\s+/).map(function(e){var t="",o=e.indexOf(".");if(o>=0&&(t=e.slice(o+1),e=e.slice(0,o)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}})),r=-1,s=a.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++r<s;)if(o=(e=a[r]).type)i[o]=di(i[o],e.name,t);else if(null==t)for(o in i)i[o]=di(i[o],e.name,null);return this}for(;++r<s;)if((o=(e=a[r]).type)&&(o=ui(i[o],e.name)))return o},copy:function(){var e={},t=this._;for(var o in t)e[o]=t[o].slice();return new ci(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var o,n,i=new Array(o),a=0;a<o;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,o=(n=this._[e]).length;a<o;++a)n[a].value.apply(t,i)},apply:function(e,t,o){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,a=n.length;i<a;++i)n[i].value.apply(t,o)}};var hi=Object.freeze({dispatch:li}).dispatch,fi=Math.PI/180,pi=64,mi=2048,gi=function(){var e=[256,256],t=vi,o=bi,n=wi,i=yi,a=yi,r=Ei,s=Ci,l=ki,c=[],u=1/0,d=hi("word","end"),h=null,f=Math.random,p={},m=Ti;function g(t,o,n){e[0],e[1];for(var i,a,r,s,c,u=o.x,d=o.y,h=Math.sqrt(e[0]*e[0]+e[1]*e[1]),p=l(e),m=f()<.5?1:-1,g=-m;(i=p(g+=m))&&(a=~~i[0],r=~~i[1],!(Math.min(Math.abs(a),Math.abs(r))>=h));)if(o.x=u+a,o.y=d+r,!(o.x+o.x0<0||o.y+o.y0<0||o.x+o.x1>e[0]||o.y+o.y1>e[1]||n&&Ri(o,t,e[0])||n&&(c=n,!((s=o).x+s.x1>c[0].x&&s.x+s.x0<c[1].x&&s.y+s.y1>c[0].y&&s.y+s.y0<c[1].y)))){for(var v,b=o.sprite,y=o.width>>5,w=e[0]>>5,E=o.x-(y<<4),C=127&E,x=32-C,R=o.y1-o.y0,M=(o.y+o.y0)*w+(E>>5),k=0;k<R;k++){v=0;for(var T=0;T<=y;T++)t[M+T]|=v<<x|(T<y?(v=b[k*y+T])>>>C:0);M+=w}return delete o.sprite,!0}return!1}return p.canvas=function(e){return arguments.length?(m=Di(e),p):m},p.start=function(){var l=function(e){e.width=e.height=1;var t=Math.sqrt(e.getContext("2d").getImageData(0,0,1,1).data.length>>2);e.width=(pi<<5)/t,e.height=mi/t;var o=e.getContext("2d");return o.fillStyle=o.strokeStyle="red",o.textAlign="center",{context:o,ratio:t}}(m()),v=function(e){var t=[],o=-1;for(;++o<e;)t[o]=0;return t}((e[0]>>5)*e[1]),b=null,y=c.length,w=-1,E=[],C=c.map(function(e,l){return e.text=t.call(this,e,l),e.font=o.call(this,e,l),e.style=i.call(this,e,l),e.weight=a.call(this,e,l),e.rotate=r.call(this,e,l),e.size=~~n.call(this,e,l),e.padding=s.call(this,e,l),e}).sort(function(e,t){return t.size-e.size});return h&&clearInterval(h),h=setInterval(x,0),x(),p;function x(){for(var t=Date.now();Date.now()-t<u&&++w<y&&h;){var o=C[w];o.x=e[0]*(f()+.5)>>1,o.y=e[1]*(f()+.5)>>1,xi(l,o,C,w),o.hasText&&g(v,o,b)&&(E.push(o),d.call("word",p,o),b?Mi(b,o):b=[{x:o.x+o.x0,y:o.y+o.y0},{x:o.x+o.x1,y:o.y+o.y1}],o.x-=e[0]>>1,o.y-=e[1]>>1)}w>=y&&(p.stop(),d.call("end",p,E,b))}},p.stop=function(){return h&&(clearInterval(h),h=null),p},p.timeInterval=function(e){return arguments.length?(u=null==e?1/0:e,p):u},p.words=function(e){return arguments.length?(c=e,p):c},p.size=function(t){return arguments.length?(e=[+t[0],+t[1]],p):e},p.font=function(e){return arguments.length?(o=Di(e),p):o},p.fontStyle=function(e){return arguments.length?(i=Di(e),p):i},p.fontWeight=function(e){return arguments.length?(a=Di(e),p):a},p.rotate=function(e){return arguments.length?(r=Di(e),p):r},p.text=function(e){return arguments.length?(t=Di(e),p):t},p.spiral=function(e){return arguments.length?(l=Li[e]||e,p):l},p.fontSize=function(e){return arguments.length?(n=Di(e),p):n},p.padding=function(e){return arguments.length?(s=Di(e),p):s},p.random=function(e){return arguments.length?(f=e,p):f},p.on=function(){var e=d.on.apply(d,arguments);return e===d?p:e},p};function vi(e){return e.text}function bi(){return"serif"}function yi(){return"normal"}function wi(e){return Math.sqrt(e.value)}function Ei(){return 30*(~~(6*Math.random())-3)}function Ci(){return 1}function xi(e,t,o,n){if(!t.sprite){var i=e.context,a=e.ratio;i.clearRect(0,0,(pi<<5)/a,mi/a);var r=0,s=0,l=0,c=o.length;for(--n;++n<c;){t=o[n],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/a)+"px "+t.font;var u=i.measureText(t.text+"m").width*a,d=t.size<<1;if(t.rotate){var h=Math.sin(t.rotate*fi),f=Math.cos(t.rotate*fi),p=u*f,m=u*h,g=d*f,v=d*h;u=Math.max(Math.abs(p+v),Math.abs(p-v))+31>>5<<5,d=~~Math.max(Math.abs(m+g),Math.abs(m-g))}else u=u+31>>5<<5;if(d>l&&(l=d),r+u>=pi<<5&&(r=0,s+=l,l=0),s+d>=mi)break;i.translate((r+(u>>1))/a,(s+(d>>1))/a),t.rotate&&i.rotate(t.rotate*fi),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=u,t.height=d,t.xoff=r,t.yoff=s,t.x1=u>>1,t.y1=d>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,r+=u}for(var b=i.getImageData(0,0,(pi<<5)/a,mi/a).data,y=[];--n>=0;)if((t=o[n]).hasText){for(var w=(u=t.width)>>5,E=(d=t.y1-t.y0,0);E<d*w;E++)y[E]=0;if(null==(r=t.xoff))return;s=t.yoff;for(var C=0,x=-1,R=0;R<d;R++){for(E=0;E<u;E++){var M=w*R+(E>>5),k=b[(s+R)*(pi<<5)+(r+E)<<2]?1<<31-E%32:0;y[M]|=k,C|=k}C?x=R:(t.y0++,d--,R--,s++)}t.y1=t.y0+x,t.sprite=y.slice(0,(t.y1-t.y0)*w)}}}function Ri(e,t,o){o>>=5;for(var n,i=e.sprite,a=e.width>>5,r=e.x-(a<<4),s=127&r,l=32-s,c=e.y1-e.y0,u=(e.y+e.y0)*o+(r>>5),d=0;d<c;d++){n=0;for(var h=0;h<=a;h++)if((n<<l|(h<a?(n=i[d*a+h])>>>s:0))&t[u+h])return!0;u+=o}return!1}function Mi(e,t){var o=e[0],n=e[1];t.x+t.x0<o.x&&(o.x=t.x+t.x0),t.y+t.y0<o.y&&(o.y=t.y+t.y0),t.x+t.x1>n.x&&(n.x=t.x+t.x1),t.y+t.y1>n.y&&(n.y=t.y+t.y1)}function ki(e){var t=e[0]/e[1];return function(e){return[t*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function Ti(){return document.createElement("canvas")}function Di(e){return"function"==typeof e?e:function(){return e}}var Li={archimedean:ki,rectangular:function(e){var t=4*e[0]/e[1],o=0,n=0;return function(e){var i=e<0?-1:1;switch(Math.sqrt(1+4*i*e)-i&3){case 0:o+=t;break;case 1:n+=4;break;case 2:o-=t;break;default:n-=4}return[o,n]}}},Si="http://www.w3.org/1999/xhtml",_i={svg:"http://www.w3.org/2000/svg",xhtml:Si,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ai(e){var t=e+="",o=t.indexOf(":");return o>=0&&"xmlns"!==(t=e.slice(0,o))&&(e=e.slice(o+1)),_i.hasOwnProperty(t)?{space:_i[t],local:e}:e}function zi(e){var t=Ai(e);return(t.local?function(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}:function(e){return function(){var t=this.ownerDocument,o=this.namespaceURI;return o===Si&&t.documentElement.namespaceURI===Si?t.createElement(e):t.createElementNS(o,e)}})(t)}function Hi(){}function Ni(e){return null==e?Hi:function(){return this.querySelector(e)}}function Fi(){return[]}function Pi(e){return new Array(e.length)}function ji(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ji.prototype={constructor:ji,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var Ii="$";function Oi(e,t,o,n,i,a){for(var r,s=0,l=t.length,c=a.length;s<c;++s)(r=t[s])?(r.__data__=a[s],n[s]=r):o[s]=new ji(e,a[s]);for(;s<l;++s)(r=t[s])&&(i[s]=r)}function Wi(e,t,o,n,i,a,r){var s,l,c,u={},d=t.length,h=a.length,f=new Array(d);for(s=0;s<d;++s)(l=t[s])&&(f[s]=c=Ii+r.call(l,l.__data__,s,t),c in u?i[s]=l:u[c]=l);for(s=0;s<h;++s)(l=u[c=Ii+r.call(e,a[s],s,a)])?(n[s]=l,l.__data__=a[s],u[c]=null):o[s]=new ji(e,a[s]);for(s=0;s<d;++s)(l=t[s])&&u[f[s]]===l&&(i[s]=l)}function Bi(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Vi(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function $i(e){return e.trim().split(/^|\s+/)}function Gi(e){return e.classList||new Ui(e)}function Ui(e){this._node=e,this._names=$i(e.getAttribute("class")||"")}function Yi(e,t){for(var o=Gi(e),n=-1,i=t.length;++n<i;)o.add(t[n])}function qi(e,t){for(var o=Gi(e),n=-1,i=t.length;++n<i;)o.remove(t[n])}function Xi(){this.textContent=""}function Ji(){this.innerHTML=""}function Ki(){this.nextSibling&&this.parentNode.appendChild(this)}function Zi(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Qi(){return null}function ea(){var e=this.parentNode;e&&e.removeChild(this)}function ta(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function oa(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}Ui.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var na={};"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(na={mouseenter:"mouseover",mouseleave:"mouseout"}));function ia(e,t,o){return e=aa(e,t,o),function(t){var o=t.relatedTarget;o&&(o===this||8&o.compareDocumentPosition(this))||e.call(this,t)}}function aa(e,t,o){return function(n){try{e.call(this,this.__data__,t,o)}finally{}}}function ra(e){return function(){var t=this.__on;if(t){for(var o,n=0,i=-1,a=t.length;n<a;++n)o=t[n],e.type&&o.type!==e.type||o.name!==e.name?t[++i]=o:this.removeEventListener(o.type,o.listener,o.capture);++i?t.length=i:delete this.__on}}}function sa(e,t,o){var n=na.hasOwnProperty(e.type)?ia:aa;return function(i,a,r){var s,l=this.__on,c=n(t,a,r);if(l)for(var u=0,d=l.length;u<d;++u)if((s=l[u]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=o),void(s.value=t);this.addEventListener(e.type,c,o),s={type:e.type,name:e.name,value:t,listener:c,capture:o},l?l.push(s):this.__on=[s]}}function la(e,t,o){var n=Vi(e),i=n.CustomEvent;"function"==typeof i?i=new i(t,o):(i=n.document.createEvent("Event"),o?(i.initEvent(t,o.bubbles,o.cancelable),i.detail=o.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}var ca=[null];function ua(e,t){this._groups=e,this._parents=t}function da(e){return"string"==typeof e?new ua([[document.querySelector(e)]],[document.documentElement]):new ua([[e]],ca)}function ha(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}ua.prototype=function(){return new ua([[document.documentElement]],ca)}.prototype={constructor:ua,select:function(e){"function"!=typeof e&&(e=Ni(e));for(var t=this._groups,o=t.length,n=new Array(o),i=0;i<o;++i)for(var a,r,s=t[i],l=s.length,c=n[i]=new Array(l),u=0;u<l;++u)(a=s[u])&&(r=e.call(a,a.__data__,u,s))&&("__data__"in a&&(r.__data__=a.__data__),c[u]=r);return new ua(n,this._parents)},selectAll:function(e){var t;"function"!=typeof e&&(e=null==(t=e)?Fi:function(){return this.querySelectorAll(t)});for(var o=this._groups,n=o.length,i=[],a=[],r=0;r<n;++r)for(var s,l=o[r],c=l.length,u=0;u<c;++u)(s=l[u])&&(i.push(e.call(s,s.__data__,u,l)),a.push(s));return new ua(i,a)},filter:function(e){var t;"function"!=typeof e&&(t=e,e=function(){return this.matches(t)});for(var o=this._groups,n=o.length,i=new Array(n),a=0;a<n;++a)for(var r,s=o[a],l=s.length,c=i[a]=[],u=0;u<l;++u)(r=s[u])&&e.call(r,r.__data__,u,s)&&c.push(r);return new ua(i,this._parents)},data:function(e,t){if(!e)return p=new Array(this.size()),u=-1,this.each(function(e){p[++u]=e}),p;var o,n=t?Wi:Oi,i=this._parents,a=this._groups;"function"!=typeof e&&(o=e,e=function(){return o});for(var r=a.length,s=new Array(r),l=new Array(r),c=new Array(r),u=0;u<r;++u){var d=i[u],h=a[u],f=h.length,p=e.call(d,d&&d.__data__,u,i),m=p.length,g=l[u]=new Array(m),v=s[u]=new Array(m);n(d,h,g,v,c[u]=new Array(f),p,t);for(var b,y,w=0,E=0;w<m;++w)if(b=g[w]){for(w>=E&&(E=w+1);!(y=v[E])&&++E<m;);b._next=y||null}}return(s=new ua(s,i))._enter=l,s._exit=c,s},enter:function(){return new ua(this._enter||this._groups.map(Pi),this._parents)},exit:function(){return new ua(this._exit||this._groups.map(Pi),this._parents)},join:function(e,t,o){var n=this.enter(),i=this,a=this.exit();return n="function"==typeof e?e(n):n.append(e+""),null!=t&&(i=t(i)),null==o?a.remove():o(a),n&&i?n.merge(i).order():i},merge:function(e){for(var t=this._groups,o=e._groups,n=t.length,i=o.length,a=Math.min(n,i),r=new Array(n),s=0;s<a;++s)for(var l,c=t[s],u=o[s],d=c.length,h=r[s]=new Array(d),f=0;f<d;++f)(l=c[f]||u[f])&&(h[f]=l);for(;s<n;++s)r[s]=t[s];return new ua(r,this._parents)},order:function(){for(var e=this._groups,t=-1,o=e.length;++t<o;)for(var n,i=e[t],a=i.length-1,r=i[a];--a>=0;)(n=i[a])&&(r&&4^n.compareDocumentPosition(r)&&r.parentNode.insertBefore(n,r),r=n);return this},sort:function(e){function t(t,o){return t&&o?e(t.__data__,o.__data__):!t-!o}e||(e=Bi);for(var o=this._groups,n=o.length,i=new Array(n),a=0;a<n;++a){for(var r,s=o[a],l=s.length,c=i[a]=new Array(l),u=0;u<l;++u)(r=s[u])&&(c[u]=r);c.sort(t)}return new ua(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e},node:function(){for(var e=this._groups,t=0,o=e.length;t<o;++t)for(var n=e[t],i=0,a=n.length;i<a;++i){var r=n[i];if(r)return r}return null},size:function(){var e=0;return this.each(function(){++e}),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,o=0,n=t.length;o<n;++o)for(var i,a=t[o],r=0,s=a.length;r<s;++r)(i=a[r])&&e.call(i,i.__data__,r,a);return this},attr:function(e,t){var o=Ai(e);if(arguments.length<2){var n=this.node();return o.local?n.getAttributeNS(o.space,o.local):n.getAttribute(o)}return this.each((null==t?o.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}}:"function"==typeof t?o.local?function(e,t){return function(){var o=t.apply(this,arguments);null==o?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,o)}}:function(e,t){return function(){var o=t.apply(this,arguments);null==o?this.removeAttribute(e):this.setAttribute(e,o)}}:o.local?function(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}:function(e,t){return function(){this.setAttribute(e,t)}})(o,t))},style:function(e,t,o){return arguments.length>1?this.each((null==t?function(e){return function(){this.style.removeProperty(e)}}:"function"==typeof t?function(e,t,o){return function(){var n=t.apply(this,arguments);null==n?this.style.removeProperty(e):this.style.setProperty(e,n,o)}}:function(e,t,o){return function(){this.style.setProperty(e,t,o)}})(e,t,null==o?"":o)):function(e,t){return e.style.getPropertyValue(t)||Vi(e).getComputedStyle(e,null).getPropertyValue(t)}(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?function(e){return function(){delete this[e]}}:"function"==typeof t?function(e,t){return function(){var o=t.apply(this,arguments);null==o?delete this[e]:this[e]=o}}:function(e,t){return function(){this[e]=t}})(e,t)):this.node()[e]},classed:function(e,t){var o=$i(e+"");if(arguments.length<2){for(var n=Gi(this.node()),i=-1,a=o.length;++i<a;)if(!n.contains(o[i]))return!1;return!0}return this.each(("function"==typeof t?function(e,t){return function(){(t.apply(this,arguments)?Yi:qi)(this,e)}}:t?function(e){return function(){Yi(this,e)}}:function(e){return function(){qi(this,e)}})(o,t))},text:function(e){return arguments.length?this.each(null==e?Xi:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(e){return function(){this.textContent=e}})(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?Ji:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(e){return function(){this.innerHTML=e}})(e)):this.node().innerHTML},raise:function(){return this.each(Ki)},lower:function(){return this.each(Zi)},append:function(e){var t="function"==typeof e?e:zi(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var o="function"==typeof e?e:zi(e),n=null==t?Qi:"function"==typeof t?t:Ni(t);return this.select(function(){return this.insertBefore(o.apply(this,arguments),n.apply(this,arguments)||null)})},remove:function(){return this.each(ea)},clone:function(e){return this.select(e?oa:ta)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,o){var n,i,a=function(e){return e.trim().split(/^|\s+/).map(function(e){var t="",o=e.indexOf(".");return o>=0&&(t=e.slice(o+1),e=e.slice(0,o)),{type:e,name:t}})}(e+""),r=a.length;if(!(arguments.length<2)){for(s=t?sa:ra,null==o&&(o=!1),n=0;n<r;++n)this.each(s(a[n],t,o));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(n=0,l=s[c];n<r;++n)if((i=a[n]).type===l.type&&i.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?function(e,t){return function(){return la(this,e,t.apply(this,arguments))}}:function(e,t){return function(){return la(this,e,t)}})(e,t))}};var fa,pa,ma=(1===(fa=ha).length&&(pa=fa,fa=function(e,t){return ha(pa(e),t)}),{left:function(e,t,o,n){for(null==o&&(o=0),null==n&&(n=e.length);o<n;){var i=o+n>>>1;fa(e[i],t)<0?o=i+1:n=i}return o},right:function(e,t,o,n){for(null==o&&(o=0),null==n&&(n=e.length);o<n;){var i=o+n>>>1;fa(e[i],t)>0?n=i:o=i+1}return o}}).right,ga=Math.sqrt(50),va=Math.sqrt(10),ba=Math.sqrt(2);function ya(e,t,o){var n=(t-e)/Math.max(0,o),i=Math.floor(Math.log(n)/Math.LN10),a=n/Math.pow(10,i);return i>=0?(a>=ga?10:a>=va?5:a>=ba?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=ga?10:a>=va?5:a>=ba?2:1)}function wa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}const Ea=Symbol("implicit");function Ca(e,t,o){e.prototype=t.prototype=o,o.constructor=e}function xa(e,t){var o=Object.create(e.prototype);for(var n in t)o[n]=t[n];return o}function Ra(){}var Ma="\\s*([+-]?\\d+)\\s*",ka="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ta="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Da=/^#([0-9a-f]{3})$/,La=/^#([0-9a-f]{6})$/,Sa=new RegExp("^rgb\\("+[Ma,Ma,Ma]+"\\)$"),_a=new RegExp("^rgb\\("+[Ta,Ta,Ta]+"\\)$"),Aa=new RegExp("^rgba\\("+[Ma,Ma,Ma,ka]+"\\)$"),za=new RegExp("^rgba\\("+[Ta,Ta,Ta,ka]+"\\)$"),Ha=new RegExp("^hsl\\("+[ka,Ta,Ta]+"\\)$"),Na=new RegExp("^hsla\\("+[ka,Ta,Ta,ka]+"\\)$"),Fa={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Pa(e){var t;return e=(e+"").trim().toLowerCase(),(t=Da.exec(e))?new Ba((t=parseInt(t[1],16))>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):(t=La.exec(e))?ja(parseInt(t[1],16)):(t=Sa.exec(e))?new Ba(t[1],t[2],t[3],1):(t=_a.exec(e))?new Ba(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Aa.exec(e))?Ia(t[1],t[2],t[3],t[4]):(t=za.exec(e))?Ia(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Ha.exec(e))?$a(t[1],t[2]/100,t[3]/100,1):(t=Na.exec(e))?$a(t[1],t[2]/100,t[3]/100,t[4]):Fa.hasOwnProperty(e)?ja(Fa[e]):"transparent"===e?new Ba(NaN,NaN,NaN,0):null}function ja(e){return new Ba(e>>16&255,e>>8&255,255&e,1)}function Ia(e,t,o,n){return n<=0&&(e=t=o=NaN),new Ba(e,t,o,n)}function Oa(e){return e instanceof Ra||(e=Pa(e)),e?new Ba((e=e.rgb()).r,e.g,e.b,e.opacity):new Ba}function Wa(e,t,o,n){return 1===arguments.length?Oa(e):new Ba(e,t,o,null==n?1:n)}function Ba(e,t,o,n){this.r=+e,this.g=+t,this.b=+o,this.opacity=+n}function Va(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function $a(e,t,o,n){return n<=0?e=t=o=NaN:o<=0||o>=1?e=t=NaN:t<=0&&(e=NaN),new Ga(e,t,o,n)}function Ga(e,t,o,n){this.h=+e,this.s=+t,this.l=+o,this.opacity=+n}function Ua(e,t,o){return 255*(e<60?t+(o-t)*e/60:e<180?o:e<240?t+(o-t)*(240-e)/60:t)}Ca(Ra,Pa,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),Ca(Ba,Wa,xa(Ra,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Ba(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Ba(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+Va(this.r)+Va(this.g)+Va(this.b)},toString:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),Ca(Ga,function(e,t,o,n){return 1===arguments.length?function(e){if(e instanceof Ga)return new Ga(e.h,e.s,e.l,e.opacity);if(e instanceof Ra||(e=Pa(e)),!e)return new Ga;if(e instanceof Ga)return e;var t=(e=e.rgb()).r/255,o=e.g/255,n=e.b/255,i=Math.min(t,o,n),a=Math.max(t,o,n),r=NaN,s=a-i,l=(a+i)/2;return s?(r=t===a?(o-n)/s+6*(o<n):o===a?(n-t)/s+2:(t-o)/s+4,s/=l<.5?a+i:2-a-i,r*=60):s=l>0&&l<1?0:r,new Ga(r,s,l,e.opacity)}(e):new Ga(e,t,o,null==n?1:n)},xa(Ra,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Ga(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Ga(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,o=this.l,n=o+(o<.5?o:1-o)*t,i=2*o-n;return new Ba(Ua(e>=240?e-240:e+120,i,n),Ua(e,i,n),Ua(e<120?e+240:e-120,i,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Ya=Math.PI/180,qa=180/Math.PI,Xa=.96422,Ja=1,Ka=.82521,Za=4/29,Qa=6/29,er=3*Qa*Qa,tr=Qa*Qa*Qa;function or(e){if(e instanceof nr)return new nr(e.l,e.a,e.b,e.opacity);if(e instanceof lr){if(isNaN(e.h))return new nr(e.l,0,0,e.opacity);var t=e.h*Ya;return new nr(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}e instanceof Ba||(e=Oa(e));var o,n,i=sr(e.r),a=sr(e.g),r=sr(e.b),s=ir((.2225045*i+.7168786*a+.0606169*r)/Ja);return i===a&&a===r?o=n=s:(o=ir((.4360747*i+.3850649*a+.1430804*r)/Xa),n=ir((.0139322*i+.0971045*a+.7141733*r)/Ka)),new nr(116*s-16,500*(o-s),200*(s-n),e.opacity)}function nr(e,t,o,n){this.l=+e,this.a=+t,this.b=+o,this.opacity=+n}function ir(e){return e>tr?Math.pow(e,1/3):e/er+Za}function ar(e){return e>Qa?e*e*e:er*(e-Za)}function rr(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function sr(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function lr(e,t,o,n){this.h=+e,this.c=+t,this.l=+o,this.opacity=+n}Ca(nr,function(e,t,o,n){return 1===arguments.length?or(e):new nr(e,t,o,null==n?1:n)},xa(Ra,{brighter:function(e){return new nr(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new nr(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,o=isNaN(this.b)?e:e-this.b/200;return new Ba(rr(3.1338561*(t=Xa*ar(t))-1.6168667*(e=Ja*ar(e))-.4906146*(o=Ka*ar(o))),rr(-.9787684*t+1.9161415*e+.033454*o),rr(.0719453*t-.2289914*e+1.4052427*o),this.opacity)}})),Ca(lr,function(e,t,o,n){return 1===arguments.length?function(e){if(e instanceof lr)return new lr(e.h,e.c,e.l,e.opacity);if(e instanceof nr||(e=or(e)),0===e.a&&0===e.b)return new lr(NaN,0,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*qa;return new lr(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}(e):new lr(e,t,o,null==n?1:n)},xa(Ra,{brighter:function(e){return new lr(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new lr(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return or(this).rgb()}}));var cr=-.14861,ur=1.78277,dr=-.29227,hr=-.90649,fr=1.97294,pr=fr*hr,mr=fr*ur,gr=ur*dr-hr*cr;function vr(e,t,o,n){return 1===arguments.length?function(e){if(e instanceof br)return new br(e.h,e.s,e.l,e.opacity);e instanceof Ba||(e=Oa(e));var t=e.r/255,o=e.g/255,n=e.b/255,i=(gr*n+pr*t-mr*o)/(gr+pr-mr),a=n-i,r=(fr*(o-i)-dr*a)/hr,s=Math.sqrt(r*r+a*a)/(fr*i*(1-i)),l=s?Math.atan2(r,a)*qa-120:NaN;return new br(l<0?l+360:l,s,i,e.opacity)}(e):new br(e,t,o,null==n?1:n)}function br(e,t,o,n){this.h=+e,this.s=+t,this.l=+o,this.opacity=+n}function yr(e){return function(){return e}}function wr(e,t){return function(o){return e+o*t}}function Er(e){return 1==(e=+e)?Cr:function(t,o){return o-t?function(e,t,o){return e=Math.pow(e,o),t=Math.pow(t,o)-e,o=1/o,function(n){return Math.pow(e+n*t,o)}}(t,o,e):yr(isNaN(t)?o:t)}}function Cr(e,t){var o=t-e;return o?wr(e,o):yr(isNaN(e)?t:e)}Ca(br,vr,xa(Ra,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new br(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new br(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*Ya,t=+this.l,o=isNaN(this.s)?0:this.s*t*(1-t),n=Math.cos(e),i=Math.sin(e);return new Ba(255*(t+o*(cr*n+ur*i)),255*(t+o*(dr*n+hr*i)),255*(t+o*(fr*n)),this.opacity)}}));var xr=function e(t){var o=Er(t);function n(e,t){var n=o((e=Wa(e)).r,(t=Wa(t)).r),i=o(e.g,t.g),a=o(e.b,t.b),r=Cr(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=i(t),e.b=a(t),e.opacity=r(t),e+""}}return n.gamma=e,n}(1);var Rr,Mr=(Rr=function(e){var t=e.length-1;return function(o){var n=o<=0?o=0:o>=1?(o=1,t-1):Math.floor(o*t),i=e[n],a=e[n+1],r=n>0?e[n-1]:2*i-a,s=n<t-1?e[n+2]:2*a-i;return function(e,t,o,n,i){var a=e*e,r=a*e;return((1-3*e+3*a-r)*t+(4-6*a+3*r)*o+(1+3*e+3*a-3*r)*n+r*i)/6}((o-n/t)*t,r,i,a,s)}},function(e){var t,o,n=e.length,i=new Array(n),a=new Array(n),r=new Array(n);for(t=0;t<n;++t)o=Wa(e[t]),i[t]=o.r||0,a[t]=o.g||0,r[t]=o.b||0;return i=Rr(i),a=Rr(a),r=Rr(r),o.opacity=1,function(e){return o.r=i(e),o.g=a(e),o.b=r(e),o+""}});function kr(e,t){return t-=e=+e,function(o){return e+t*o}}var Tr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Dr=new RegExp(Tr.source,"g");function Lr(e,t){var o,n=typeof t;return null==t||"boolean"===n?yr(t):("number"===n?kr:"string"===n?(o=Pa(t))?(t=o,xr):function(e,t){var o,n,i,a=Tr.lastIndex=Dr.lastIndex=0,r=-1,s=[],l=[];for(e+="",t+="";(o=Tr.exec(e))&&(n=Dr.exec(t));)(i=n.index)>a&&(i=t.slice(a,i),s[r]?s[r]+=i:s[++r]=i),(o=o[0])===(n=n[0])?s[r]?s[r]+=n:s[++r]=n:(s[++r]=null,l.push({i:r,x:kr(o,n)})),a=Dr.lastIndex;return a<t.length&&(i=t.slice(a),s[r]?s[r]+=i:s[++r]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var o,n=0;n<t;++n)s[(o=l[n]).i]=o.x(e);return s.join("")})}:t instanceof Pa?xr:t instanceof Date?function(e,t){var o=new Date;return t-=e=+e,function(n){return o.setTime(e+t*n),o}}:Array.isArray(t)?function(e,t){var o,n=t?t.length:0,i=e?Math.min(n,e.length):0,a=new Array(i),r=new Array(n);for(o=0;o<i;++o)a[o]=Lr(e[o],t[o]);for(;o<n;++o)r[o]=t[o];return function(e){for(o=0;o<i;++o)r[o]=a[o](e);return r}}:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?function(e,t){var o,n={},i={};for(o in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)o in e?n[o]=Lr(e[o],t[o]):i[o]=t[o];return function(e){for(o in n)i[o]=n[o](e);return i}}:kr)(e,t)}function Sr(e,t){return t-=e=+e,function(o){return Math.round(e+t*o)}}Math.PI,Math.SQRT2;function _r(e){return function t(o){function n(t,n){var i=e((t=vr(t)).h,(n=vr(n)).h),a=Cr(t.s,n.s),r=Cr(t.l,n.l),s=Cr(t.opacity,n.opacity);return function(e){return t.h=i(e),t.s=a(e),t.l=r(Math.pow(e,o)),t.opacity=s(e),t+""}}return o=+o,n.gamma=t,n}(1)}_r(function(e,t){var o=t-e;return o?wr(e,o>180||o<-180?o-360*Math.round(o/360):o):yr(isNaN(e)?t:e)});var Ar=_r(Cr);function zr(e){return+e}var Hr=[0,1];function Nr(e){return e}function Fr(e,t){return(t-=e=+e)?function(o){return(o-e)/t}:(o=isNaN(t)?NaN:.5,function(){return o});var o}function Pr(e){var t,o=e[0],n=e[e.length-1];return o>n&&(t=o,o=n,n=t),function(e){return Math.max(o,Math.min(n,e))}}function jr(e,t,o){var n=e[0],i=e[1],a=t[0],r=t[1];return i<n?(n=Fr(i,n),a=o(r,a)):(n=Fr(n,i),a=o(a,r)),function(e){return a(n(e))}}function Ir(e,t,o){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),r=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++r<n;)i[r]=Fr(e[r],e[r+1]),a[r]=o(t[r],t[r+1]);return function(t){var o=ma(e,t,1,n)-1;return a[o](i[o](t))}}function Or(e,t){return function(){var e,t,o,n,i,a,r=Hr,s=Hr,l=Lr,c=Nr;function u(){return n=Math.min(r.length,s.length)>2?Ir:jr,i=a=null,d}function d(t){return isNaN(t=+t)?o:(i||(i=n(r.map(e),s,l)))(e(c(t)))}return d.invert=function(o){return c(t((a||(a=n(s,r.map(e),kr)))(o)))},d.domain=function(e){return arguments.length?(r=Array.from(e,zr),c===Nr||(c=Pr(r)),u()):r.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=Sr,u()},d.clamp=function(e){return arguments.length?(c=e?Pr(r):Nr,d):c!==Nr},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(o=e,d):o},function(o,n){return e=o,t=n,u()}}()(e,t)}function Wr(e,t){if((o=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var o,n=e.slice(0,o);return[n.length>1?n[0]+n.slice(2):n,+e.slice(o+1)]}function Br(e){return(e=Wr(Math.abs(e)))?e[1]:NaN}var Vr,$r=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gr(e){return new Ur(e)}function Ur(e){if(!(t=$r.exec(e)))throw new Error("invalid format: "+e);var t;this.fill=t[1]||" ",this.align=t[2]||">",this.sign=t[3]||"-",this.symbol=t[4]||"",this.zero=!!t[5],this.width=t[6]&&+t[6],this.comma=!!t[7],this.precision=t[8]&&+t[8].slice(1),this.trim=!!t[9],this.type=t[10]||""}function Yr(e,t){var o=Wr(e,t);if(!o)return e+"";var n=o[0],i=o[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}Gr.prototype=Ur.prototype,Ur.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var qr={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return Yr(100*e,t)},r:Yr,s:function(e,t){var o=Wr(e,t);if(!o)return e+"";var n=o[0],i=o[1],a=i-(Vr=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,r=n.length;return a===r?n:a>r?n+new Array(a-r+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Wr(e,Math.max(0,t+a-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function Xr(e){return e}var Jr,Kr,Zr,Qr=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function es(e){var t,o,n=e.grouping&&e.thousands?(t=e.grouping,o=e.thousands,function(e,n){for(var i=e.length,a=[],r=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(e.substring(i-=s,i+s)),!((l+=s+1)>n));)s=t[r=(r+1)%t.length];return a.reverse().join(o)}):Xr,i=e.currency,a=e.decimal,r=e.numerals?function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(e.numerals):Xr,s=e.percent||"%";function l(e){var t=(e=Gr(e)).fill,o=e.align,l=e.sign,c=e.symbol,u=e.zero,d=e.width,h=e.comma,f=e.precision,p=e.trim,m=e.type;"n"===m?(h=!0,m="g"):qr[m]||(null==f&&(f=12),p=!0,m="g"),(u||"0"===t&&"="===o)&&(u=!0,t="0",o="=");var g="$"===c?i[0]:"#"===c&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",v="$"===c?i[1]:/[%p]/.test(m)?s:"",b=qr[m],y=/[defgprs%]/.test(m);function w(e){var i,s,c,w=g,E=v;if("c"===m)E=b(e)+E,e="";else{var C=(e=+e)<0;if(e=b(Math.abs(e),f),p&&(e=function(e){e:for(var t,o=e.length,n=1,i=-1;n<o;++n)switch(e[n]){case".":i=t=n;break;case"0":0===i&&(i=n),t=n;break;default:if(i>0){if(!+e[n])break e;i=0}}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),C&&0==+e&&(C=!1),w=(C?"("===l?l:"-":"-"===l||"("===l?"":l)+w,E=("s"===m?Qr[8+Vr/3]:"")+E+(C&&"("===l?")":""),y)for(i=-1,s=e.length;++i<s;)if(48>(c=e.charCodeAt(i))||c>57){E=(46===c?a+e.slice(i+1):e.slice(i))+E,e=e.slice(0,i);break}}h&&!u&&(e=n(e,1/0));var x=w.length+e.length+E.length,R=x<d?new Array(d-x+1).join(t):"";switch(h&&u&&(e=n(R+e,R.length?d-E.length:1/0),R=""),o){case"<":e=w+e+E+R;break;case"=":e=w+R+e+E;break;case"^":e=R.slice(0,x=R.length>>1)+w+e+E+R.slice(x);break;default:e=R+w+e+E}return r(e)}return f=null==f?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,f)):Math.max(0,Math.min(20,f)),w.toString=function(){return e+""},w}return{format:l,formatPrefix:function(e,t){var o=l(((e=Gr(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor(Br(t)/3))),i=Math.pow(10,-n),a=Qr[8+n/3];return function(e){return o(i*e)+a}}}}function ts(e,t,o,n){var i,a=function(e,t,o){var n=Math.abs(t-e)/Math.max(0,o),i=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),a=n/i;return a>=ga?i*=10:a>=va?i*=5:a>=ba&&(i*=2),t<e?-i:i}(e,t,o);switch((n=Gr(null==n?",f":n)).type){case"s":var r=Math.max(Math.abs(e),Math.abs(t));return null!=n.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Br(t)/3)))-Br(Math.abs(e)))}(a,r))||(n.precision=i),Zr(n,r);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Br(t)-Br(e))+1}(a,Math.max(Math.abs(e),Math.abs(t))))||(n.precision=i-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(i=function(e){return Math.max(0,-Br(Math.abs(e)))}(a))||(n.precision=i-2*("%"===n.type))}return Kr(n)}function os(e){var t=e.domain;return e.ticks=function(e){var o=t();return function(e,t,o){var n,i,a,r,s=-1;if(o=+o,(e=+e)==(t=+t)&&o>0)return[e];if((n=t<e)&&(i=e,e=t,t=i),0===(r=ya(e,t,o))||!isFinite(r))return[];if(r>0)for(e=Math.ceil(e/r),t=Math.floor(t/r),a=new Array(i=Math.ceil(t-e+1));++s<i;)a[s]=(e+s)*r;else for(e=Math.floor(e*r),t=Math.ceil(t*r),a=new Array(i=Math.ceil(e-t+1));++s<i;)a[s]=(e-s)/r;return n&&a.reverse(),a}(o[0],o[o.length-1],null==e?10:e)},e.tickFormat=function(e,o){var n=t();return ts(n[0],n[n.length-1],null==e?10:e,o)},e.nice=function(o){null==o&&(o=10);var n,i=t(),a=0,r=i.length-1,s=i[a],l=i[r];return l<s&&(n=s,s=l,l=n,n=a,a=r,r=n),(n=ya(s,l,o))>0?n=ya(s=Math.floor(s/n)*n,l=Math.ceil(l/n)*n,o):n<0&&(n=ya(s=Math.ceil(s*n)/n,l=Math.floor(l*n)/n,o)),n>0?(i[a]=Math.floor(s/n)*n,i[r]=Math.ceil(l/n)*n,t(i)):n<0&&(i[a]=Math.ceil(s*n)/n,i[r]=Math.floor(l*n)/n,t(i)),e},e}Jr=es({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),Kr=Jr.format,Zr=Jr.formatPrefix;var ns=new Date,is=new Date;function as(e,t,o,n){function i(t){return e(t=new Date(+t)),t}return i.floor=i,i.ceil=function(o){return e(o=new Date(o-1)),t(o,1),e(o),o},i.round=function(e){var t=i(e),o=i.ceil(e);return e-t<o-e?t:o},i.offset=function(e,o){return t(e=new Date(+e),null==o?1:Math.floor(o)),e},i.range=function(o,n,a){var r,s=[];if(o=i.ceil(o),a=null==a?1:Math.floor(a),!(o<n&&a>0))return s;do{s.push(r=new Date(+o)),t(o,a),e(o)}while(r<o&&o<n);return s},i.filter=function(o){return as(function(t){if(t>=t)for(;e(t),!o(t);)t.setTime(t-1)},function(e,n){if(e>=e)if(n<0)for(;++n<=0;)for(;t(e,-1),!o(e););else for(;--n>=0;)for(;t(e,1),!o(e););})},o&&(i.count=function(t,n){return ns.setTime(+t),is.setTime(+n),e(ns),e(is),Math.floor(o(ns,is))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(n?function(t){return n(t)%e==0}:function(t){return i.count(0,t)%e==0}):i:null}),i}var rs=as(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});rs.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?as(function(t){t.setTime(Math.floor(t/e)*e)},function(t,o){t.setTime(+t+o*e)},function(t,o){return(o-t)/e}):rs:null};var ss=6e4,ls=6048e5,cs=(as(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+1e3*t)},function(e,t){return(t-e)/1e3},function(e){return e.getUTCSeconds()}),as(function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())},function(e,t){e.setTime(+e+t*ss)},function(e,t){return(t-e)/ss},function(e){return e.getMinutes()}),as(function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-e.getMinutes()*ss)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5},function(e){return e.getHours()}),as(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ss)/864e5},function(e){return e.getDate()-1}));function us(e){return as(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ss)/ls})}var ds=us(0),hs=us(1),fs=(us(2),us(3),us(4)),ps=(us(5),us(6),as(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()}),as(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()}));ps.every=function(e){return isFinite(e=Math.floor(e))&&e>0?as(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,o){t.setFullYear(t.getFullYear()+o*e)}):null};as(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*ss)},function(e,t){return(t-e)/ss},function(e){return e.getUTCMinutes()}),as(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5},function(e){return e.getUTCHours()});var ms=as(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5},function(e){return e.getUTCDate()-1});function gs(e){return as(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/ls})}var vs=gs(0),bs=gs(1),ys=(gs(2),gs(3),gs(4)),ws=(gs(5),gs(6),as(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()}),as(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()}));function Es(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Cs(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function xs(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}ws.every=function(e){return isFinite(e=Math.floor(e))&&e>0?as(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,o){t.setUTCFullYear(t.getUTCFullYear()+o*e)}):null};var Rs,Ms,ks,Ts={"-":"",_:" ",0:"0"},Ds=/^\s*\d+/,Ls=/^%/,Ss=/[\\^$*+?|[\]().{}]/g;function _s(e,t,o){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<o?new Array(o-a+1).join(t)+i:i)}function As(e){return e.replace(Ss,"\\$&")}function zs(e){return new RegExp("^(?:"+e.map(As).join("|")+")","i")}function Hs(e){for(var t={},o=-1,n=e.length;++o<n;)t[e[o].toLowerCase()]=o;return t}function Ns(e,t,o){var n=Ds.exec(t.slice(o,o+1));return n?(e.w=+n[0],o+n[0].length):-1}function Fs(e,t,o){var n=Ds.exec(t.slice(o,o+1));return n?(e.u=+n[0],o+n[0].length):-1}function Ps(e,t,o){var n=Ds.exec(t.slice(o,o+2));return n?(e.U=+n[0],o+n[0].length):-1}function js(e,t,o){var n=Ds.exec(t.slice(o,o+2));return n?(e.V=+n[0],o+n[0].length):-1}function Is(e,t,o){var n=Ds.exec(t.slice(o,o+2));return n?(e.W=+n[0],o+n[0].length):-1}function Os(e,t,o){var n=Ds.exec(t.slice(o,o+4));return n?(e.y=+n[0],o+n[0].length):-1}function Ws(e,t,o){var n=Ds.exec(t.slice(o,o+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),o+n[0].length):-1}function Bs(e,t,o){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(o,o+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),o+n[0].length):-1}function Vs(e,t,o){var n=Ds.exec(t.slice(o,o+2));return n?(e.m=n[0]-1,o+n[0].length):-1}function $s(e,t,o){var n=Ds.exec(t.slice(o,o+2));return n?(e.d=+n[0],o+n[0].length):-1}function Gs(e,t,o){var n=Ds.exec(t.slice(o,o+3));return n?(e.m=0,e.d=+n[0],o+n[0].length):-1}function Us(e,t,o){var n=Ds.exec(t.slice(o,o+2));return n?(e.H=+n[0],o+n[0].length):-1}function Ys(e,t,o){var n=Ds.exec(t.slice(o,o+2));return n?(e.M=+n[0],o+n[0].length):-1}function qs(e,t,o){var n=Ds.exec(t.slice(o,o+2));return n?(e.S=+n[0],o+n[0].length):-1}function Xs(e,t,o){var n=Ds.exec(t.slice(o,o+3));return n?(e.L=+n[0],o+n[0].length):-1}function Js(e,t,o){var n=Ds.exec(t.slice(o,o+6));return n?(e.L=Math.floor(n[0]/1e3),o+n[0].length):-1}function Ks(e,t,o){var n=Ls.exec(t.slice(o,o+1));return n?o+n[0].length:-1}function Zs(e,t,o){var n=Ds.exec(t.slice(o));return n?(e.Q=+n[0],o+n[0].length):-1}function Qs(e,t,o){var n=Ds.exec(t.slice(o));return n?(e.Q=1e3*+n[0],o+n[0].length):-1}function el(e,t){return _s(e.getDate(),t,2)}function tl(e,t){return _s(e.getHours(),t,2)}function ol(e,t){return _s(e.getHours()%12||12,t,2)}function nl(e,t){return _s(1+cs.count(ps(e),e),t,3)}function il(e,t){return _s(e.getMilliseconds(),t,3)}function al(e,t){return il(e,t)+"000"}function rl(e,t){return _s(e.getMonth()+1,t,2)}function sl(e,t){return _s(e.getMinutes(),t,2)}function ll(e,t){return _s(e.getSeconds(),t,2)}function cl(e){var t=e.getDay();return 0===t?7:t}function ul(e,t){return _s(ds.count(ps(e),e),t,2)}function dl(e,t){var o=e.getDay();return e=o>=4||0===o?fs(e):fs.ceil(e),_s(fs.count(ps(e),e)+(4===ps(e).getDay()),t,2)}function hl(e){return e.getDay()}function fl(e,t){return _s(hs.count(ps(e),e),t,2)}function pl(e,t){return _s(e.getFullYear()%100,t,2)}function ml(e,t){return _s(e.getFullYear()%1e4,t,4)}function gl(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+_s(t/60|0,"0",2)+_s(t%60,"0",2)}function vl(e,t){return _s(e.getUTCDate(),t,2)}function bl(e,t){return _s(e.getUTCHours(),t,2)}function yl(e,t){return _s(e.getUTCHours()%12||12,t,2)}function wl(e,t){return _s(1+ms.count(ws(e),e),t,3)}function El(e,t){return _s(e.getUTCMilliseconds(),t,3)}function Cl(e,t){return El(e,t)+"000"}function xl(e,t){return _s(e.getUTCMonth()+1,t,2)}function Rl(e,t){return _s(e.getUTCMinutes(),t,2)}function Ml(e,t){return _s(e.getUTCSeconds(),t,2)}function kl(e){var t=e.getUTCDay();return 0===t?7:t}function Tl(e,t){return _s(vs.count(ws(e),e),t,2)}function Dl(e,t){var o=e.getUTCDay();return e=o>=4||0===o?ys(e):ys.ceil(e),_s(ys.count(ws(e),e)+(4===ws(e).getUTCDay()),t,2)}function Ll(e){return e.getUTCDay()}function Sl(e,t){return _s(bs.count(ws(e),e),t,2)}function _l(e,t){return _s(e.getUTCFullYear()%100,t,2)}function Al(e,t){return _s(e.getUTCFullYear()%1e4,t,4)}function zl(){return"+0000"}function Hl(){return"%"}function Nl(e){return+e}function Fl(e){return Math.floor(+e/1e3)}!function(e){Rs=function(e){var t=e.dateTime,o=e.date,n=e.time,i=e.periods,a=e.days,r=e.shortDays,s=e.months,l=e.shortMonths,c=zs(i),u=Hs(i),d=zs(a),h=Hs(a),f=zs(r),p=Hs(r),m=zs(s),g=Hs(s),v=zs(l),b=Hs(l),y={a:function(e){return r[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:el,e:el,f:al,H:tl,I:ol,j:nl,L:il,m:rl,M:sl,p:function(e){return i[+(e.getHours()>=12)]},Q:Nl,s:Fl,S:ll,u:cl,U:ul,V:dl,w:hl,W:fl,x:null,X:null,y:pl,Y:ml,Z:gl,"%":Hl},w={a:function(e){return r[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:vl,e:vl,f:Cl,H:bl,I:yl,j:wl,L:El,m:xl,M:Rl,p:function(e){return i[+(e.getUTCHours()>=12)]},Q:Nl,s:Fl,S:Ml,u:kl,U:Tl,V:Dl,w:Ll,W:Sl,x:null,X:null,y:_l,Y:Al,Z:zl,"%":Hl},E={a:function(e,t,o){var n=f.exec(t.slice(o));return n?(e.w=p[n[0].toLowerCase()],o+n[0].length):-1},A:function(e,t,o){var n=d.exec(t.slice(o));return n?(e.w=h[n[0].toLowerCase()],o+n[0].length):-1},b:function(e,t,o){var n=v.exec(t.slice(o));return n?(e.m=b[n[0].toLowerCase()],o+n[0].length):-1},B:function(e,t,o){var n=m.exec(t.slice(o));return n?(e.m=g[n[0].toLowerCase()],o+n[0].length):-1},c:function(e,o,n){return R(e,t,o,n)},d:$s,e:$s,f:Js,H:Us,I:Us,j:Gs,L:Xs,m:Vs,M:Ys,p:function(e,t,o){var n=c.exec(t.slice(o));return n?(e.p=u[n[0].toLowerCase()],o+n[0].length):-1},Q:Zs,s:Qs,S:qs,u:Fs,U:Ps,V:js,w:Ns,W:Is,x:function(e,t,n){return R(e,o,t,n)},X:function(e,t,o){return R(e,n,t,o)},y:Ws,Y:Os,Z:Bs,"%":Ks};function C(e,t){return function(o){var n,i,a,r=[],s=-1,l=0,c=e.length;for(o instanceof Date||(o=new Date(+o));++s<c;)37===e.charCodeAt(s)&&(r.push(e.slice(l,s)),null!=(i=Ts[n=e.charAt(++s)])?n=e.charAt(++s):i="e"===n?" ":"0",(a=t[n])&&(n=a(o,i)),r.push(n),l=s+1);return r.push(e.slice(l,s)),r.join("")}}function x(e,t){return function(o){var n,i,a=xs(1900);if(R(a,e,o+="",0)!=o.length)return null;if("Q"in a)return new Date(a.Q);if("p"in a&&(a.H=a.H%12+12*a.p),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(n=Cs(xs(a.y))).getUTCDay(),n=i>4||0===i?bs.ceil(n):bs(n),n=ms.offset(n,7*(a.V-1)),a.y=n.getUTCFullYear(),a.m=n.getUTCMonth(),a.d=n.getUTCDate()+(a.w+6)%7):(i=(n=t(xs(a.y))).getDay(),n=i>4||0===i?hs.ceil(n):hs(n),n=cs.offset(n,7*(a.V-1)),a.y=n.getFullYear(),a.m=n.getMonth(),a.d=n.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?Cs(xs(a.y)).getUTCDay():t(xs(a.y)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,Cs(a)):t(a)}}function R(e,t,o,n){for(var i,a,r=0,s=t.length,l=o.length;r<s;){if(n>=l)return-1;if(37===(i=t.charCodeAt(r++))){if(i=t.charAt(r++),!(a=E[i in Ts?t.charAt(r++):i])||(n=a(e,o,n))<0)return-1}else if(i!=o.charCodeAt(n++))return-1}return n}return y.x=C(o,y),y.X=C(n,y),y.c=C(t,y),w.x=C(o,w),w.X=C(n,w),w.c=C(t,w),{format:function(e){var t=C(e+="",y);return t.toString=function(){return e},t},parse:function(e){var t=x(e+="",Es);return t.toString=function(){return e},t},utcFormat:function(e){var t=C(e+="",w);return t.toString=function(){return e},t},utcParse:function(e){var t=x(e,Cs);return t.toString=function(){return e},t}}}(e),Rs.format,Rs.parse,Ms=Rs.utcFormat,ks=Rs.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Date.prototype.toISOString||Ms("%Y-%m-%dT%H:%M:%S.%LZ");+new Date("2000-01-01T00:00:00.000Z")||ks("%Y-%m-%dT%H:%M:%S.%LZ");function Pl(e){for(var t=e.length/6|0,o=new Array(t),n=0;n<t;)o[n]="#"+e.slice(6*n,6*++n);return o}Pl("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Pl("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Pl("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666");var jl=Pl("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function Il(e){return Mr(e[e.length-1])}Pl("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Pl("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Pl("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Pl("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Pl("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Il(new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Pl)),Il(new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Pl)),Il(new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Pl)),Il(new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Pl)),Il(new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Pl)),Il(new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Pl)),Il(new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Pl)),Il(new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Pl)),Il(new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Pl)),Il(new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Pl)),Il(new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Pl)),Il(new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Pl)),Il(new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Pl)),Il(new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Pl)),Il(new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Pl)),Il(new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Pl)),Il(new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Pl)),Il(new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Pl)),Il(new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Pl)),Il(new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Pl)),Il(new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Pl)),Il(new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Pl)),Il(new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Pl)),Il(new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Pl)),Il(new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Pl)),Il(new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Pl)),Il(new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Pl)),Ar(vr(300,.5,0),vr(-240,.5,1));Ar(vr(-100,.75,.35),vr(80,1.5,.8)),Ar(vr(260,.75,.35),vr(80,1.5,.8)),vr(),Wa(),Math.PI,Math.PI;function Ol(e){var t=e.length;return function(o){return e[Math.max(0,Math.min(t-1,Math.floor(o*t)))]}}Ol(Pl("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));Ol(Pl("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Ol(Pl("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Ol(Pl("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));var Wl=function(e,t){return vn(e,t)};function Bl(e){var o;return{c(){(o=g("div")).id="cloud"},m(e,t){p(e,o,t)},p:t,i:t,o:t,d(e){e&&m(o)}}}function Vl(e,t,o){const n=function e(){var t=new Map,o=[],n=[],i=Ea;function a(e){var a=e+"",r=t.get(a);if(!r){if(i!==Ea)return i;t.set(a,r=o.push(e))}return n[(r-1)%n.length]}return a.domain=function(e){if(!arguments.length)return o.slice();o=[],t=new Map;for(const n of e){const e=n+"";t.has(e)||t.set(e,o.push(n))}return a},a.range=function(e){return arguments.length?(n=Array.from(e),a):n.slice()},a.unknown=function(e){return arguments.length?(i=e,a):i},a.copy=function(){return e(o,n).unknown(i)},wa.apply(a,arguments),a}(jl),i=window.innerWidth,a=window.innerHeight;let{words:r}=t,s=r,{width:l=.9*i,height:c=.9*a}=t;function u(e){da("#cloud").selectAll("svg").remove(),da("#cloud").append("svg").attr("width",l).attr("height",c).append("g").attr("transform","translate("+l/2+","+c/2+")").selectAll("text").data(e).enter().append("text").style("font-size",function(e){return e.size+"px"}).style("font-family","Impact").attr("text-anchor","middle").attr("transform",function(e){return"translate("+[e.x,e.y]+")rotate("+e.rotate+")"}).text(function(e){return e.text}).style("fill",function(e,t){return n(t)})}function d(e){const t=function e(){var t=Or(Nr,Nr);return t.copy=function(){return o=t,e().domain(o.domain()).range(o.range()).interpolate(o.interpolate()).clamp(o.clamp()).unknown(o.unknown());var o},wa.apply(t,arguments),os(t)}().domain([0,100]).range([14,200]);gi().size([l,c]).words(e).padding(5).rotate(function(){return 90*~~(2*Math.random())}).font("Impact").fontSize(function(e){return t(e.size)}).on("end",u).start()}return T(async()=>{d(r)}),e.$set=(e=>{"words"in e&&o("words",r=e.words),"width"in e&&o("width",l=e.width),"height"in e&&o("height",c=e.height)}),e.$$.update=((e={words:1,lastWords:1})=>{(e.words||e.lastWords)&&(Wl(r,s)||(o("lastWords",s=r),d(r)))}),{words:r,width:l,height:c}}class $l extends Y{constructor(e){super(),U(this,e,Vl,Bl,s,["words","width","height"])}}var Gl=Q(function(e,t){e.exports=function(e){var t,o,n=document,i=n.createElement("div"),a=i.style,r=navigator.userAgent,s=-1!==r.indexOf("Firefox")&&-1!==r.indexOf("Mobile"),l=e.debounceWaitMs||0,c=s?"input":"keyup",u=[],d="",h=e.minLength||2,f=0;if(!e.input)throw new Error("input undefined");var p=e.input;function m(){o&&window.clearTimeout(o)}function g(){return!!i.parentNode}function v(){var e;f++,u=[],d="",t=void 0,(e=i.parentNode)&&e.removeChild(i)}function b(){for(;i.firstChild;)i.removeChild(i.firstChild);var o=function(e,t){var o=n.createElement("div");return o.textContent=e.label||"",o};e.render&&(o=e.render);var r=function(e,t){var o=n.createElement("div");return o.textContent=e,o};e.renderGroup&&(r=e.renderGroup);var s=n.createDocumentFragment(),l="#9?$";if(u.forEach(function(n){if(n.group&&n.group!==l){l=n.group;var i=r(n.group,d);i&&(i.className+=" group",s.appendChild(i))}var a=o(n,d);a&&(a.addEventListener("click",function(t){e.onSelect(n,p),v(),t.preventDefault(),t.stopPropagation()}),n===t&&(a.className+=" selected"),s.appendChild(a))}),i.appendChild(s),u.length<1){if(!e.emptyMsg)return void v();var c=n.createElement("div");c.className="empty",c.textContent=e.emptyMsg,i.appendChild(c)}i.parentNode||n.body.appendChild(i),function(){if(g()){a.height="auto",a.width=p.offsetWidth+"px";var t=p.getBoundingClientRect(),o=t.top+p.offsetHeight,n=window.innerHeight-o;n<0&&(n=0),a.top=o+"px",a.bottom="",a.left=t.left+"px",a.maxHeight=n+"px",e.customize&&e.customize(p,t,i,n)}}(),function(){var e=i.getElementsByClassName("selected");if(e.length>0){var t=e[0],o=t.previousElementSibling;if(o&&-1!==o.className.indexOf("group")&&!o.previousElementSibling&&(t=o),t.offsetTop<i.scrollTop)i.scrollTop=t.offsetTop;else{var n=t.offsetTop+t.offsetHeight,a=i.scrollTop+i.offsetHeight;n>a&&(i.scrollTop+=n-a)}}}()}function y(){g()&&b()}function w(){y()}function E(e){e.target!==i?y():e.preventDefault()}function C(n){for(var i=n.which||n.keyCode||0,a=0,r=[38,13,27,39,37,16,17,18,20,91,9];a<r.length;a++){var s=r[a];if(i===s)return}if(40!==i||!g()){var c=++f,y=p.value;y.length>=h?(m(),o=window.setTimeout(function(){e.fetch(y,function(e){f===c&&e&&(d=y,t=(u=e).length>0?u[0]:void 0,b())})},l)):v()}}function x(o){var n=o.which||o.keyCode||0;if(38===n||40===n||27===n){var i=g();if(27===n)v();else{if(!g||u.length<1)return;38===n?function(){if(u.length<1)t=void 0;else if(t===u[0])t=u[u.length-1];else for(var e=u.length-1;e>0;e--)if(t===u[e]||1===e){t=u[e-1];break}}():function(){if(u.length<1&&(t=void 0),t&&t!==u[u.length-1]){for(var e=0;e<u.length-1;e++)if(t===u[e]){t=u[e+1];break}}else t=u[0]}(),b()}return o.preventDefault(),void(i&&o.stopPropagation())}13===n&&t&&(e.onSelect(t,p),v())}function R(){setTimeout(function(){n.activeElement!==p&&v()},200)}return i.className="autocomplete "+(e.className||""),a.position="fixed",p.addEventListener("keydown",x),p.addEventListener(c,C),p.addEventListener("blur",R),window.addEventListener("resize",w),n.addEventListener("scroll",E,!0),{destroy:function(){p.removeEventListener("keydown",x),p.removeEventListener(c,C),p.removeEventListener("blur",R),window.removeEventListener("resize",w),n.removeEventListener("scroll",E,!0),m(),v(),f++}}}});var Ul=function(e,t){return Nn(t,function(t){return e[t]})};var Yl=function(e){return null==e?[]:Ul(e,qo(e))},ql=function(){try{var e=mt(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();var Xl=function(e,t,o){"__proto__"==t&&ql?ql(e,t,{configurable:!0,enumerable:!0,value:o,writable:!0}):e[t]=o};var Jl=function(e,t,o,n){for(var i=-1,a=null==e?0:e.length;++i<a;){var r=e[i];t(n,r,o(r),e)}return n};var Kl=function(e){return function(t,o,n){for(var i=-1,a=Object(t),r=n(t),s=r.length;s--;){var l=r[e?s:++i];if(!1===o(a[l],l,a))break}return t}}();var Zl=function(e,t){return function(o,n){if(null==o)return o;if(!xe(o))return e(o,n);for(var i=o.length,a=t?i:-1,r=Object(o);(t?a--:++a<i)&&!1!==n(r[a],a,r););return o}}(function(e,t){return e&&Kl(e,t,qo)});var Ql=function(e,t,o,n){return Zl(e,function(e,i,a){t(n,e,o(e),a)}),n};var ec=function(e,t){return function(o,n){var i=yo(o)?Jl:Ql,a=t?t():{};return i(o,e,oi(n,2),a)}};function tc(e,o=t){let n;const i=[];function a(t){if(s(e,t)){if(e=t,!n)return;i.forEach(e=>e[1]()),i.forEach(t=>t[0](e))}}return{set:a,update:function(t){a(t(e))},subscribe:function(r,s=t){const l=[r,s];return i.push(l),1===i.length&&(n=o(a)||t),r(e),()=>{const e=i.indexOf(l);-1!==e&&i.splice(e,1),0===i.length&&n()}}}}function oc(e,o,n){const i=!Array.isArray(e),s=i?[e]:e,l=o.length<2;return{subscribe:tc(n,e=>{let n=!1;const c=[];let u=0,d=t;const h=()=>{if(u)return;d();const n=o(i?c[0]:c,e);l?e(n):d=r(n)?n:t},f=s.map((e,t)=>e.subscribe(e=>{c[t]=e,u&=~(1<<t),n&&h()},()=>{u|=1<<t}));return n=!0,h(),function(){a(f),d()}}).subscribe}}const nc={},ic={};function ac(e){return{...e.location,state:e.history.state,key:e.history.state&&e.history.state.key||"initial"}}const rc=function(e,t){const o=[];let n=ac(e);return{get location(){return n},listen(t){o.push(t);const i=()=>{n=ac(e),t({location:n,action:"POP"})};return e.addEventListener("popstate",i),()=>{e.removeEventListener("popstate",i);const n=o.indexOf(t);o.splice(n,1)}},navigate(t,{state:i,replace:a=!1}={}){i={...i,key:Date.now()+""};try{a?e.history.replaceState(i,null,t):e.history.pushState(i,null,t)}catch(o){e.location[a?"replace":"assign"](t)}n=ac(e),o.forEach(e=>e({location:n,action:"PUSH"}))}}}(Boolean("undefined"!=typeof window&&window.document&&window.document.createElement)?window:function(e="/"){let t=0;const o=[{pathname:e,search:""}],n=[];return{get location(){return o[t]},addEventListener(e,t){},removeEventListener(e,t){},history:{get entries(){return o},get index(){return t},get state(){return n[t]},pushState(e,i,a){const[r,s=""]=a.split("?");t++,o.push({pathname:r,search:s}),n.push(e)},replaceState(e,i,a){const[r,s=""]=a.split("?");o[t]={pathname:r,search:s},n[t]=e}}}}()),{navigate:sc}=rc,lc=/^:(.+)/,cc=4,uc=3,dc=2,hc=1,fc=1;function pc(e){return"*"===e[0]}function mc(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function gc(e){return e.replace(/(^\/+|\/+$)/g,"")}function vc(e,t){return{route:e,score:e.default?0:mc(e.path).reduce((e,t)=>(e+=cc,!function(e){return""===e}(t)?!function(e){return lc.test(e)}(t)?pc(t)?e-=cc+hc:e+=uc:e+=dc:e+=fc,e),0),index:t}}function bc(e,t){let o,n;const[i]=t.split("?"),a=mc(i),r=""===a[0],s=function(e){return e.map(vc).sort((e,t)=>e.score<t.score?1:e.score>t.score?-1:e.index-t.index)}(e);for(let e=0,i=s.length;e<i;e++){const i=s[e].route;let l=!1;if(i.default){n={route:i,params:{},uri:t};continue}const c=mc(i.path),u={},d=Math.max(a.length,c.length);let h=0;for(;h<d;h++){const e=c[h],t=a[h];if(void 0!==e&&pc(e)){u["*"===e?"*":e.slice(1)]=a.slice(h).map(decodeURIComponent).join("/");break}if(void 0===t){l=!0;break}let o=lc.exec(e);if(o&&!r){const e=decodeURIComponent(t);u[o[1]]=e}else if(e!==t){l=!0;break}}if(!l){o={route:i,params:u,uri:"/"+a.slice(0,h).join("/")};break}}return o||n||null}function yc(e,t){return`${gc("/"===t?e:`${gc(e)}/${gc(t)}`)}/`}function wc(e){var t;const o=e.$$slots.default,n=c(o,e,null);return{c(){n&&n.c()},l(e){n&&n.l(e)},m(e,o){n&&n.m(e,o),t=!0},p(e,t){n&&n.p&&e.$$scope&&n.p(d(o,t,e,null),u(o,t,null))},i(e){t||(n&&n.i&&n.i(e),t=!0)},o(e){n&&n.o&&n.o(e),t=!1},d(e){n&&n.d(e)}}}function Ec(e,t,o){let n,i,a,{basepath:r="/",url:s=null}=t;const c=L(nc),u=L(ic),d=tc([]);l(e,d,e=>{o("$routes",a=e)});const h=tc(null);let f=!1;const p=c||tc(s?{pathname:s}:rc.location);l(e,p,e=>{o("$location",i=e)});const m=u?u.routerBase:tc({path:r,uri:r});l(e,m,e=>{o("$base",n=e)});const g=oc([m,h],([e,t])=>{if(null===t)return e;const{path:o}=e,{route:n,uri:i}=t;return{path:n.default?o:n.path.replace(/\*.*$/,""),uri:i}});c||(T(()=>{return rc.listen(e=>{p.set(e.location)})}),D(nc,p)),D(ic,{activeRoute:h,base:m,routerBase:g,registerRoute:function(e){const{path:t}=n;let{path:a}=e;if(e._path=a,e.path=yc(t,a),"undefined"==typeof window){if(f)return;const t=function(e,t){return bc([e],t)}(e,i.pathname);t&&(h.set(t),o("hasActiveRoute",f=!0))}else d.update(t=>(t.push(e),t))},unregisterRoute:function(e){d.update(t=>{const o=t.indexOf(e);return t.splice(o,1),t})}});let{$$slots:v={},$$scope:b}=t;return e.$set=(e=>{"basepath"in e&&o("basepath",r=e.basepath),"url"in e&&o("url",s=e.url),"$$scope"in e&&o("$$scope",b=e.$$scope)}),e.$$.update=((e={$base:1,$routes:1,$location:1})=>{if(e.$base){const{path:e}=n;d.update(t=>(t.forEach(t=>t.path=yc(e,t._path)),t))}if(e.$routes||e.$location){const e=bc(a,i.pathname);h.set(e)}}),{basepath:r,url:s,routes:d,location:p,base:m,$$slots:v,$$scope:b}}class Cc extends Y{constructor(e){super(),U(this,e,Ec,wc,s,["basepath","url"])}}function xc(e){var t,o,n,i,a=[Mc,Rc],r=[];function s(e){return null!==e.component?0:1}return t=s(e),o=r[t]=a[t](e),{c(){o.c(),n=y()},m(e,o){r[t].m(e,o),p(e,n,o),i=!0},p(e,i){var l=t;(t=s(i))===l?r[t].p(e,i):(O(),B(()=>{r[l].d(1),r[l]=null}),o.o(1),W(),(o=r[t])||(o=r[t]=a[t](i)).c(),o.i(1),o.m(n.parentNode,n))},i(e){i||(o&&o.i(),i=!0)},o(e){o&&o.o(),i=!1},d(e){r[t].d(e),e&&m(n)}}}function Rc(e){var t;const o=e.$$slots.default,n=c(o,e,null);return{c(){n&&n.c()},l(e){n&&n.l(e)},m(e,o){n&&n.m(e,o),t=!0},p(e,t){n&&n.p&&e.$$scope&&n.p(d(o,t,e,null),u(o,t,null))},i(e){t||(n&&n.i&&n.i(e),t=!0)},o(e){n&&n.o&&n.o(e),t=!1},d(e){n&&n.d(e)}}}function Mc(e){var t,n,i=[e.routeParams,e.routeProps],a=e.component;function r(e){let t={};for(var n=0;n<i.length;n+=1)t=o(t,i[n]);return{props:t}}if(a)var s=new a(r());return{c(){s&&s.$$.fragment.c(),t=y()},m(e,o){s&&$(s,e,o),p(e,t,o),n=!0},p(e,o){var n=e.routeParams||e.routeProps?function(e,t){const o={},n={},i={$$scope:1};let a=e.length;for(;a--;){const r=e[a],s=t[a];if(s){for(const e in r)e in s||(n[e]=1);for(const e in s)i[e]||(o[e]=s[e],i[e]=1);e[a]=s}else for(const e in r)i[e]=1}for(const e in n)e in o||(o[e]=void 0);return o}(i,[e.routeParams&&o.routeParams,e.routeProps&&o.routeProps]):{};if(a!==(a=o.component)){if(s){O();const e=s;B(()=>{e.$destroy()}),e.$$.fragment.o(1),W()}a?((s=new a(r())).$$.fragment.c(),s.$$.fragment.i(1),$(s,t.parentNode,t)):s=null}else a&&s.$set(n)},i(e){n||(s&&s.$$.fragment.i(e),n=!0)},o(e){s&&s.$$.fragment.o(e),n=!1},d(e){e&&m(t),s&&s.$destroy(e)}}}function kc(e){var t,o,n=null!==e.$activeRoute&&e.$activeRoute.route===e.route&&xc(e);return{c(){n&&n.c(),t=y()},m(e,i){n&&n.m(e,i),p(e,t,i),o=!0},p(e,o){null!==o.$activeRoute&&o.$activeRoute.route===o.route?n?(n.p(e,o),n.i(1)):((n=xc(o)).c(),n.i(1),n.m(t.parentNode,t)):n&&(O(),B(()=>{n.d(1),n=null}),n.o(1),W())},i(e){o||(n&&n.i(),o=!0)},o(e){n&&n.o(),o=!1},d(e){n&&n.d(e),e&&m(t)}}}function Tc(e,t,n){let i,{path:a="",component:r=null}=t;const{registerRoute:s,unregisterRoute:c,activeRoute:u}=L(ic);l(e,u,e=>{n("$activeRoute",i=e)});const d={path:a,default:""===a};let f={},p={};var m;s(d),"undefined"!=typeof window&&(m=(()=>{c(d)}),k().$$.on_destroy.push(m));let{$$slots:g={},$$scope:v}=t;return e.$set=(e=>{n("$$props",t=o(o({},t),e)),"path"in t&&n("path",a=t.path),"component"in t&&n("component",r=t.component),"$$scope"in e&&n("$$scope",v=e.$$scope)}),e.$$.update=((e={$activeRoute:1,$$props:1})=>{e.$activeRoute&&i&&i.route===d&&n("routeParams",f=i.params);{const{path:e,component:o,...i}=t;n("routeProps",p=i)}}),{path:a,component:r,activeRoute:u,route:d,routeParams:f,routeProps:p,$activeRoute:i,$$props:t=h(t),$$slots:g,$$scope:v}}class Dc extends Y{constructor(e){super(),U(this,e,Tc,kc,s,["path","component"])}}function Lc(e){var o;return{c(){(o=g("input")).id="appSearch",E(o,"type","text"),o.value="",o.className="appSearch svelte-1xn52kn",o.placeholder="Search for an App...",o.autocomplete="off",E(o,"autocorrect","off"),E(o,"autocapitalize","off"),o.spellcheck="false"},m(e,t){p(e,o,t)},p:t,i:t,o:t,d(e){e&&m(o)}}}function Sc(e,t,o){let{selectedApp:n=(()=>null)}=t;return T(()=>{var e=document.getElementById("appSearch");Gl({input:e,fetch:async function(e,t){e=e.toLowerCase();let o=encodeURI(e),n=await fetch(`https://cors-anywhere.herokuapp.com/https://itunes.apple.com/search?term=${o}&entity=software`),i=(await n.json()).results.map(e=>({id:e.trackId,name:e.trackName,link:e.trackViewUrl,currentVersionRatingCount:e.userRatingCountForCurrentVersion,currentVersionRating:e.averageUserRatingForCurrentVersion,appRating:e.averageUserRating,appRatingCount:e.userRatingCount,appPrice:e.formattedPrice}));t(Yl(i).map(e=>({value:e.id,label:e.name,appRatingCount:e.appRatingCount})))},onSelect:function(t){e.value=t.label,sc(`${t.value}`)}})}),e.$set=(e=>{"selectedApp"in e&&o("selectedApp",n=e.selectedApp)}),{selectedApp:n}}class _c extends Y{constructor(e){super(),U(this,e,Sc,Lc,s,["selectedApp"])}}function Ac(e){var o;return{c(){(o=g("p")).textContent="Loading..."},m(e,t){p(e,o,t)},p:t,d(e){e&&m(o)}}}function zc(e){var t,o,n,i,a=e.currentApp.currentVersionRating;return{c(){t=g("h3"),o=v(a),n=b(),(i=g("small")).textContent="Stars",t.className="card-title"},m(e,a){p(e,t,a),f(t,o),f(t,n),f(t,i)},p(e,t){e.currentApp&&a!==(a=t.currentApp.currentVersionRating)&&C(o,a)},d(e){e&&m(t)}}}function Hc(e){var o;return{c(){(o=g("p")).textContent="Loading..."},m(e,t){p(e,o,t)},p:t,d(e){e&&m(o)}}}function Nc(e){var t,o,n,i,a=e.currentApp.currentVersionRatingCount;return{c(){t=g("p"),o=v("Out of "),n=v(a),i=v(" Reviews."),t.className="card-category"},m(e,a){p(e,t,a),f(t,o),f(t,n),f(t,i)},p(e,t){e.currentApp&&a!==(a=t.currentApp.currentVersionRatingCount)&&C(n,a)},d(e){e&&m(t)}}}function Fc(e){var o;return{c(){(o=g("p")).textContent="Loading..."},m(e,t){p(e,o,t)},p:t,d(e){e&&m(o)}}}function Pc(e){var t,o,n,i,a=e.currentApp.appRating;return{c(){t=g("h3"),o=v(a),n=b(),(i=g("small")).textContent="Stars",t.className="card-title"},m(e,a){p(e,t,a),f(t,o),f(t,n),f(t,i)},p(e,t){e.currentApp&&a!==(a=t.currentApp.appRating)&&C(o,a)},d(e){e&&m(t)}}}function jc(e){var o;return{c(){(o=g("p")).textContent="Loading..."},m(e,t){p(e,o,t)},p:t,d(e){e&&m(o)}}}function Ic(e){var t,o,n,i,a=e.currentApp.appRatingCount;return{c(){t=g("p"),o=v("Out of "),n=v(a),i=v(" Reviews."),t.className="card-category"},m(e,a){p(e,t,a),f(t,o),f(t,n),f(t,i)},p(e,t){e.currentApp&&a!==(a=t.currentApp.appRatingCount)&&C(n,a)},d(e){e&&m(t)}}}function Oc(e){var o;return{c(){(o=g("h3")).textContent="Loading...",o.className="card-category"},m(e,t){p(e,o,t)},p:t,d(e){e&&m(o)}}}function Wc(e){var t,o,n=e.currentAppReviewsSentiment.toString().substring(0,6);return{c(){t=g("h3"),o=v(n),t.className="card-title"},m(e,n){p(e,t,n),f(t,o)},p(e,t){e.currentAppReviewsSentiment&&n!==(n=t.currentAppReviewsSentiment.toString().substring(0,6))&&C(o,n)},d(e){e&&m(t)}}}function Bc(e){var o;return{c(){(o=g("p")).textContent="Loading..."},m(e,t){p(e,o,t)},p:t,d(e){e&&m(o)}}}function Vc(e){var t,o,n,i,a=e.currentApp.appRatingCount;return{c(){t=g("p"),o=v("Out of "),n=v(a),i=v(" Reviews."),t.className="card-category"},m(e,a){p(e,t,a),f(t,o),f(t,n),f(t,i)},p(e,t){e.currentApp&&a!==(a=t.currentApp.appRatingCount)&&C(n,a)},d(e){e&&m(t)}}}function $c(e){var o;return{c(){(o=g("p")).textContent="Loading..."},m(e,t){p(e,o,t)},p:t,d(e){e&&m(o)}}}function Gc(e){var t,o,n,i,a,r=e.currentApp.name.substring(0,20),s=e.currentApp.appPrice;return{c(){t=g("p"),o=v(r),n=b(),i=g("h3"),a=v(s),t.className="card-category",i.className="card-title"},m(e,r){p(e,t,r),f(t,o),p(e,n,r),p(e,i,r),f(i,a)},p(e,t){e.currentApp&&r!==(r=t.currentApp.name.substring(0,20))&&C(o,r),e.currentApp&&s!==(s=t.currentApp.appPrice)&&C(a,s)},d(e){e&&(m(t),m(n),m(i))}}}function Uc(e){var o;return{c(){(o=g("p")).textContent="Loading..."},m(e,t){p(e,o,t)},p:t,d(e){e&&m(o)}}}function Yc(e){var t,o,n;return{c(){t=g("a"),o=v("Go to store"),t.className="card-category",t.href=n=e.currentApp.link},m(e,n){p(e,t,n),f(t,o)},p(e,o){e.currentApp&&n!==(n=o.currentApp.link)&&(t.href=n)},d(e){e&&m(t)}}}function qc(e){var o,n,i,a,r,s,l,c,u,d,h,v,y,w,E,C,x,R,M,k,T,D,L,S,_,A,z,H,N,F,P,j,I,O,W,B,V,$;function G(e){return e.currentApp?zc:Ac}var U=G(e),Y=U(e);function q(e){return e.currentApp?Nc:Hc}var X=q(e),J=X(e);function K(e){return e.currentApp?Pc:Fc}var Z=K(e),Q=Z(e);function ee(e){return e.currentApp?Ic:jc}var te=ee(e),oe=te(e);function ne(e){return e.currentAppReviewsSentiment?Wc:Oc}var ie=ne(e),ae=ie(e);function re(e){return e.currentApp?Vc:Bc}var se=re(e),le=se(e);function ce(e){return e.currentApp?Gc:$c}var ue=ce(e),de=ue(e);function he(e){return e.currentApp?Yc:Uc}var fe=he(e),pe=fe(e);return{c(){o=g("div"),n=g("div"),i=g("div"),a=g("div"),(r=g("div")).innerHTML='<i class="material-icons">star</i>',s=b(),(l=g("p")).textContent="Current Version",c=b(),Y.c(),u=b(),d=g("div"),J.c(),h=b(),v=g("div"),y=g("div"),w=g("div"),(E=g("div")).innerHTML='<i class="material-icons">rate_review</i>',C=b(),(x=g("p")).textContent="Average Rating",R=b(),Q.c(),M=b(),k=g("div"),oe.c(),T=b(),D=g("div"),L=g("div"),S=g("div"),(_=g("div")).innerHTML='<i class="material-icons">sentiment_satisfied</i>',A=b(),(z=g("p")).textContent="Sentiment",H=b(),ae.c(),N=b(),F=g("div"),le.c(),P=b(),j=g("div"),I=g("div"),O=g("div"),(W=g("div")).innerHTML='<i class="material-icons">store</i>',B=b(),de.c(),V=b(),$=g("div"),pe.c(),r.className="card-icon",l.className="card-category",a.className="card-header card-header-success card-header-icon",d.className="card-footer",i.className="card card-stats svelte-a896km",n.className="col-lg-3 col-md-6 col-sm-6",E.className="card-icon",x.className="card-category",w.className="card-header card-header-warning card-header-icon",k.className="card-footer",y.className="card card-stats svelte-a896km",v.className="col-lg-3 col-md-6 col-sm-6",_.className="card-icon",z.className="card-category",S.className="card-header card-header-success card-header-icon",F.className="card-footer",L.className="card card-stats svelte-a896km",D.className="col-lg-3 col-md-6 col-sm-6",W.className="card-icon",O.className="card-header card-header-success card-header-icon",$.className="card-footer",I.className="card card-stats svelte-a896km",j.className="col-lg-3 col-md-6 col-sm-6",o.className="row"},m(e,t){p(e,o,t),f(o,n),f(n,i),f(i,a),f(a,r),f(a,s),f(a,l),f(a,c),Y.m(a,null),f(i,u),f(i,d),J.m(d,null),f(o,h),f(o,v),f(v,y),f(y,w),f(w,E),f(w,C),f(w,x),f(w,R),Q.m(w,null),f(y,M),f(y,k),oe.m(k,null),f(o,T),f(o,D),f(D,L),f(L,S),f(S,_),f(S,A),f(S,z),f(S,H),ae.m(S,null),f(L,N),f(L,F),le.m(F,null),f(o,P),f(o,j),f(j,I),f(I,O),f(O,W),f(O,B),de.m(O,null),f(I,V),f(I,$),pe.m($,null)},p(e,t){U===(U=G(t))&&Y?Y.p(e,t):(Y.d(1),(Y=U(t))&&(Y.c(),Y.m(a,null))),X===(X=q(t))&&J?J.p(e,t):(J.d(1),(J=X(t))&&(J.c(),J.m(d,null))),Z===(Z=K(t))&&Q?Q.p(e,t):(Q.d(1),(Q=Z(t))&&(Q.c(),Q.m(w,null))),te===(te=ee(t))&&oe?oe.p(e,t):(oe.d(1),(oe=te(t))&&(oe.c(),oe.m(k,null))),ie===(ie=ne(t))&&ae?ae.p(e,t):(ae.d(1),(ae=ie(t))&&(ae.c(),ae.m(S,null))),se===(se=re(t))&&le?le.p(e,t):(le.d(1),(le=se(t))&&(le.c(),le.m(F,null))),ue===(ue=ce(t))&&de?de.p(e,t):(de.d(1),(de=ue(t))&&(de.c(),de.m(O,null))),fe===(fe=he(t))&&pe?pe.p(e,t):(pe.d(1),(pe=fe(t))&&(pe.c(),pe.m($,null)))},i:t,o:t,d(e){e&&m(o),Y.d(),J.d(),Q.d(),oe.d(),ae.d(),le.d(),de.d(),pe.d()}}}function Xc(e,t,o){let{currentApp:n,currentAppReviewsSentiment:i}=t;return e.$set=(e=>{"currentApp"in e&&o("currentApp",n=e.currentApp),"currentAppReviewsSentiment"in e&&o("currentAppReviewsSentiment",i=e.currentAppReviewsSentiment)}),{currentApp:n,currentAppReviewsSentiment:i}}class Jc extends Y{constructor(e){super(),U(this,e,Xc,qc,s,["currentApp","currentAppReviewsSentiment"])}}var Kc=Q(function(t,o){var n,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n=Z,i=function(){Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),o=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var n=arguments[1],i=0;i<o;){var a=t[i];if(e.call(n,a,i,t))return i;i++}return-1}}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),o=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var n=arguments[1],i=0;i<o;){var a=t[i];if(e.call(n,a,i,t))return a;i++}}});var t=function(e){this.table=e,this.blockHozScrollEvent=!1,this.headersElement=this.createHeadersElement(),this.element=this.createHeaderElement(),this.rowManager=null,this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.scrollLeft=0,this.scrollCount=0,this.element.insertBefore(this.headersElement,this.element.firstChild)};t.prototype.createHeadersElement=function(){var e=document.createElement("div");return e.classList.add("tabulator-headers"),e},t.prototype.createHeaderElement=function(){var e=document.createElement("div");return e.classList.add("tabulator-header"),e},t.prototype.initialize=function(){},t.prototype.setRowManager=function(e){this.rowManager=e},t.prototype.getElement=function(){return this.element},t.prototype.getHeadersElement=function(){return this.headersElement},t.prototype.scrollHorizontal=function(e){var t=0,o=this.element.scrollWidth-this.table.element.clientWidth;this.element.scrollLeft=e,e>o?(t=e-o,this.element.style.marginLeft=-t+"px"):this.element.style.marginLeft=0,this.scrollLeft=e,this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.scrollHorizontal()},t.prototype.generateColumnsFromRowData=function(e){var t,o,n=[];if(e&&e.length){for(var i in t=e[0]){var r={field:i,title:i},s=t[i];switch(void 0===s?"undefined":a(s)){case"undefined":o="string";break;case"boolean":o="boolean";break;case"object":o=Array.isArray(s)?"array":"string";break;default:o=isNaN(s)||""===s?s.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)?"alphanum":"string":"number"}r.sorter=o,n.push(r)}this.table.options.columns=n,this.setColumns(this.table.options.columns)}},t.prototype.setColumns=function(e,t){for(var o=this;o.headersElement.firstChild;)o.headersElement.removeChild(o.headersElement.firstChild);o.columns=[],o.columnsByIndex=[],o.columnsByField={},o.table.modExists("frozenColumns")&&o.table.modules.frozenColumns.reset(),e.forEach(function(e,t){o._addColumn(e)}),o._reIndexColumns(),o.table.options.responsiveLayout&&o.table.modExists("responsiveLayout",!0)&&o.table.modules.responsiveLayout.initialize(),o.redraw(!0)},t.prototype._addColumn=function(e,t,o){var i=new n(e,this),a=i.getElement(),r=o?this.findColumnIndex(o):o;if(o&&r>-1){var s=this.columns.indexOf(o.getTopColumn()),l=o.getElement();t?(this.columns.splice(s,0,i),l.parentNode.insertBefore(a,l)):(this.columns.splice(s+1,0,i),l.parentNode.insertBefore(a,l.nextSibling))}else t?(this.columns.unshift(i),this.headersElement.insertBefore(i.getElement(),this.headersElement.firstChild)):(this.columns.push(i),this.headersElement.appendChild(i.getElement()));return i},t.prototype.registerColumnField=function(e){e.definition.field&&(this.columnsByField[e.definition.field]=e)},t.prototype.registerColumnPosition=function(e){this.columnsByIndex.push(e)},t.prototype._reIndexColumns=function(){this.columnsByIndex=[],this.columns.forEach(function(e){e.reRegisterPosition()})},t.prototype._verticalAlignHeaders=function(){var e=this,t=0;e.columns.forEach(function(e){var o;e.clearVerticalAlign(),(o=e.getHeight())>t&&(t=o)}),e.columns.forEach(function(o){o.verticalAlign(e.table.options.columnVertAlign,t)}),e.rowManager.adjustTableSize()},t.prototype.findColumn=function(e){return"object"!=(void 0===e?"undefined":a(e))?this.columnsByField[e]||!1:e instanceof n?e:e instanceof o?e._getSelf()||!1:"undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&this.columns.find(function(t){return t.element===e})||!1},t.prototype.getColumnByField=function(e){return this.columnsByField[e]},t.prototype.getColumnByIndex=function(e){return this.columnsByIndex[e]},t.prototype.getFirstVisibileColumn=function(e){return(e=this.columnsByIndex.findIndex(function(e){return e.visible}))>-1&&this.columnsByIndex[e]},t.prototype.getColumns=function(){return this.columns},t.prototype.findColumnIndex=function(e){return this.columnsByIndex.findIndex(function(t){return e===t})},t.prototype.getRealColumns=function(){return this.columnsByIndex},t.prototype.traverse=function(e){this.columnsByIndex.forEach(function(t,o){e(t,o)})},t.prototype.getDefinitions=function(e){var t=[];return this.columnsByIndex.forEach(function(o){(!e||e&&o.visible)&&t.push(o.getDefinition())}),t},t.prototype.getDefinitionTree=function(){var e=[];return this.columns.forEach(function(t){e.push(t.getDefinition(!0))}),e},t.prototype.getComponents=function(e){var t=[];return(e?this.columns:this.columnsByIndex).forEach(function(e){t.push(e.getComponent())}),t},t.prototype.getWidth=function(){var e=0;return this.columnsByIndex.forEach(function(t){t.visible&&(e+=t.getWidth())}),e},t.prototype.moveColumn=function(e,t,o){this._moveColumnInArray(this.columns,e,t,o),this._moveColumnInArray(this.columnsByIndex,e,t,o,!0),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.initialize(),this.table.options.columnMoved&&this.table.options.columnMoved.call(this.table,e.getComponent(),this.table.columnManager.getComponents()),this.table.options.persistentLayout&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.save("columns")},t.prototype._moveColumnInArray=function(e,t,o,n,i){var a,r=e.indexOf(t);r>-1&&(e.splice(r,1),(a=e.indexOf(o))>-1?n&&(a+=1):a=r,e.splice(a,0,t),i&&this.table.rowManager.rows.forEach(function(e){if(e.cells.length){var t=e.cells.splice(r,1)[0];e.cells.splice(a,0,t)}}))},t.prototype.scrollToColumn=function(e,t,o){var n=this,i=0,a=0,r=0,s=e.getElement();return new Promise(function(l,c){if(void 0===t&&(t=n.table.options.scrollToColumnPosition),void 0===o&&(o=n.table.options.scrollToColumnIfVisible),e.visible){switch(t){case"middle":case"center":r=-n.element.clientWidth/2;break;case"right":r=s.clientWidth-n.headersElement.clientWidth}if(!o&&(a=s.offsetLeft)>0&&a+s.offsetWidth<n.element.clientWidth)return!1;i=s.offsetLeft+n.element.scrollLeft+r,i=Math.max(Math.min(i,n.table.rowManager.element.scrollWidth-n.table.rowManager.element.clientWidth),0),n.table.rowManager.scrollHorizontal(i),n.scrollHorizontal(i),l()}else console.warn("Scroll Error - Column not visible"),c("Scroll Error - Column not visible")})},t.prototype.generateCells=function(e){var t=[];return this.columnsByIndex.forEach(function(o){t.push(o.generateCell(e))}),t},t.prototype.getFlexBaseWidth=function(){var e=this,t=e.table.element.clientWidth,o=0;return e.rowManager.element.scrollHeight>e.rowManager.element.clientHeight&&(t-=e.rowManager.element.offsetWidth-e.rowManager.element.clientWidth),this.columnsByIndex.forEach(function(n){var i,a,r;n.visible&&(i=n.definition.width||0,a=void 0===n.minWidth?e.table.options.columnMinWidth:parseInt(n.minWidth),r="string"==typeof i?i.indexOf("%")>-1?t/100*parseInt(i):parseInt(i):i,o+=r>a?r:a)}),o},t.prototype.addColumn=function(e,t,o){var n=this._addColumn(e,t,o);this._reIndexColumns(),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.initialize(),this.table.modExists("columnCalcs")&&this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows),this.redraw(),"fitColumns"!=this.table.modules.layout.getMode()&&n.reinitializeWidth(),this._verticalAlignHeaders(),this.table.rowManager.reinitialize()},t.prototype.deregisterColumn=function(e){var t,o=e.getField();o&&delete this.columnsByField[o],(t=this.columnsByIndex.indexOf(e))>-1&&this.columnsByIndex.splice(t,1),(t=this.columns.indexOf(e))>-1&&this.columns.splice(t,1),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.initialize(),this.redraw()},t.prototype.redraw=function(e){e&&(d.prototype.helpers.elVisible(this.element)&&this._verticalAlignHeaders(),this.table.rowManager.resetScroll(),this.table.rowManager.reinitialize()),"fitColumns"==this.table.modules.layout.getMode()?this.table.modules.layout.layout():e?this.table.modules.layout.layout():this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout(),this.table.modExists("columnCalcs")&&this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows),e&&(this.table.options.persistentLayout&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.save("columns"),this.table.modExists("columnCalcs")&&this.table.modules.columnCalcs.redraw()),this.table.footerManager.redraw()};var o=function(e){this._column=e,this.type="ColumnComponent"};o.prototype.getElement=function(){return this._column.getElement()},o.prototype.getDefinition=function(){return this._column.getDefinition()},o.prototype.getField=function(){return this._column.getField()},o.prototype.getCells=function(){var e=[];return this._column.cells.forEach(function(t){e.push(t.getComponent())}),e},o.prototype.getVisibility=function(){return this._column.visible},o.prototype.show=function(){this._column.isGroup?this._column.columns.forEach(function(e){e.show()}):this._column.show()},o.prototype.hide=function(){this._column.isGroup?this._column.columns.forEach(function(e){e.hide()}):this._column.hide()},o.prototype.toggle=function(){this._column.visible?this.hide():this.show()},o.prototype.delete=function(){this._column.delete()},o.prototype.getSubColumns=function(){var e=[];return this._column.columns.length&&this._column.columns.forEach(function(t){e.push(t.getComponent())}),e},o.prototype.getParentColumn=function(){return this._column.parent instanceof n&&this._column.parent.getComponent()},o.prototype._getSelf=function(){return this._column},o.prototype.scrollTo=function(){return this._column.table.columnManager.scrollToColumn(this._column)},o.prototype.getTable=function(){return this._column.table},o.prototype.headerFilterFocus=function(){this._column.table.modExists("filter",!0)&&this._column.table.modules.filter.setHeaderFilterFocus(this._column)},o.prototype.reloadHeaderFilter=function(){this._column.table.modExists("filter",!0)&&this._column.table.modules.filter.reloadHeaderFilter(this._column)},o.prototype.setHeaderFilterValue=function(e){this._column.table.modExists("filter",!0)&&this._column.table.modules.filter.setHeaderFilterValue(this._column,e)},o.prototype.getNextColumn=function(){return this._column.nextColumn().getComponent()},o.prototype.getPrevColumn=function(){return this._column.prevColumn().getComponent()};var n=function e(t,o){var n=this;this.table=o.table,this.definition=t,this.parent=o,this.type="column",this.columns=[],this.cells=[],this.element=this.createElement(),this.contentElement=!1,this.groupElement=this.createGroupElement(),this.isGroup=!1,this.tooltip=!1,this.hozAlign="",this.field="",this.fieldStructure="",this.getFieldValue="",this.setFieldValue="",this.setField(this.definition.field),this.modules={},this.cellEvents={cellClick:!1,cellDblClick:!1,cellContext:!1,cellTap:!1,cellDblTap:!1,cellTapHold:!1,cellMouseEnter:!1,cellMouseLeave:!1,cellMouseOver:!1,cellMouseOut:!1,cellMouseMove:!1},this.width=null,this.widthStyled="",this.minWidth=null,this.minWidthStyled="",this.widthFixed=!1,this.visible=!0,t.columns?(this.isGroup=!0,t.columns.forEach(function(t,o){var i=new e(t,n);n.attachColumn(i)}),n.checkColumnVisibility()):o.registerColumnField(this),t.rowHandle&&!1!==this.table.options.movableRows&&this.table.modExists("moveRow")&&this.table.modules.moveRow.setHandle(!0),this._buildHeader()};n.prototype.createElement=function(){var e=document.createElement("div");return e.classList.add("tabulator-col"),e.setAttribute("role","columnheader"),e.setAttribute("aria-sort","none"),e},n.prototype.createGroupElement=function(){var e=document.createElement("div");return e.classList.add("tabulator-col-group-cols"),e},n.prototype.setField=function(e){this.field=e,this.fieldStructure=e?this.table.options.nestedFieldSeparator?e.split(this.table.options.nestedFieldSeparator):[e]:[],this.getFieldValue=this.fieldStructure.length>1?this._getNestedData:this._getFlatData,this.setFieldValue=this.fieldStructure.length>1?this._setNesteData:this._setFlatData},n.prototype.registerColumnPosition=function(e){this.parent.registerColumnPosition(e)},n.prototype.registerColumnField=function(e){this.parent.registerColumnField(e)},n.prototype.reRegisterPosition=function(){this.isGroup?this.columns.forEach(function(e){e.reRegisterPosition()}):this.registerColumnPosition(this)},n.prototype.setTooltip=function(){var e=this,t=e.definition,o=t.headerTooltip||!1===t.tooltip?t.headerTooltip:e.table.options.tooltipsHeader;o?!0===o?t.field?e.table.modules.localize.bind("columns|"+t.field,function(o){e.element.setAttribute("title",o||t.title)}):e.element.setAttribute("title",t.title):("function"==typeof o&&!1===(o=o(e.getComponent()))&&(o=""),e.element.setAttribute("title",o)):e.element.setAttribute("title","")},n.prototype._buildHeader=function(){for(var e=this,t=e.definition;e.element.firstChild;)e.element.removeChild(e.element.firstChild);t.headerVertical&&(e.element.classList.add("tabulator-col-vertical"),"flip"===t.headerVertical&&e.element.classList.add("tabulator-col-vertical-flip")),e.contentElement=e._bindEvents(),e.contentElement=e._buildColumnHeaderContent(),e.element.appendChild(e.contentElement),e.isGroup?e._buildGroupHeader():e._buildColumnHeader(),e.setTooltip(),e.table.options.resizableColumns&&e.table.modExists("resizeColumns")&&e.table.modules.resizeColumns.initializeColumn("header",e,e.element),t.headerFilter&&e.table.modExists("filter")&&e.table.modExists("edit")&&(void 0!==t.headerFilterPlaceholder&&t.field&&e.table.modules.localize.setHeaderFilterColumnPlaceholder(t.field,t.headerFilterPlaceholder),e.table.modules.filter.initializeColumn(e)),e.table.modExists("frozenColumns")&&e.table.modules.frozenColumns.initializeColumn(e),e.table.options.movableColumns&&!e.isGroup&&e.table.modExists("moveColumn")&&e.table.modules.moveColumn.initializeColumn(e),(t.topCalc||t.bottomCalc)&&e.table.modExists("columnCalcs")&&e.table.modules.columnCalcs.initializeColumn(e),e.element.addEventListener("mouseenter",function(t){e.setTooltip()})},n.prototype._bindEvents=function(){var e,t,o,n=this,i=n.definition;"function"==typeof i.headerClick&&n.element.addEventListener("click",function(e){i.headerClick(e,n.getComponent())}),"function"==typeof i.headerDblClick&&n.element.addEventListener("dblclick",function(e){i.headerDblClick(e,n.getComponent())}),"function"==typeof i.headerContext&&n.element.addEventListener("contextmenu",function(e){i.headerContext(e,n.getComponent())}),"function"==typeof i.headerTap&&(o=!1,n.element.addEventListener("touchstart",function(e){o=!0}),n.element.addEventListener("touchend",function(e){o&&i.headerTap(e,n.getComponent()),o=!1})),"function"==typeof i.headerDblTap&&(e=null,n.element.addEventListener("touchend",function(t){e?(clearTimeout(e),e=null,i.headerDblTap(t,n.getComponent())):e=setTimeout(function(){clearTimeout(e),e=null},300)})),"function"==typeof i.headerTapHold&&(t=null,n.element.addEventListener("touchstart",function(e){clearTimeout(t),t=setTimeout(function(){clearTimeout(t),t=null,o=!1,i.headerTapHold(e,n.getComponent())},1e3)}),n.element.addEventListener("touchend",function(e){clearTimeout(t),t=null})),"function"==typeof i.cellClick&&(n.cellEvents.cellClick=i.cellClick),"function"==typeof i.cellDblClick&&(n.cellEvents.cellDblClick=i.cellDblClick),"function"==typeof i.cellContext&&(n.cellEvents.cellContext=i.cellContext),"function"==typeof i.cellMouseEnter&&(n.cellEvents.cellMouseEnter=i.cellMouseEnter),"function"==typeof i.cellMouseLeave&&(n.cellEvents.cellMouseLeave=i.cellMouseLeave),"function"==typeof i.cellMouseOver&&(n.cellEvents.cellMouseOver=i.cellMouseOver),"function"==typeof i.cellMouseOut&&(n.cellEvents.cellMouseOut=i.cellMouseOut),"function"==typeof i.cellMouseMove&&(n.cellEvents.cellMouseMove=i.cellMouseMove),"function"==typeof i.cellTap&&(n.cellEvents.cellTap=i.cellTap),"function"==typeof i.cellDblTap&&(n.cellEvents.cellDblTap=i.cellDblTap),"function"==typeof i.cellTapHold&&(n.cellEvents.cellTapHold=i.cellTapHold),"function"==typeof i.cellEdited&&(n.cellEvents.cellEdited=i.cellEdited),"function"==typeof i.cellEditing&&(n.cellEvents.cellEditing=i.cellEditing),"function"==typeof i.cellEditCancelled&&(n.cellEvents.cellEditCancelled=i.cellEditCancelled)},n.prototype._buildColumnHeader=function(){var e=this,t=e.definition,o=e.table;(o.modExists("sort")&&o.modules.sort.initializeColumn(e,e.contentElement),o.modExists("format")&&o.modules.format.initializeColumn(e),void 0!==t.editor&&o.modExists("edit")&&o.modules.edit.initializeColumn(e),void 0!==t.validator&&o.modExists("validate")&&o.modules.validate.initializeColumn(e),o.modExists("mutator")&&o.modules.mutator.initializeColumn(e),o.modExists("accessor")&&o.modules.accessor.initializeColumn(e),a(o.options.responsiveLayout)&&o.modExists("responsiveLayout")&&o.modules.responsiveLayout.initializeColumn(e),void 0!==t.visible&&(t.visible?e.show(!0):e.hide(!0)),t.cssClass)&&t.cssClass.split(" ").forEach(function(t){e.element.classList.add(t)});t.field&&this.element.setAttribute("tabulator-field",t.field),e.setMinWidth(void 0===t.minWidth?e.table.options.columnMinWidth:parseInt(t.minWidth)),e.reinitializeWidth(),e.tooltip=e.definition.tooltip||!1===e.definition.tooltip?e.definition.tooltip:e.table.options.tooltips,e.hozAlign=void 0===e.definition.align?"":e.definition.align},n.prototype._buildColumnHeaderContent=function(){this.definition,this.table;var e=document.createElement("div");return e.classList.add("tabulator-col-content"),e.appendChild(this._buildColumnHeaderTitle()),e},n.prototype._buildColumnHeaderTitle=function(){var e=this,t=e.definition,o=e.table,n=document.createElement("div");if(n.classList.add("tabulator-col-title"),t.editableTitle){var i=document.createElement("input");i.classList.add("tabulator-title-editor"),i.addEventListener("click",function(e){e.stopPropagation(),i.focus()}),i.addEventListener("change",function(){t.title=i.value,o.options.columnTitleChanged.call(e.table,e.getComponent())}),n.appendChild(i),t.field?o.modules.localize.bind("columns|"+t.field,function(e){i.value=e||t.title||"&nbsp"}):i.value=t.title||"&nbsp"}else t.field?o.modules.localize.bind("columns|"+t.field,function(o){e._formatColumnHeaderTitle(n,o||t.title||"&nbsp")}):e._formatColumnHeaderTitle(n,t.title||"&nbsp");return n},n.prototype._formatColumnHeaderTitle=function(e,t){var o,n,i,r;if(this.definition.titleFormatter&&this.table.modExists("format"))switch(o=this.table.modules.format.getFormatter(this.definition.titleFormatter),r={getValue:function(){return t},getElement:function(){return e}},i="function"==typeof(i=this.definition.titleFormatterParams||{})?i():i,void 0===(n=o.call(this.table.modules.format,r,i))?"undefined":a(n)){case"object":n instanceof Node?e.appendChild(n):(e.innerHTML="",console.warn("Format Error - Title formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",n));break;case"undefined":case"null":e.innerHTML="";break;default:e.innerHTML=n}else e.innerHTML=t},n.prototype._buildGroupHeader=function(){this.element.classList.add("tabulator-col-group"),this.element.setAttribute("role","columngroup"),this.element.setAttribute("aria-title",this.definition.title),this.element.appendChild(this.groupElement)},n.prototype._getFlatData=function(e){return e[this.field]},n.prototype._getNestedData=function(e){for(var t,o=e,n=this.fieldStructure,i=n.length,a=0;a<i&&(t=o=o[n[a]],o);a++);return t},n.prototype._setFlatData=function(e,t){this.field&&(e[this.field]=t)},n.prototype._setNesteData=function(e,t){for(var o=e,n=this.fieldStructure,i=n.length,a=0;a<i;a++)a==i-1?o[n[a]]=t:(o[n[a]]||(o[n[a]]={}),o=o[n[a]])},n.prototype.attachColumn=function(e){this.groupElement?(this.columns.push(e),this.groupElement.appendChild(e.getElement())):console.warn("Column Warning - Column being attached to another column instead of column group")},n.prototype.verticalAlign=function(e,t){var o=this.parent.isGroup?this.parent.getGroupElement().clientHeight:t||this.parent.getHeadersElement().clientHeight;this.element.style.height=o+"px",this.isGroup&&(this.groupElement.style.minHeight=o-this.contentElement.offsetHeight+"px"),this.isGroup||"top"===e||(this.element.style.paddingTop="bottom"===e?this.element.clientHeight-this.contentElement.offsetHeight+"px":(this.element.clientHeight-this.contentElement.offsetHeight)/2+"px"),this.columns.forEach(function(t){t.verticalAlign(e)})},n.prototype.clearVerticalAlign=function(){this.element.style.paddingTop="",this.element.style.height="",this.element.style.minHeight="",this.groupElement.style.minHeight="",this.columns.forEach(function(e){e.clearVerticalAlign()})},n.prototype.getElement=function(){return this.element},n.prototype.getGroupElement=function(){return this.groupElement},n.prototype.getField=function(){return this.field},n.prototype.getFirstColumn=function(){return this.isGroup?!!this.columns.length&&this.columns[0].getFirstColumn():this},n.prototype.getLastColumn=function(){return this.isGroup?!!this.columns.length&&this.columns[this.columns.length-1].getLastColumn():this},n.prototype.getColumns=function(){return this.columns},n.prototype.getCells=function(){return this.cells},n.prototype.getTopColumn=function(){return this.parent.isGroup?this.parent.getTopColumn():this},n.prototype.getDefinition=function(e){var t=[];return this.isGroup&&e&&(this.columns.forEach(function(e){t.push(e.getDefinition(!0))}),this.definition.columns=t),this.definition},n.prototype.checkColumnVisibility=function(){var e=!1;this.columns.forEach(function(t){t.visible&&(e=!0)}),e?(this.show(),this.parent.table.options.columnVisibilityChanged.call(this.table,this.getComponent(),!1)):this.hide()},n.prototype.show=function(e,t){this.visible||(this.visible=!0,this.element.style.display="",this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach(function(e){e.show()}),this.isGroup||null!==this.width||this.reinitializeWidth(),this.table.columnManager._verticalAlignHeaders(),this.table.options.persistentLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.persistence.save("columns"),!t&&this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.updateColumnVisibility(this,this.visible),e||this.table.options.columnVisibilityChanged.call(this.table,this.getComponent(),!0),this.parent.isGroup&&this.parent.matchChildWidths())},n.prototype.hide=function(e,t){this.visible&&(this.visible=!1,this.element.style.display="none",this.table.columnManager._verticalAlignHeaders(),this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach(function(e){e.hide()}),this.table.options.persistentLayout&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.save("columns"),!t&&this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.updateColumnVisibility(this,this.visible),e||this.table.options.columnVisibilityChanged.call(this.table,this.getComponent(),!1),this.parent.isGroup&&this.parent.matchChildWidths())},n.prototype.matchChildWidths=function(){var e=0;this.contentElement&&this.columns.length&&(this.columns.forEach(function(t){t.visible&&(e+=t.getWidth())}),this.contentElement.style.maxWidth=e-1+"px")},n.prototype.setWidth=function(e){this.widthFixed=!0,this.setWidthActual(e)},n.prototype.setWidthActual=function(e){isNaN(e)&&(e=Math.floor(this.table.element.clientWidth/100*parseInt(e))),e=Math.max(this.minWidth,e),this.width=e,this.widthStyled=e?e+"px":"",this.element.style.width=this.widthStyled,this.isGroup||this.cells.forEach(function(e){e.setWidth()}),this.parent.isGroup&&this.parent.matchChildWidths(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout()},n.prototype.checkCellHeights=function(){var e=[];this.cells.forEach(function(t){t.row.heightInitialized&&(null!==t.row.getElement().offsetParent?(e.push(t.row),t.row.clearCellHeight()):t.row.heightInitialized=!1)}),e.forEach(function(e){e.calcHeight()}),e.forEach(function(e){e.setCellHeight()})},n.prototype.getWidth=function(){return this.width},n.prototype.getHeight=function(){return this.element.offsetHeight},n.prototype.setMinWidth=function(e){this.minWidth=e,this.minWidthStyled=e?e+"px":"",this.element.style.minWidth=this.minWidthStyled,this.cells.forEach(function(e){e.setMinWidth()})},n.prototype.delete=function(){this.isGroup&&this.columns.forEach(function(e){e.delete()});for(var e=this.cells.length,t=0;t<e;t++)this.cells[0].delete();this.element.parentNode.removeChild(this.element),this.table.columnManager.deregisterColumn(this)},n.prototype.generateCell=function(e){var t=new c(this,e);return this.cells.push(t),t},n.prototype.nextColumn=function(){var e=this.table.columnManager.findColumnIndex(this);return e>-1&&this.table.columnManager.getColumnByIndex(e+1)},n.prototype.prevColumn=function(){var e=this.table.columnManager.findColumnIndex(this);return e>-1&&this.table.columnManager.getColumnByIndex(e-1)},n.prototype.reinitializeWidth=function(e){this.widthFixed=!1,void 0===this.definition.width||e||this.setWidth(this.definition.width),this.table.modExists("filter")&&this.table.modules.filter.hideHeaderFilterElements(),this.fitToData(),this.table.modExists("filter")&&this.table.modules.filter.showHeaderFilterElements()},n.prototype.fitToData=function(){this.widthFixed||(this.element.style.width="",this.cells.forEach(function(e){e.clearWidth()}));var e=this.element.offsetWidth;this.width&&this.widthFixed||(this.cells.forEach(function(t){var o=t.getWidth();o>e&&(e=o)}),e&&this.setWidthActual(e+1))},n.prototype.deleteCell=function(e){var t=this.cells.indexOf(e);t>-1&&this.cells.splice(t,1)},n.prototype.defaultOptionList=["title","field","visible","align","width","minWidth","widthGrow","widthShrink","resizable","frozen","responsive","tooltip","cssClass","rowHandle","hideInHtml","sorter","sorterParams","formatter","formatterParams","variableHeight","editable","editor","editorParams","validator","mutator","mutatorParams","mutatorData","mutatorDataParams","mutatorEdit","mutatorEditParams","mutatorClipboard","mutatorClipboardParams","accessor","accessorParams","accessorData","accessorDataParams","accessorDownload","accessorDownloadParams","accessorClipboard","accessorClipboardParams","download","downloadTitle","topCalc","topCalcParams","topCalcFormatter","topCalcFormatterParams","bottomCalc","bottomCalcParams","bottomCalcFormatter","bottomCalcFormatterParams","cellClick","cellDblClick","cellContext","cellTap","cellDblTap","cellTapHold","cellMouseEnter","cellMouseLeave","cellMouseOver","cellMouseOut","cellMouseMove","cellEditing","cellEdited","cellEditCancelled","headerSort","headerSortStartingDir","headerSortTristate","headerClick","headerDblClick","headerContext","headerTap","headerDblTap","headerTapHold","headerTooltip","headerVertical","editableTitle","titleFormatter","titleFormatterParams","headerFilter","headerFilterPlaceholder","headerFilterParams","headerFilterEmptyCheck","headerFilterFunc","headerFilterFuncParams","headerFilterLiveFilter"],n.prototype.getComponent=function(){return new o(this)};var i=function(e){this.table=e,this.element=this.createHolderElement(),this.tableElement=this.createTableElement(),this.columnManager=null,this.height=0,this.firstRender=!1,this.renderMode="classic",this.rows=[],this.activeRows=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.scrollTop=0,this.scrollLeft=0,this.vDomRowHeight=20,this.vDomTop=0,this.vDomBottom=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomMaxRenderChain=90,this.vDomWindowBuffer=0,this.vDomWindowMinTotalRows=20,this.vDomWindowMinMarginRows=5,this.vDomTopNewRows=[],this.vDomBottomNewRows=[]};i.prototype.createHolderElement=function(){var e=document.createElement("div");return e.classList.add("tabulator-tableHolder"),e.setAttribute("tabindex",0),e},i.prototype.createTableElement=function(){var e=document.createElement("div");return e.classList.add("tabulator-table"),e},i.prototype.getElement=function(){return this.element},i.prototype.getTableElement=function(){return this.tableElement},i.prototype.getRowPosition=function(e,t){return t?this.activeRows.indexOf(e):this.rows.indexOf(e)},i.prototype.setColumnManager=function(e){this.columnManager=e},i.prototype.initialize=function(){var e=this;e.setRenderMode(),e.element.appendChild(e.tableElement),e.firstRender=!0,e.element.addEventListener("scroll",function(){var t=e.element.scrollLeft;e.scrollLeft!=t&&(e.columnManager.scrollHorizontal(t),e.table.options.groupBy&&e.table.modules.groupRows.scrollHeaders(t),e.table.modExists("columnCalcs")&&e.table.modules.columnCalcs.scrollHorizontal(t)),e.scrollLeft=t}),"virtual"===this.renderMode&&e.element.addEventListener("scroll",function(){var t=e.element.scrollTop,o=e.scrollTop>t;e.scrollTop!=t?(e.scrollTop=t,e.scrollVertical(o),"scroll"==e.table.options.ajaxProgressiveLoad&&e.table.modules.ajax.nextPage(e.element.scrollHeight-e.element.clientHeight-t)):e.scrollTop=t})},i.prototype.findRow=function(e){var t=this;return"object"!=(void 0===e?"undefined":a(e))?null!=e&&(t.rows.find(function(o){return o.data[t.table.options.index]==e})||!1):e instanceof s?e:e instanceof r?e._getSelf()||!1:"undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&t.rows.find(function(t){return t.element===e})||!1},i.prototype.getRowFromDataObject=function(e){return this.rows.find(function(t){return t.data===e})||!1},i.prototype.getRowFromPosition=function(e,t){return t?this.activeRows[e]:this.rows[e]},i.prototype.scrollToRow=function(e,t,o){var n,i=this,a=this.getDisplayRows().indexOf(e),r=e.getElement(),s=0;return new Promise(function(e,l){if(a>-1){if(void 0===t&&(t=i.table.options.scrollToRowPosition),void 0===o&&(o=i.table.options.scrollToRowIfVisible),"nearest"===t)switch(i.renderMode){case"classic":n=d.prototype.helpers.elOffset(r).top,t=Math.abs(i.element.scrollTop-n)>Math.abs(i.element.scrollTop+i.element.clientHeight-n)?"bottom":"top";break;case"virtual":t=Math.abs(i.vDomTop-a)>Math.abs(i.vDomBottom-a)?"bottom":"top"}if(!o&&d.prototype.helpers.elVisible(r)&&(s=d.prototype.helpers.elOffset(r).top-d.prototype.helpers.elOffset(i.element).top)>0&&s<i.element.clientHeight-r.offsetHeight)return!1;switch(i.renderMode){case"classic":i.element.scrollTop=d.prototype.helpers.elOffset(r).top-d.prototype.helpers.elOffset(i.element).top+i.element.scrollTop;break;case"virtual":i._virtualRenderFill(a,!0)}switch(t){case"middle":case"center":i.element.scrollTop=i.element.scrollTop-i.element.clientHeight/2;break;case"bottom":i.element.scrollTop=i.element.scrollTop-i.element.clientHeight+r.offsetHeight}e()}else console.warn("Scroll Error - Row not visible"),l("Scroll Error - Row not visible")})},i.prototype.setData=function(e,t){var o=this,n=this;return new Promise(function(i,a){t&&o.getDisplayRows().length?n.table.options.pagination?n._setDataActual(e,!0):o.reRenderInPosition(function(){n._setDataActual(e)}):(o.table.options.autoColumns&&o.table.columnManager.generateColumnsFromRowData(e),o.resetScroll(),o._setDataActual(e)),i()})},i.prototype._setDataActual=function(e,t){var o=this;o.table.options.dataLoading.call(this.table,e),this._wipeElements(),this.table.options.history&&this.table.modExists("history")&&this.table.modules.history.clear(),Array.isArray(e)?(this.table.modExists("selectRow")&&this.table.modules.selectRow.clearSelectionData(),this.table.options.reactiveData&&this.table.modExists("reactiveData",!0)&&this.table.modules.reactiveData.watchData(e),e.forEach(function(e,t){if(e&&"object"===(void 0===e?"undefined":a(e))){var n=new s(e,o);o.rows.push(n)}else console.warn("Data Loading Warning - Invalid row data detected and ignored, expecting object but received:",e)}),o.table.options.dataLoaded.call(this.table,e),o.refreshActiveData(!1,!1,t)):console.error("Data Loading Error - Unable to process data due to invalid data type \nExpecting: array \nReceived: ",void 0===e?"undefined":a(e),"\nData:     ",e)},i.prototype._wipeElements=function(){this.rows.forEach(function(e){e.wipe()}),this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.wipe(),this.rows=[]},i.prototype.deleteRow=function(e,t){var o=this.rows.indexOf(e),n=this.activeRows.indexOf(e);n>-1&&this.activeRows.splice(n,1),o>-1&&this.rows.splice(o,1),this.setActiveRows(this.activeRows),this.displayRowIterator(function(t){var o=t.indexOf(e);o>-1&&t.splice(o,1)}),t||this.reRenderInPosition(),this.table.options.rowDeleted.call(this.table,e.getComponent()),this.table.options.dataEdited.call(this.table,this.getData()),this.table.options.groupBy&&this.table.modExists("groupRows")?this.table.modules.groupRows.updateGroupRows(!0):this.table.options.pagination&&this.table.modExists("page")?this.refreshActiveData(!1,!1,!0):this.table.options.pagination&&this.table.modExists("page")&&this.refreshActiveData("page")},i.prototype.addRow=function(e,t,o,n){var i=this.addRowActual(e,t,o,n);return this.table.options.history&&this.table.modExists("history")&&this.table.modules.history.action("rowAdd",i,{data:e,pos:t,index:o}),i},i.prototype.addRows=function(e,t,o){var n=this,i=this,a=[];return new Promise(function(r,s){t=n.findAddRowPos(t),Array.isArray(e)||(e=[e]),e.length-1,(void 0===o&&t||void 0!==o&&!t)&&e.reverse(),e.forEach(function(e,n){var r=i.addRow(e,t,o,!0);a.push(r)}),n.table.options.groupBy&&n.table.modExists("groupRows")?n.table.modules.groupRows.updateGroupRows(!0):n.table.options.pagination&&n.table.modExists("page")?n.refreshActiveData(!1,!1,!0):n.reRenderInPosition(),n.table.modExists("columnCalcs")&&n.table.modules.columnCalcs.recalc(n.table.rowManager.activeRows),r(a)})},i.prototype.findAddRowPos=function(e){return void 0===e&&(e=this.table.options.addRowPos),"pos"===e&&(e=!0),"bottom"===e&&(e=!1),e},i.prototype.addRowActual=function(e,t,o,n){var i,a=e instanceof s?e:new s(e||{},this),r=this.findAddRowPos(t);if(!o&&this.table.options.pagination&&"page"==this.table.options.paginationAddRow&&(i=this.getDisplayRows(),r?i.length?o=i[0]:this.activeRows.length&&(o=this.activeRows[this.activeRows.length-1],r=!1):i.length&&(o=i[i.length-1],r=!(i.length<this.table.modules.page.getPageSize()))),o&&(o=this.findRow(o)),this.table.options.groupBy&&this.table.modExists("groupRows")){this.table.modules.groupRows.assignRowToGroup(a);var l=a.getGroup().rows;l.length>1&&(!o||o&&-1==l.indexOf(o)?r?l[0]!==a&&(o=l[0],this._moveRowInArray(a.getGroup().rows,a,o,r)):l[l.length-1]!==a&&(o=l[l.length-1],this._moveRowInArray(a.getGroup().rows,a,o,r)):this._moveRowInArray(a.getGroup().rows,a,o,r))}if(o){var c=this.rows.indexOf(o),u=this.activeRows.indexOf(o);this.displayRowIterator(function(e){var t=e.indexOf(o);t>-1&&e.splice(r?t:t+1,0,a)}),u>-1&&this.activeRows.splice(r?u:u+1,0,a),c>-1&&this.rows.splice(r?c:c+1,0,a)}else r?(this.displayRowIterator(function(e){e.unshift(a)}),this.activeRows.unshift(a),this.rows.unshift(a)):(this.displayRowIterator(function(e){e.push(a)}),this.activeRows.push(a),this.rows.push(a));return this.setActiveRows(this.activeRows),this.table.options.rowAdded.call(this.table,a.getComponent()),this.table.options.dataEdited.call(this.table,this.getData()),n||this.reRenderInPosition(),a},i.prototype.moveRow=function(e,t,o){this.table.options.history&&this.table.modExists("history")&&this.table.modules.history.action("rowMove",e,{pos:this.getRowPosition(e),to:t,after:o}),this.moveRowActual(e,t,o),this.table.options.rowMoved.call(this.table,e.getComponent())},i.prototype.moveRowActual=function(e,t,o){var n=this;if(this._moveRowInArray(this.rows,e,t,o),this._moveRowInArray(this.activeRows,e,t,o),this.displayRowIterator(function(i){n._moveRowInArray(i,e,t,o)}),this.table.options.groupBy&&this.table.modExists("groupRows")){var i=t.getGroup(),a=e.getGroup();i===a?this._moveRowInArray(i.rows,e,t,o):(a&&a.removeRow(e),i.insertRow(e,t,o))}},i.prototype._moveRowInArray=function(e,t,o,n){var i,a,r;if(t!==o&&((i=e.indexOf(t))>-1&&(e.splice(i,1),(a=e.indexOf(o))>-1?n?e.splice(a+1,0,t):e.splice(a,0,t):e.splice(i,0,t)),e===this.getDisplayRows())){r=a>i?a:i+1;for(var s=i<a?i:a;s<=r;s++)e[s]&&this.styleRow(e[s],s)}},i.prototype.clearData=function(){this.setData([])},i.prototype.getRowIndex=function(e){return this.findRowIndex(e,this.rows)},i.prototype.getDisplayRowIndex=function(e){var t=this.getDisplayRows().indexOf(e);return t>-1&&t},i.prototype.nextDisplayRow=function(e,t){var o=this.getDisplayRowIndex(e),n=!1;return!1!==o&&o<this.displayRowsCount-1&&(n=this.getDisplayRows()[o+1]),!n||n instanceof s&&"row"==n.type?n:this.nextDisplayRow(n,t)},i.prototype.prevDisplayRow=function(e,t){var o=this.getDisplayRowIndex(e),n=!1;return o&&(n=this.getDisplayRows()[o-1]),!n||n instanceof s&&"row"==n.type?n:this.prevDisplayRow(n,t)},i.prototype.findRowIndex=function(e,t){var o;return!!((e=this.findRow(e))&&(o=t.indexOf(e))>-1)&&o},i.prototype.getData=function(e,t){var o=[];return(e?this.activeRows:this.rows).forEach(function(e){o.push(e.getData(t||"data"))}),o},i.prototype.getHtml=function(e){var t=this.getData(e),o=[],n="",i="";return this.table.columnManager.getColumns().forEach(function(e){var t=e.getDefinition();e.visible&&!t.hideInHtml&&(n+="<th>"+(t.title||"")+"</th>",o.push(e))}),t.forEach(function(e){var t="";o.forEach(function(o){var n=o.getFieldValue(e);null==n&&(n=":"),t+="<td>"+n+"</td>"}),i+="<tr>"+t+"</tr>"}),"<table>\n\n\t\t\t<thead>\n\n\t\t\t<tr>"+n+"</tr>\n\n\t\t\t</thead>\n\n\t\t\t<tbody>"+i+"</tbody>\n\n\t\t\t</table>"},i.prototype.getComponents=function(e){var t=[];return(e?this.activeRows:this.rows).forEach(function(e){t.push(e.getComponent())}),t},i.prototype.getDataCount=function(e){return e?this.rows.length:this.activeRows.length},i.prototype._genRemoteRequest=function(){var e=this,t=e.table,o=t.options,n={};if(t.modExists("page")){if(o.ajaxSorting){var i=e.table.modules.sort.getSort();i.forEach(function(e){delete e.column}),n[e.table.modules.page.paginationDataSentNames.sorters]=i}if(o.ajaxFiltering){var a=e.table.modules.filter.getFilters(!0,!0);n[e.table.modules.page.paginationDataSentNames.filters]=a}e.table.modules.ajax.setParams(n,!0)}t.modules.ajax.sendRequest().then(function(t){e.setData(t)}).catch(function(e){})},i.prototype.filterRefresh=function(){var e=this.table,t=e.options,o=this.scrollLeft;t.ajaxFiltering?"remote"==t.pagination&&e.modExists("page")?(e.modules.page.reset(!0),e.modules.page.setPage(1).then(function(){}).catch(function(){})):t.ajaxProgressiveLoad?e.modules.ajax.loadData().then(function(){}).catch(function(){}):this._genRemoteRequest():this.refreshActiveData("filter"),this.scrollHorizontal(o)},i.prototype.sorterRefresh=function(e){var t=this.table,o=this.table.options,n=this.scrollLeft;o.ajaxSorting?("remote"==o.pagination||o.progressiveLoad)&&t.modExists("page")?(t.modules.page.reset(!0),t.modules.page.setPage(1).then(function(){}).catch(function(){})):o.ajaxProgressiveLoad?t.modules.ajax.loadData().then(function(){}).catch(function(){}):this._genRemoteRequest():this.refreshActiveData(e?"filter":"sort"),this.scrollHorizontal(n)},i.prototype.scrollHorizontal=function(e){this.scrollLeft=e,this.element.scrollLeft=e,this.table.options.groupBy&&this.table.modules.groupRows.scrollHeaders(e),this.table.modExists("columnCalcs")&&this.table.modules.columnCalcs.scrollHorizontal(e)},i.prototype.refreshActiveData=function(e,t,o){var n,i=this.table;switch(this.table.modExists("edit")&&this.table.modules.edit.cancelEdit(),e||(e="all"),i.options.selectable&&!i.options.selectablePersistence&&i.modExists("selectRow")&&i.modules.selectRow.deselectRows(),e){case"all":case"filter":t?t=!1:i.modExists("filter")?this.setActiveRows(i.modules.filter.filter(this.rows)):this.setActiveRows(this.rows.slice(0));case"sort":t?t=!1:i.modExists("sort")&&i.modules.sort.sort(this.activeRows);case"display":this.resetDisplayRows();case"freeze":t?t=!1:this.table.modExists("frozenRows")&&i.modules.frozenRows.isFrozen()&&(i.modules.frozenRows.getDisplayIndex()||i.modules.frozenRows.setDisplayIndex(this.getNextDisplayIndex()),n=i.modules.frozenRows.getDisplayIndex(),!0!==(n=this.setDisplayRows(i.modules.frozenRows.getRows(this.getDisplayRows(n-1)),n))&&i.modules.frozenRows.setDisplayIndex(n));case"group":t?t=!1:i.options.groupBy&&i.modExists("groupRows")&&(i.modules.groupRows.getDisplayIndex()||i.modules.groupRows.setDisplayIndex(this.getNextDisplayIndex()),n=i.modules.groupRows.getDisplayIndex(),!0!==(n=this.setDisplayRows(i.modules.groupRows.getRows(this.getDisplayRows(n-1)),n))&&i.modules.groupRows.setDisplayIndex(n));case"tree":t?t=!1:i.options.dataTree&&i.modExists("dataTree")&&(i.modules.dataTree.getDisplayIndex()||i.modules.dataTree.setDisplayIndex(this.getNextDisplayIndex()),n=i.modules.dataTree.getDisplayIndex(),!0!==(n=this.setDisplayRows(i.modules.dataTree.getRows(this.getDisplayRows(n-1)),n))&&i.modules.dataTree.setDisplayIndex(n)),i.options.pagination&&i.modExists("page")&&!o&&"local"==i.modules.page.getMode()&&i.modules.page.reset();case"page":t?t=!1:i.options.pagination&&i.modExists("page")&&(i.modules.page.getDisplayIndex()||i.modules.page.setDisplayIndex(this.getNextDisplayIndex()),n=i.modules.page.getDisplayIndex(),"local"==i.modules.page.getMode()&&i.modules.page.setMaxRows(this.getDisplayRows(n-1).length),!0!==(n=this.setDisplayRows(i.modules.page.getRows(this.getDisplayRows(n-1)),n))&&i.modules.page.setDisplayIndex(n))}d.prototype.helpers.elVisible(this.element)&&(o?this.reRenderInPosition():(this.renderTable(),i.options.layoutColumnsOnNewData&&this.table.columnManager.redraw(!0))),i.modExists("columnCalcs")&&i.modules.columnCalcs.recalc(this.activeRows)},i.prototype.setActiveRows=function(e){this.activeRows=e,this.activeRowsCount=this.activeRows.length},i.prototype.resetDisplayRows=function(){this.displayRows=[],this.displayRows.push(this.activeRows.slice(0)),this.displayRowsCount=this.displayRows[0].length,this.table.modExists("frozenRows")&&this.table.modules.frozenRows.setDisplayIndex(0),this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.setDisplayIndex(0),this.table.options.pagination&&this.table.modExists("page")&&this.table.modules.page.setDisplayIndex(0)},i.prototype.getNextDisplayIndex=function(){return this.displayRows.length},i.prototype.setDisplayRows=function(e,t){var o=!0;return t&&void 0!==this.displayRows[t]?(this.displayRows[t]=e,o=!0):(this.displayRows.push(e),o=t=this.displayRows.length-1),t==this.displayRows.length-1&&(this.displayRowsCount=this.displayRows[this.displayRows.length-1].length),o},i.prototype.getDisplayRows=function(e){return void 0===e?this.displayRows.length?this.displayRows[this.displayRows.length-1]:[]:this.displayRows[e]||[]},i.prototype.getVisibleRows=function(e){return this.getDisplayRows().slice(this.vDomTop,this.vDomBottom+1)},i.prototype.displayRowIterator=function(e){this.displayRows.forEach(e),this.displayRowsCount=this.displayRows[this.displayRows.length-1].length},i.prototype.getRows=function(){return this.rows},i.prototype.reRenderInPosition=function(e){if("virtual"==this.getRenderMode()){for(var t=this.element.scrollTop,o=!1,n=!1,i=this.scrollLeft,a=this.getDisplayRows(),r=this.vDomTop;r<=this.vDomBottom;r++)if(a[r]){var s=t-a[r].getElement().offsetTop;if(!(!1===n||Math.abs(s)<n))break;n=s,o=r}e&&e(),this._virtualRenderFill(!1===o?this.displayRowsCount-1:o,!0,n||0),this.scrollHorizontal(i)}else this.renderTable(),e&&e()},i.prototype.setRenderMode=function(){(this.table.element.clientHeight||this.table.options.height)&&this.table.options.virtualDom?this.renderMode="virtual":this.renderMode="classic"},i.prototype.getRenderMode=function(){return this.renderMode},i.prototype.renderTable=function(){switch(this.table.options.renderStarted.call(this.table),this.element.scrollTop=0,this.renderMode){case"classic":this._simpleRender();break;case"virtual":this._virtualRenderFill()}this.firstRender&&(this.displayRowsCount?(this.firstRender=!1,this.table.modules.layout.layout()):this.renderEmptyScroll()),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout(),this.displayRowsCount||this.table.options.placeholder&&(this.renderMode&&this.table.options.placeholder.setAttribute("tabulator-render-mode",this.renderMode),this.getElement().appendChild(this.table.options.placeholder)),this.table.options.renderComplete.call(this.table)},i.prototype._simpleRender=function(){this._clearVirtualDom(),this.displayRowsCount?this.checkClassicModeGroupHeaderWidth():this.renderEmptyScroll()},i.prototype.checkClassicModeGroupHeaderWidth=function(){var e=this,t=this.tableElement,o=!0;e.getDisplayRows().forEach(function(n,i){e.styleRow(n,i),t.appendChild(n.getElement()),n.initialize(!0),"group"!==n.type&&(o=!1)}),t.style.minWidth=o?e.table.columnManager.getWidth()+"px":""},i.prototype.renderEmptyScroll=function(){this.tableElement.style.minWidth=this.table.columnManager.getWidth()+"px",this.tableElement.style.minHeight="1px",this.tableElement.style.visibility="hidden"},i.prototype._clearVirtualDom=function(){var e=this.tableElement;for(this.table.options.placeholder&&this.table.options.placeholder.parentNode&&this.table.options.placeholder.parentNode.removeChild(this.table.options.placeholder);e.firstChild;)e.removeChild(e.firstChild);e.style.paddingTop="",e.style.paddingBottom="",e.style.minWidth="",e.style.minHeight="",e.style.visibility="",this.scrollTop=0,this.scrollLeft=0,this.vDomTop=0,this.vDomBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0},i.prototype.styleRow=function(e,t){var o=e.getElement();t%2?(o.classList.add("tabulator-row-even"),o.classList.remove("tabulator-row-odd")):(o.classList.add("tabulator-row-odd"),o.classList.remove("tabulator-row-even"))},i.prototype._virtualRenderFill=function(e,t,o){var n=this.tableElement,i=this.element,a=0,r=0,s=0,l=0,c=!0,u=this.getDisplayRows();if(o=o||0,e=e||0){for(;n.firstChild;)n.removeChild(n.firstChild);var h=(this.displayRowsCount-e+1)*this.vDomRowHeight;h<this.height&&(e-=Math.ceil((this.height-h)/this.vDomRowHeight))<0&&(e=0),e-=a=Math.min(Math.max(Math.floor(this.vDomWindowBuffer/this.vDomRowHeight),this.vDomWindowMinMarginRows),e)}else this._clearVirtualDom();if(this.displayRowsCount&&d.prototype.helpers.elVisible(this.element)){for(this.vDomTop=e,this.vDomBottom=e-1;(r<=this.height+this.vDomWindowBuffer||l<this.vDomWindowMinTotalRows)&&this.vDomBottom<this.displayRowsCount-1;){var f,p=this.vDomBottom+1,m=u[p];this.styleRow(m,p),n.appendChild(m.getElement()),m.initialized?m.heightInitialized||m.normalizeHeight(!0):m.initialize(!0),f=m.getHeight(),l<a?s+=f:r+=f,f>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*f),"group"!==m.type&&(c=!1),this.vDomBottom++,l++}e?(this.vDomTopPad=t?this.vDomRowHeight*this.vDomTop+o:this.scrollTop-s,this.vDomBottomPad=this.vDomBottom==this.displayRowsCount-1?0:Math.max(this.vDomScrollHeight-this.vDomTopPad-r-s,0)):(this.vDomTopPad=0,this.vDomRowHeight=Math.floor((r+s)/l),this.vDomBottomPad=this.vDomRowHeight*(this.displayRowsCount-this.vDomBottom-1),this.vDomScrollHeight=s+r+this.vDomBottomPad-this.height),n.style.paddingTop=this.vDomTopPad+"px",n.style.paddingBottom=this.vDomBottomPad+"px",t&&(this.scrollTop=this.vDomTopPad+s+o-(this.element.scrollWidth>this.element.clientWidth?this.element.offsetHeight-this.element.clientHeight:0)),this.scrollTop=Math.min(this.scrollTop,this.element.scrollHeight-this.height),this.element.scrollWidth>this.element.offsetWidth&&t&&(this.scrollTop+=this.element.offsetHeight-this.element.clientHeight),this.vDomScrollPosTop=this.scrollTop,this.vDomScrollPosBottom=this.scrollTop,i.scrollTop=this.scrollTop,n.style.minWidth=c?this.table.columnManager.getWidth()+"px":"",this.table.options.groupBy&&"fitDataFill"!=this.table.modules.layout.getMode()&&this.displayRowsCount==this.table.modules.groupRows.countGroups()&&(this.tableElement.style.minWidth=this.table.columnManager.getWidth())}else this.renderEmptyScroll()},i.prototype.scrollVertical=function(e){var t=this.scrollTop-this.vDomScrollPosTop,o=this.scrollTop-this.vDomScrollPosBottom,n=2*this.vDomWindowBuffer;if(-t>n||o>n){var i=this.scrollLeft;this._virtualRenderFill(Math.floor(this.element.scrollTop/this.element.scrollHeight*this.displayRowsCount)),this.scrollHorizontal(i)}else e?(t<0&&this._addTopRow(-t),o<0&&this.vDomScrollHeight-this.scrollTop>this.vDomWindowBuffer&&this._removeBottomRow(-o)):(t>=0&&this.scrollTop>this.vDomWindowBuffer&&this._removeTopRow(t),o>=0&&this._addBottomRow(o))},i.prototype._addTopRow=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=this.tableElement,n=this.getDisplayRows();if(this.vDomTop){var i=this.vDomTop-1,a=n[i],r=a.getHeight()||this.vDomRowHeight;e>=r&&(this.styleRow(a,i),o.insertBefore(a.getElement(),o.firstChild),a.initialized&&a.heightInitialized||(this.vDomTopNewRows.push(a),a.heightInitialized||a.clearCellHeight()),a.initialize(),this.vDomTopPad-=r,this.vDomTopPad<0&&(this.vDomTopPad=i*this.vDomRowHeight),i||(this.vDomTopPad=0),o.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop-=r,this.vDomTop--),e=-(this.scrollTop-this.vDomScrollPosTop),a.getHeight()>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*a.getHeight()),t<this.vDomMaxRenderChain&&this.vDomTop&&e>=(n[this.vDomTop-1].getHeight()||this.vDomRowHeight)?this._addTopRow(e,t+1):this._quickNormalizeRowHeight(this.vDomTopNewRows)}},i.prototype._removeTopRow=function(e){var t=this.tableElement,o=this.getDisplayRows()[this.vDomTop],n=o.getHeight()||this.vDomRowHeight;if(e>=n){var i=o.getElement();i.parentNode.removeChild(i),this.vDomTopPad+=n,t.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop+=this.vDomTop?n:n+this.vDomWindowBuffer,this.vDomTop++,e=this.scrollTop-this.vDomScrollPosTop,this._removeTopRow(e)}},i.prototype._addBottomRow=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=this.tableElement,n=this.getDisplayRows();if(this.vDomBottom<this.displayRowsCount-1){var i=this.vDomBottom+1,a=n[i],r=a.getHeight()||this.vDomRowHeight;e>=r&&(this.styleRow(a,i),o.appendChild(a.getElement()),a.initialized&&a.heightInitialized||(this.vDomBottomNewRows.push(a),a.heightInitialized||a.clearCellHeight()),a.initialize(),this.vDomBottomPad-=r,(this.vDomBottomPad<0||i==this.displayRowsCount-1)&&(this.vDomBottomPad=0),o.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom+=r,this.vDomBottom++),e=this.scrollTop-this.vDomScrollPosBottom,a.getHeight()>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*a.getHeight()),t<this.vDomMaxRenderChain&&this.vDomBottom<this.displayRowsCount-1&&e>=(n[this.vDomBottom+1].getHeight()||this.vDomRowHeight)?this._addBottomRow(e,t+1):this._quickNormalizeRowHeight(this.vDomBottomNewRows)}},i.prototype._removeBottomRow=function(e){var t=this.tableElement,o=this.getDisplayRows()[this.vDomBottom],n=o.getHeight()||this.vDomRowHeight;if(e>=n){var i=o.getElement();i.parentNode&&i.parentNode.removeChild(i),this.vDomBottomPad+=n,this.vDomBottomPad<0&&(this.vDomBottomPad=0),t.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom-=n,this.vDomBottom--,e=-(this.scrollTop-this.vDomScrollPosBottom),this._removeBottomRow(e)}},i.prototype._quickNormalizeRowHeight=function(e){e.forEach(function(e){e.calcHeight()}),e.forEach(function(e){e.setCellHeight()}),e.length=0},i.prototype.normalizeHeight=function(){this.activeRows.forEach(function(e){e.normalizeHeight()})},i.prototype.adjustTableSize=function(){if("virtual"===this.renderMode){this.height=this.element.clientHeight,this.vDomWindowBuffer=this.table.options.virtualDomBuffer||this.height;var e=this.columnManager.getElement().offsetHeight+(this.table.footerManager&&!this.table.footerManager.external?this.table.footerManager.getElement().offsetHeight:0);this.element.style.minHeight="calc(100% - "+e+"px)",this.element.style.height="calc(100% - "+e+"px)",this.element.style.maxHeight="calc(100% - "+e+"px)"}},i.prototype.reinitialize=function(){this.rows.forEach(function(e){e.reinitialize()})},i.prototype.redraw=function(e){var t=this.scrollLeft;this.adjustTableSize(),this.table.tableWidth=this.table.element.clientWidth,e?this.renderTable():("classic"==self.renderMode?self.table.options.groupBy?self.refreshActiveData("group",!1,!1):this._simpleRender():(this.reRenderInPosition(),this.scrollHorizontal(t)),this.displayRowsCount||this.table.options.placeholder&&this.getElement().appendChild(this.table.options.placeholder))},i.prototype.resetScroll=function(){if(this.element.scrollLeft=0,this.element.scrollTop=0,"ie"===this.table.browser){var e=document.createEvent("Event");e.initEvent("scroll",!1,!0),this.element.dispatchEvent(e)}else this.element.dispatchEvent(new Event("scroll"))};var r=function(e){this._row=e};r.prototype.getData=function(e){return this._row.getData(e)},r.prototype.getElement=function(){return this._row.getElement()},r.prototype.getCells=function(){var e=[];return this._row.getCells().forEach(function(t){e.push(t.getComponent())}),e},r.prototype.getCell=function(e){var t=this._row.getCell(e);return!!t&&t.getComponent()},r.prototype.getIndex=function(){return this._row.getData("data")[this._row.table.options.index]},r.prototype.getPosition=function(e){return this._row.table.rowManager.getRowPosition(this._row,e)},r.prototype.delete=function(){return this._row.delete()},r.prototype.scrollTo=function(){return this._row.table.rowManager.scrollToRow(this._row)},r.prototype.pageTo=function(){if(this._row.table.modExists("page",!0))return this._row.table.modules.page.setPageToRow(this._row)},r.prototype.move=function(e,t){this._row.moveToRow(e,t)},r.prototype.update=function(e){return this._row.updateData(e)},r.prototype.normalizeHeight=function(){this._row.normalizeHeight(!0)},r.prototype.select=function(){this._row.table.modules.selectRow.selectRows(this._row)},r.prototype.deselect=function(){this._row.table.modules.selectRow.deselectRows(this._row)},r.prototype.toggleSelect=function(){this._row.table.modules.selectRow.toggleRow(this._row)},r.prototype.isSelected=function(){return this._row.table.modules.selectRow.isRowSelected(this._row)},r.prototype._getSelf=function(){return this._row},r.prototype.freeze=function(){this._row.table.modExists("frozenRows",!0)&&this._row.table.modules.frozenRows.freezeRow(this._row)},r.prototype.unfreeze=function(){this._row.table.modExists("frozenRows",!0)&&this._row.table.modules.frozenRows.unfreezeRow(this._row)},r.prototype.treeCollapse=function(){this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.collapseRow(this._row)},r.prototype.treeExpand=function(){this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.expandRow(this._row)},r.prototype.treeToggle=function(){this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.toggleRow(this._row)},r.prototype.getTreeParent=function(){return!!this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.getTreeParent(this._row)},r.prototype.getTreeChildren=function(){return!!this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.getTreeChildren(this._row)},r.prototype.reformat=function(){return this._row.reinitialize()},r.prototype.getGroup=function(){return this._row.getGroup().getComponent()},r.prototype.getTable=function(){return this._row.table},r.prototype.getNextRow=function(){var e=this._row.nextRow();return e?e.getComponent():e},r.prototype.getPrevRow=function(){var e=this._row.prevRow();return e?e.getComponent():e};var s=function(e,t){this.table=t.table,this.parent=t,this.data={},this.type="row",this.element=this.createElement(),this.modules={},this.cells=[],this.height=0,this.heightStyled="",this.manualHeight=!1,this.outerHeight=0,this.initialized=!1,this.heightInitialized=!1,this.setData(e),this.generateElement()};s.prototype.createElement=function(){var e=document.createElement("div");return e.classList.add("tabulator-row"),e.setAttribute("role","row"),e},s.prototype.getElement=function(){return this.element},s.prototype.detachElement=function(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)},s.prototype.generateElement=function(){var e,t,o,n=this;!1!==n.table.options.selectable&&n.table.modExists("selectRow")&&n.table.modules.selectRow.initializeRow(this),!1!==n.table.options.movableRows&&n.table.modExists("moveRow")&&n.table.modules.moveRow.initializeRow(this),!1!==n.table.options.dataTree&&n.table.modExists("dataTree")&&n.table.modules.dataTree.initializeRow(this),n.table.options.rowClick&&n.element.addEventListener("click",function(e){n.table.options.rowClick(e,n.getComponent())}),n.table.options.rowDblClick&&n.element.addEventListener("dblclick",function(e){n.table.options.rowDblClick(e,n.getComponent())}),n.table.options.rowContext&&n.element.addEventListener("contextmenu",function(e){n.table.options.rowContext(e,n.getComponent())}),n.table.options.rowMouseEnter&&n.element.addEventListener("mouseenter",function(e){n.table.options.rowMouseEnter(e,n.getComponent())}),n.table.options.rowMouseLeave&&n.element.addEventListener("mouseleave",function(e){n.table.options.rowMouseLeave(e,n.getComponent())}),n.table.options.rowMouseOver&&n.element.addEventListener("mouseover",function(e){n.table.options.rowMouseOver(e,n.getComponent())}),n.table.options.rowMouseOut&&n.element.addEventListener("mouseout",function(e){n.table.options.rowMouseOut(e,n.getComponent())}),n.table.options.rowMouseMove&&n.element.addEventListener("mousemove",function(e){n.table.options.rowMouseMove(e,n.getComponent())}),n.table.options.rowTap&&(o=!1,n.element.addEventListener("touchstart",function(e){o=!0}),n.element.addEventListener("touchend",function(e){o&&n.table.options.rowTap(e,n.getComponent()),o=!1})),n.table.options.rowDblTap&&(e=null,n.element.addEventListener("touchend",function(t){e?(clearTimeout(e),e=null,n.table.options.rowDblTap(t,n.getComponent())):e=setTimeout(function(){clearTimeout(e),e=null},300)})),n.table.options.rowTapHold&&(t=null,n.element.addEventListener("touchstart",function(e){clearTimeout(t),t=setTimeout(function(){clearTimeout(t),t=null,o=!1,n.table.options.rowTapHold(e,n.getComponent())},1e3)}),n.element.addEventListener("touchend",function(e){clearTimeout(t),t=null}))},s.prototype.generateCells=function(){this.cells=this.table.columnManager.generateCells(this)},s.prototype.initialize=function(e){var t=this;if(!t.initialized||e){for(t.deleteCells();t.element.firstChild;)t.element.removeChild(t.element.firstChild);this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layoutRow(this),this.generateCells(),t.cells.forEach(function(e){t.element.appendChild(e.getElement()),e.cellRendered()}),e&&t.normalizeHeight(),t.table.options.dataTree&&t.table.modExists("dataTree")&&t.table.modules.dataTree.layoutRow(this),"collapse"===t.table.options.responsiveLayout&&t.table.modExists("responsiveLayout")&&t.table.modules.responsiveLayout.layoutRow(this),t.table.options.rowFormatter&&t.table.options.rowFormatter(t.getComponent()),t.table.options.resizableRows&&t.table.modExists("resizeRows")&&t.table.modules.resizeRows.initializeRow(t),t.initialized=!0}},s.prototype.reinitializeHeight=function(){this.heightInitialized=!1,null!==this.element.offsetParent&&this.normalizeHeight(!0)},s.prototype.reinitialize=function(){this.initialized=!1,this.heightInitialized=!1,this.manualHeight||(this.height=0,this.heightStyled=""),null!==this.element.offsetParent&&this.initialize(!0)},s.prototype.calcHeight=function(e){var t=0,o=this.table.options.resizableRows?this.element.clientHeight:0;this.cells.forEach(function(e){var o=e.getHeight();o>t&&(t=o)}),this.height=e?Math.max(t,o):this.manualHeight?this.height:Math.max(t,o),this.heightStyled=this.height?this.height+"px":"",this.outerHeight=this.element.offsetHeight},s.prototype.setCellHeight=function(){this.cells.forEach(function(e){e.setHeight()}),this.heightInitialized=!0},s.prototype.clearCellHeight=function(){this.cells.forEach(function(e){e.clearHeight()})},s.prototype.normalizeHeight=function(e){e&&this.clearCellHeight(),this.calcHeight(e),this.setCellHeight()},s.prototype.setHeight=function(e,t){(this.height!=e||t)&&(this.manualHeight=!0,this.height=e,this.heightStyled=e?e+"px":"",this.setCellHeight(),this.outerHeight=this.element.offsetHeight)},s.prototype.getHeight=function(){return this.outerHeight},s.prototype.getWidth=function(){return this.element.offsetWidth},s.prototype.deleteCell=function(e){var t=this.cells.indexOf(e);t>-1&&this.cells.splice(t,1)},s.prototype.setData=function(e){this.table.modExists("mutator")&&(e=this.table.modules.mutator.transformRow(e,"data")),this.data=e,this.table.options.reactiveData&&this.table.modExists("reactiveData",!0)&&this.table.modules.reactiveData.watchRow(this)},s.prototype.updateData=function(e){var t=this,o=this,n=d.prototype.helpers.elVisible(this.element);return new Promise(function(i,a){for(var r in"string"==typeof e&&(e=JSON.parse(e)),t.table.options.reactiveData&&t.table.modExists("reactiveData",!0)&&t.table.modules.reactiveData.block(),o.table.modExists("mutator")&&(e=o.table.modules.mutator.transformRow(e,"data",!0)),e)o.data[r]=e[r];for(var r in t.table.options.reactiveData&&t.table.modExists("reactiveData",!0)&&t.table.modules.reactiveData.unblock(),e){var s=t.getCell(r);s&&s.getValue()!=e[r]&&(s.setValueProcessData(e[r]),n&&s.cellRendered())}n?(o.normalizeHeight(),o.table.options.rowFormatter&&o.table.options.rowFormatter(o.getComponent())):(t.initialized=!1,t.height=0,t.heightStyled=""),!1!==o.table.options.dataTree&&o.table.modExists("dataTree")&&void 0!==e[t.table.modules.dataTree.getChildField()]&&(t.table.modules.dataTree.initializeRow(t),t.table.rowManager.refreshActiveData("tree",!1,!0)),o.table.options.rowUpdated.call(t.table,o.getComponent()),i()})},s.prototype.getData=function(e){return e?this.table.modExists("accessor")?this.table.modules.accessor.transformRow(this.data,e):void 0:this.data},s.prototype.getCell=function(e){return e=this.table.columnManager.findColumn(e),this.cells.find(function(t){return t.column===e})},s.prototype.getCellIndex=function(e){return this.cells.findIndex(function(t){return t===e})},s.prototype.findNextEditableCell=function(e){var t=!1;if(e<this.cells.length-1)for(var o=e+1;o<this.cells.length;o++){var n=this.cells[o];if(n.column.modules.edit&&d.prototype.helpers.elVisible(n.getElement())){var i=!0;if("function"==typeof n.column.modules.edit.check&&(i=n.column.modules.edit.check(n.getComponent())),i){t=n;break}}}return t},s.prototype.findPrevEditableCell=function(e){var t=!1;if(e>0)for(var o=e-1;o>=0;o--){var n=this.cells[o],i=!0;if(n.column.modules.edit&&d.prototype.helpers.elVisible(n.getElement())&&("function"==typeof n.column.modules.edit.check&&(i=n.column.modules.edit.check(n.getComponent())),i)){t=n;break}}return t},s.prototype.getCells=function(){return this.cells},s.prototype.nextRow=function(){return this.table.rowManager.nextDisplayRow(this,!0)||!1},s.prototype.prevRow=function(){return this.table.rowManager.prevDisplayRow(this,!0)||!1},s.prototype.moveToRow=function(e,t){var o=this.table.rowManager.findRow(e);o?(this.table.rowManager.moveRowActual(this,o,!t),this.table.rowManager.refreshActiveData("display",!1,!0)):console.warn("Move Error - No matching row found:",e)},s.prototype.delete=function(){var e=this;return new Promise(function(t,o){var n=e.table.rowManager.getRowIndex(e);e.deleteActual(),e.table.options.history&&e.table.modExists("history")&&(n&&(n=e.table.rowManager.rows[n-1]),e.table.modules.history.action("rowDelete",e,{data:e.getData(),pos:!n,index:n})),t()})},s.prototype.deleteActual=function(e){this.table.rowManager.getRowIndex(this);this.table.modExists("selectRow")&&this.table.modules.selectRow._deselectRow(this,!0),this.table.options.reactiveData&&this.table.modExists("reactiveData",!0),this.modules.group&&this.modules.group.removeRow(this),this.table.rowManager.deleteRow(this,e),this.deleteCells(),this.initialized=!1,this.heightInitialized=!1,this.table.modExists("columnCalcs")&&(this.table.options.groupBy&&this.table.modExists("groupRows")?this.table.modules.columnCalcs.recalcRowGroup(this):this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows))},s.prototype.deleteCells=function(){for(var e=this.cells.length,t=0;t<e;t++)this.cells[0].delete()},s.prototype.wipe=function(){for(this.deleteCells();this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element=!1,this.modules={},this.element.parentNode&&this.element.parentNode.removeChild(this.element)},s.prototype.getGroup=function(){return this.modules.group||!1},s.prototype.getComponent=function(){return new r(this)};var l=function(e){this._cell=e};l.prototype.getValue=function(){return this._cell.getValue()},l.prototype.getOldValue=function(){return this._cell.getOldValue()},l.prototype.getElement=function(){return this._cell.getElement()},l.prototype.getRow=function(){return this._cell.row.getComponent()},l.prototype.getData=function(){return this._cell.row.getData()},l.prototype.getField=function(){return this._cell.column.getField()},l.prototype.getColumn=function(){return this._cell.column.getComponent()},l.prototype.setValue=function(e,t){void 0===t&&(t=!0),this._cell.setValue(e,t)},l.prototype.restoreOldValue=function(){this._cell.setValueActual(this._cell.getOldValue())},l.prototype.edit=function(e){return this._cell.edit(e)},l.prototype.cancelEdit=function(){this._cell.cancelEdit()},l.prototype.nav=function(){return this._cell.nav()},l.prototype.checkHeight=function(){this._cell.checkHeight()},l.prototype.getTable=function(){return this._cell.table},l.prototype._getSelf=function(){return this._cell};var c=function(e,t){this.table=e.table,this.column=e,this.row=t,this.element=null,this.value=null,this.oldValue=null,this.height=null,this.width=null,this.minWidth=null,this.build()};c.prototype.build=function(){this.generateElement(),this.setWidth(),this._configureCell(),this.setValueActual(this.column.getFieldValue(this.row.data))},c.prototype.generateElement=function(){this.element=document.createElement("div"),this.element.className="tabulator-cell",this.element.setAttribute("role","gridcell"),this.element=this.element},c.prototype._configureCell=function(){var e=this,t=e.column.cellEvents,o=e.element,n=this.column.getField();(o.style.textAlign=e.column.hozAlign,n&&o.setAttribute("tabulator-field",n),e.column.definition.cssClass)&&e.column.definition.cssClass.split(" ").forEach(function(e){o.classList.add(e)});"hover"===this.table.options.tooltipGenerationMode&&o.addEventListener("mouseenter",function(t){e._generateTooltip()}),e._bindClickEvents(t),e._bindTouchEvents(t),e._bindMouseEvents(t),e.column.modules.edit&&e.table.modules.edit.bindEditor(e),e.column.definition.rowHandle&&!1!==e.table.options.movableRows&&e.table.modExists("moveRow")&&e.table.modules.moveRow.initializeCell(e),e.column.visible||e.hide()},c.prototype._bindClickEvents=function(e){var t=this,o=t.element;(e.cellClick||t.table.options.cellClick)&&o.addEventListener("click",function(o){var n=t.getComponent();e.cellClick&&e.cellClick.call(t.table,o,n),t.table.options.cellClick&&t.table.options.cellClick.call(t.table,o,n)}),(e.cellDblClick||this.table.options.cellDblClick)&&o.addEventListener("dblclick",function(o){var n=t.getComponent();e.cellDblClick&&e.cellDblClick.call(t.table,o,n),t.table.options.cellDblClick&&t.table.options.cellDblClick.call(t.table,o,n)}),(e.cellContext||this.table.options.cellContext)&&o.addEventListener("contextmenu",function(o){var n=t.getComponent();e.cellContext&&e.cellContext.call(t.table,o,n),t.table.options.cellContext&&t.table.options.cellContext.call(t.table,o,n)})},c.prototype._bindMouseEvents=function(e){var t=this,o=t.element;(e.cellMouseEnter||t.table.options.cellMouseEnter)&&o.addEventListener("mouseenter",function(o){var n=t.getComponent();e.cellMouseEnter&&e.cellMouseEnter.call(t.table,o,n),t.table.options.cellMouseEnter&&t.table.options.cellMouseEnter.call(t.table,o,n)}),(e.cellMouseLeave||t.table.options.cellMouseLeave)&&o.addEventListener("mouseleave",function(o){var n=t.getComponent();e.cellMouseLeave&&e.cellMouseLeave.call(t.table,o,n),t.table.options.cellMouseLeave&&t.table.options.cellMouseLeave.call(t.table,o,n)}),(e.cellMouseOver||t.table.options.cellMouseOver)&&o.addEventListener("mouseover",function(o){var n=t.getComponent();e.cellMouseOver&&e.cellMouseOver.call(t.table,o,n),t.table.options.cellMouseOver&&t.table.options.cellMouseOver.call(t.table,o,n)}),(e.cellMouseOut||t.table.options.cellMouseOut)&&o.addEventListener("mouseout",function(o){var n=t.getComponent();e.cellMouseOut&&e.cellMouseOut.call(t.table,o,n),t.table.options.cellMouseOut&&t.table.options.cellMouseOut.call(t.table,o,n)}),(e.cellMouseMove||t.table.options.cellMouseMove)&&o.addEventListener("mousemove",function(o){var n=t.getComponent();e.cellMouseMove&&e.cellMouseMove.call(t.table,o,n),t.table.options.cellMouseMove&&t.table.options.cellMouseMove.call(t.table,o,n)})},c.prototype._bindTouchEvents=function(e){var t,o,n,i=this,a=i.element;(e.cellTap||this.table.options.cellTap)&&(n=!1,a.addEventListener("touchstart",function(e){n=!0}),a.addEventListener("touchend",function(t){if(n){var o=i.getComponent();e.cellTap&&e.cellTap.call(i.table,t,o),i.table.options.cellTap&&i.table.options.cellTap.call(i.table,t,o)}n=!1})),(e.cellDblTap||this.table.options.cellDblTap)&&(t=null,a.addEventListener("touchend",function(o){if(t){clearTimeout(t),t=null;var n=i.getComponent();e.cellDblTap&&e.cellDblTap.call(i.table,o,n),i.table.options.cellDblTap&&i.table.options.cellDblTap.call(i.table,o,n)}else t=setTimeout(function(){clearTimeout(t),t=null},300)})),(e.cellTapHold||this.table.options.cellTapHold)&&(o=null,a.addEventListener("touchstart",function(t){clearTimeout(o),o=setTimeout(function(){clearTimeout(o),o=null,n=!1;var a=i.getComponent();e.cellTapHold&&e.cellTapHold.call(i.table,t,a),i.table.options.cellTapHold&&i.table.options.cellTapHold.call(i.table,t,a)},1e3)}),a.addEventListener("touchend",function(e){clearTimeout(o),o=null}))},c.prototype._generateContents=function(){var e;switch(void 0===(e=this.table.modExists("format")?this.table.modules.format.formatValue(this):this.element.innerHTML=this.value)?"undefined":a(e)){case"object":if(e instanceof Node){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.appendChild(e)}else this.element.innerHTML="",null!=e&&console.warn("Format Error - Formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",e);break;case"undefined":case"null":this.element.innerHTML="";break;default:this.element.innerHTML=e}},c.prototype.cellRendered=function(){this.table.modExists("format")&&this.table.modules.format.cellRendered&&this.table.modules.format.cellRendered(this)},c.prototype._generateTooltip=function(){var e=this.column.tooltip;e?(!0===e?e=this.value:"function"==typeof e&&!1===(e=e(this.getComponent()))&&(e=""),void 0===e&&(e=""),this.element.setAttribute("title",e)):this.element.setAttribute("title","")},c.prototype.getElement=function(){return this.element},c.prototype.getValue=function(){return this.value},c.prototype.getOldValue=function(){return this.oldValue},c.prototype.setValue=function(e,t){var o;this.setValueProcessData(e,t)&&(this.table.options.history&&this.table.modExists("history")&&this.table.modules.history.action("cellEdit",this,{oldValue:this.oldValue,newValue:this.value}),o=this.getComponent(),this.column.cellEvents.cellEdited&&this.column.cellEvents.cellEdited.call(this.table,o),this.table.options.cellEdited.call(this.table,o),this.table.options.dataEdited.call(this.table,this.table.rowManager.getData()))},c.prototype.setValueProcessData=function(e,t){var o=!1;return this.value!=e&&(o=!0,t&&this.column.modules.mutate&&(e=this.table.modules.mutator.transformCell(this,e))),this.setValueActual(e),o&&this.table.modExists("columnCalcs")&&(this.column.definition.topCalc||this.column.definition.bottomCalc)&&(this.table.options.groupBy&&this.table.modExists("groupRows")?this.table.modules.columnCalcs.recalcRowGroup(this.row):this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows)),o},c.prototype.setValueActual=function(e){this.oldValue=this.value,this.value=e,this.table.options.reactiveData&&this.table.modExists("reactiveData")&&this.table.modules.reactiveData.block(),this.column.setFieldValue(this.row.data,e),this.table.options.reactiveData&&this.table.modExists("reactiveData")&&this.table.modules.reactiveData.unblock(),this._generateContents(),this._generateTooltip(),this.table.options.resizableColumns&&this.table.modExists("resizeColumns")&&this.table.modules.resizeColumns.initializeColumn("cell",this.column,this.element),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layoutElement(this.element,this.column)},c.prototype.setWidth=function(){this.width=this.column.width,this.element.style.width=this.column.widthStyled},c.prototype.clearWidth=function(){this.width="",this.element.style.width=""},c.prototype.getWidth=function(){return this.width||this.element.offsetWidth},c.prototype.setMinWidth=function(){this.minWidth=this.column.minWidth,this.element.style.minWidth=this.column.minWidthStyled},c.prototype.checkHeight=function(){this.row.reinitializeHeight()},c.prototype.clearHeight=function(){this.element.style.height="",this.height=null},c.prototype.setHeight=function(){this.height=this.row.height,this.element.style.height=this.row.heightStyled},c.prototype.getHeight=function(){return this.height||this.element.offsetHeight},c.prototype.show=function(){this.element.style.display=""},c.prototype.hide=function(){this.element.style.display="none"},c.prototype.edit=function(e){if(this.table.modExists("edit",!0))return this.table.modules.edit.editCell(this,e)},c.prototype.cancelEdit=function(){if(this.table.modExists("edit",!0)){var e=this.table.modules.edit.getCurrentCell();e&&e._getSelf()===this?this.table.modules.edit.cancelEdit():console.warn("Cancel Editor Error - This cell is not currently being edited ")}},c.prototype.delete=function(){this.element.parentNode.removeChild(this.element),this.element=!1,this.column.deleteCell(this),this.row.deleteCell(this),this.calcs={}},c.prototype.nav=function(){var e=this,t=!1,o=this.row.getCellIndex(this);return{next:function(){var t,o=this.right();return!!o||!(!(t=e.table.rowManager.nextDisplayRow(e.row,!0))||!(o=t.findNextEditableCell(-1)))&&(o.edit(),!0)},prev:function(){var t,o=this.left();return!!o||!(!(t=e.table.rowManager.prevDisplayRow(e.row,!0))||!(o=t.findPrevEditableCell(t.cells.length)))&&(o.edit(),!0)},left:function(){return!!(t=e.row.findPrevEditableCell(o))&&(t.edit(),!0)},right:function(){return!!(t=e.row.findNextEditableCell(o))&&(t.edit(),!0)},up:function(){var t=e.table.rowManager.prevDisplayRow(e.row,!0);t&&t.cells[o].edit()},down:function(){var t=e.table.rowManager.nextDisplayRow(e.row,!0);t&&t.cells[o].edit()}}},c.prototype.getIndex=function(){this.row.getCellIndex(this)},c.prototype.getComponent=function(){return new l(this)};var u=function(e){this.table=e,this.active=!1,this.element=this.createElement(),this.external=!1,this.links=[],this._initialize()};u.prototype.createElement=function(){var e=document.createElement("div");return e.classList.add("tabulator-footer"),e},u.prototype._initialize=function(e){if(this.table.options.footerElement)switch(a(this.table.options.footerElement)){case"string":"<"===this.table.options.footerElement[0]?this.element.innerHTML=this.table.options.footerElement:(this.external=!0,this.element=document.querySelector(this.table.options.footerElement));break;default:this.element=this.table.options.footerElement}},u.prototype.getElement=function(){return this.element},u.prototype.append=function(e,t){this.activate(t),this.element.appendChild(e),this.table.rowManager.adjustTableSize()},u.prototype.prepend=function(e,t){this.activate(t),this.element.insertBefore(e,this.element.firstChild),this.table.rowManager.adjustTableSize()},u.prototype.remove=function(e){e.parentNode.removeChild(e),this.deactivate()},u.prototype.deactivate=function(e){this.element.firstChild&&!e||(this.external||this.element.parentNode.removeChild(this.element),this.active=!1)},u.prototype.activate=function(e){this.active||(this.active=!0,this.external||(this.table.element.appendChild(this.getElement()),this.table.element.style.display="")),e&&this.links.push(e)},u.prototype.redraw=function(){this.links.forEach(function(e){e.footerRedraw()})};var d=function e(t,o){this.options={},this.columnManager=null,this.rowManager=null,this.footerManager=null,this.browser="",this.browserSlow=!1,this.modules={},this.initializeElement(t),this.initializeOptions(o||{}),this._create(),e.prototype.comms.register(this)};d.prototype.defaultOptions={height:!1,layout:"fitData",layoutColumnsOnNewData:!1,columnMinWidth:40,columnVertAlign:"top",resizableColumns:!0,resizableRows:!1,autoResize:!0,columns:[],data:[],autoColumns:!1,reactiveData:!1,nestedFieldSeparator:".",tooltips:!1,tooltipsHeader:!1,tooltipGenerationMode:"load",initialSort:!1,initialFilter:!1,initialHeaderFilter:!1,columnHeaderSortMulti:!0,sortOrderReverse:!1,footerElement:!1,index:"id",keybindings:[],clipboard:!1,clipboardCopyStyled:!0,clipboardCopySelector:"active",clipboardCopyFormatter:"table",clipboardPasteParser:"table",clipboardPasteAction:"insert",clipboardCopyConfig:!1,clipboardCopied:function(){},clipboardPasted:function(){},clipboardPasteError:function(){},downloadDataFormatter:!1,downloadReady:function(e,t){return t},downloadComplete:!1,downloadConfig:!1,dataTree:!1,dataTreeElementColumn:!1,dataTreeBranchElement:!0,dataTreeChildIndent:9,dataTreeChildField:"_children",dataTreeCollapseElement:!1,dataTreeExpandElement:!1,dataTreeStartExpanded:!1,dataTreeRowExpanded:function(){},dataTreeRowCollapsed:function(){},addRowPos:"bottom",selectable:"highlight",selectableRangeMode:"drag",selectableRollingSelection:!0,selectablePersistence:!0,selectableCheck:function(e,t){return!0},headerFilterPlaceholder:!1,history:!1,locale:!1,langs:{},virtualDom:!0,virtualDomBuffer:0,persistentLayout:!1,persistentSort:!1,persistentFilter:!1,persistenceID:"",persistenceMode:!0,responsiveLayout:!1,responsiveLayoutCollapseStartOpen:!0,responsiveLayoutCollapseUseFormatters:!0,responsiveLayoutCollapseFormatter:!1,pagination:!1,paginationSize:!1,paginationButtonCount:5,paginationSizeSelector:!1,paginationElement:!1,paginationDataSent:{},paginationDataReceived:{},paginationAddRow:"page",ajaxURL:!1,ajaxURLGenerator:!1,ajaxParams:{},ajaxConfig:"get",ajaxContentType:"form",ajaxRequestFunc:!1,ajaxLoader:!0,ajaxLoaderLoading:!1,ajaxLoaderError:!1,ajaxFiltering:!1,ajaxSorting:!1,ajaxProgressiveLoad:!1,ajaxProgressiveLoadDelay:0,ajaxProgressiveLoadScrollMargin:0,groupBy:!1,groupStartOpen:!0,groupValues:!1,groupHeader:!1,movableColumns:!1,movableRows:!1,movableRowsConnectedTables:!1,movableRowsSender:!1,movableRowsReceiver:"insert",movableRowsSendingStart:function(){},movableRowsSent:function(){},movableRowsSentFailed:function(){},movableRowsSendingStop:function(){},movableRowsReceivingStart:function(){},movableRowsReceived:function(){},movableRowsReceivedFailed:function(){},movableRowsReceivingStop:function(){},scrollToRowPosition:"top",scrollToRowIfVisible:!0,scrollToColumnPosition:"left",scrollToColumnIfVisible:!0,rowFormatter:!1,placeholder:!1,tableBuilding:function(){},tableBuilt:function(){},renderStarted:function(){},renderComplete:function(){},rowClick:!1,rowDblClick:!1,rowContext:!1,rowTap:!1,rowDblTap:!1,rowTapHold:!1,rowMouseEnter:!1,rowMouseLeave:!1,rowMouseOver:!1,rowMouseOut:!1,rowMouseMove:!1,rowAdded:function(){},rowDeleted:function(){},rowMoved:function(){},rowUpdated:function(){},rowSelectionChanged:function(){},rowSelected:function(){},rowDeselected:function(){},rowResized:function(){},cellClick:!1,cellDblClick:!1,cellContext:!1,cellTap:!1,cellDblTap:!1,cellTapHold:!1,cellMouseEnter:!1,cellMouseLeave:!1,cellMouseOver:!1,cellMouseOut:!1,cellMouseMove:!1,cellEditing:function(){},cellEdited:function(){},cellEditCancelled:function(){},columnMoved:!1,columnResized:function(){},columnTitleChanged:function(){},columnVisibilityChanged:function(){},htmlImporting:function(){},htmlImported:function(){},dataLoading:function(){},dataLoaded:function(){},dataEdited:function(){},ajaxRequesting:function(){},ajaxResponse:!1,ajaxError:function(){},dataFiltering:!1,dataFiltered:!1,dataSorting:function(){},dataSorted:function(){},groupToggleElement:"arrow",groupClosedShowCalcs:!1,dataGrouping:function(){},dataGrouped:!1,groupVisibilityChanged:function(){},groupClick:!1,groupDblClick:!1,groupContext:!1,groupTap:!1,groupDblTap:!1,groupTapHold:!1,columnCalcs:!0,pageLoaded:function(){},localized:function(){},validationFailed:function(){},historyUndo:function(){},historyRedo:function(){}},d.prototype.initializeOptions=function(e){for(var t in this.defaultOptions)t in e?this.options[t]=e[t]:Array.isArray(this.defaultOptions[t])?this.options[t]=[]:"object"===a(this.defaultOptions[t])?this.options[t]={}:this.options[t]=this.defaultOptions[t]},d.prototype.initializeElement=function(e){return"undefined"!=typeof HTMLElement&&e instanceof HTMLElement?(this.element=e,!0):"string"==typeof e?(this.element=document.querySelector(e),!!this.element||(console.error("Tabulator Creation Error - no element found matching selector: ",e),!1)):(console.error("Tabulator Creation Error - Invalid element provided:",e),!1)},d.prototype._mapDepricatedFunctionality=function(){},d.prototype._create=function(){this._clearObjectPointers(),this._mapDepricatedFunctionality(),this.bindModules(),"TABLE"===this.element.tagName&&this.modExists("htmlTableImport",!0)&&this.modules.htmlTableImport.parseTable(),this.columnManager=new t(this),this.rowManager=new i(this),this.footerManager=new u(this),this.columnManager.setRowManager(this.rowManager),this.rowManager.setColumnManager(this.columnManager),this._buildElement(),this._loadInitialData()},d.prototype._clearObjectPointers=function(){this.options.columns=this.options.columns.slice(0),this.options.reactiveData||(this.options.data=this.options.data.slice(0))},d.prototype._buildElement=function(){var e=this,t=this.element,o=this.modules,n=this.options;for(n.tableBuilding.call(this),t.classList.add("tabulator"),t.setAttribute("role","grid");t.firstChild;)t.removeChild(t.firstChild);for(var i in n.height&&(n.height=isNaN(n.height)?n.height:n.height+"px",t.style.height=n.height),this.columnManager.initialize(),this.rowManager.initialize(),this._detectBrowser(),this.modExists("layout",!0)&&o.layout.initialize(n.layout),!1!==n.headerFilterPlaceholder&&o.localize.setHeaderFilterPlaceholder(n.headerFilterPlaceholder),n.langs)o.localize.installLang(i,n.langs[i]);if(o.localize.setLocale(n.locale),"string"==typeof n.placeholder){var a=document.createElement("div");a.classList.add("tabulator-placeholder");var r=document.createElement("span");r.innerHTML=n.placeholder,a.appendChild(r),n.placeholder=a}if(t.appendChild(this.columnManager.getElement()),t.appendChild(this.rowManager.getElement()),n.footerElement&&this.footerManager.activate(),(n.persistentLayout||n.persistentSort||n.persistentFilter)&&this.modExists("persistence",!0)&&o.persistence.initialize(n.persistenceMode,n.persistenceID),n.persistentLayout&&this.modExists("persistence",!0)&&(n.columns=o.persistence.load("columns",n.columns)),n.movableRows&&this.modExists("moveRow")&&o.moveRow.initialize(),n.autoColumns&&this.options.data&&this.columnManager.generateColumnsFromRowData(this.options.data),this.modExists("columnCalcs")&&o.columnCalcs.initialize(),this.columnManager.setColumns(n.columns),n.dataTree&&this.modExists("dataTree",!0)&&o.dataTree.initialize(),this.modExists("frozenRows")&&this.modules.frozenRows.initialize(),(n.persistentSort||n.initialSort)&&this.modExists("sort",!0)){var s=[];n.persistentSort&&this.modExists("persistence",!0)?!1===(s=o.persistence.load("sort"))&&n.initialSort&&(s=n.initialSort):n.initialSort&&(s=n.initialSort),o.sort.setSort(s)}if((n.persistentFilter||n.initialFilter)&&this.modExists("filter",!0)){var l=[];n.persistentFilter&&this.modExists("persistence",!0)?!1===(l=o.persistence.load("filter"))&&n.initialFilter&&(l=n.initialFilter):n.initialFilter&&(l=n.initialFilter),o.filter.setFilter(l)}n.initialHeaderFilter&&this.modExists("filter",!0)&&n.initialHeaderFilter.forEach(function(t){var n=e.columnManager.findColumn(t.field);if(!n)return console.warn("Column Filter Error - No matching column found:",t.field),!1;o.filter.setHeaderFilterValue(n,t.value)}),this.modExists("ajax")&&o.ajax.initialize(),n.pagination&&this.modExists("page",!0)&&o.page.initialize(),n.groupBy&&this.modExists("groupRows",!0)&&o.groupRows.initialize(),this.modExists("keybindings")&&o.keybindings.initialize(),this.modExists("selectRow")&&o.selectRow.clearSelectionData(!0),n.autoResize&&this.modExists("resizeTable")&&o.resizeTable.initialize(),this.modExists("clipboard")&&o.clipboard.initialize(),n.tableBuilt.call(this)},d.prototype._loadInitialData=function(){this.options.pagination&&this.modExists("page")?(this.modules.page.reset(!0),"local"==this.options.pagination?this.options.data.length?this.rowManager.setData(this.options.data):(this.options.ajaxURL||this.options.ajaxURLGenerator)&&this.modExists("ajax")?this.modules.ajax.loadData().then(function(){}).catch(function(){}):this.rowManager.setData(this.options.data):this.options.ajaxURL?this.modules.page.setPage(1).then(function(){}).catch(function(){}):this.rowManager.setData([])):this.options.data.length?this.rowManager.setData(this.options.data):(this.options.ajaxURL||this.options.ajaxURLGenerator)&&this.modExists("ajax")?this.modules.ajax.loadData().then(function(){}).catch(function(){}):this.rowManager.setData(this.options.data)},d.prototype.destroy=function(){var e=this.element;for(d.prototype.comms.deregister(this),this.options.reactiveData&&this.modExists("reactiveData",!0)&&this.modules.reactiveData.unwatchData(),this.rowManager.rows.forEach(function(e){e.wipe()}),this.rowManager.rows=[],this.rowManager.activeRows=[],this.rowManager.displayRows=[],this.options.autoResize&&this.modExists("resizeTable")&&this.modules.resizeTable.clearBindings(),this.modExists("keybindings")&&this.modules.keybindings.clearBindings();e.firstChild;)e.removeChild(e.firstChild);e.classList.remove("tabulator")},d.prototype._detectBrowser=function(){var e=navigator.userAgent;e.indexOf("Trident")>-1?(this.browser="ie",this.browserSlow=!0):e.indexOf("Edge")>-1?(this.browser="edge",this.browserSlow=!0):e.indexOf("Firefox")>-1?(this.browser="firefox",this.browserSlow=!1):(this.browser="other",this.browserSlow=!1)},d.prototype.setDataFromLocalFile=function(e){var t=this;return new Promise(function(o,n){var i=document.createElement("input");i.type="file",i.accept=e||".json,application/json",i.addEventListener("change",function(e){var a,r=i.files[0],s=new FileReader;s.readAsText(r),s.onload=function(e){try{a=JSON.parse(s.result)}catch(e){return console.warn("File Load Error - File contents is invalid JSON",e),void n(e)}t._setData(a).then(function(e){o(e)}).catch(function(e){o(e)})},s.onerror=function(e){console.warn("File Load Error - Unable to read file"),n()}}),i.click()})},d.prototype.setData=function(e,t,o){return this.modExists("ajax")&&this.modules.ajax.blockActiveRequest(),this._setData(e,t,o)},d.prototype._setData=function(e,t,o,n){return"string"!=typeof e?e?this.rowManager.setData(e,n):this.modExists("ajax")&&(this.modules.ajax.getUrl||this.options.ajaxURLGenerator)?"remote"==this.options.pagination&&this.modExists("page",!0)?(this.modules.page.reset(!0),this.modules.page.setPage(1)):this.modules.ajax.loadData(n):this.rowManager.setData([],n):0==e.indexOf("{")||0==e.indexOf("[")?this.rowManager.setData(JSON.parse(e),n):this.modExists("ajax",!0)?(t&&this.modules.ajax.setParams(t),o&&this.modules.ajax.setConfig(o),this.modules.ajax.setUrl(e),"remote"==this.options.pagination&&this.modExists("page",!0)?(this.modules.page.reset(!0),this.modules.page.setPage(1)):this.modules.ajax.loadData(n)):void 0},d.prototype.clearData=function(){this.modExists("ajax")&&this.modules.ajax.blockActiveRequest(),this.rowManager.clearData()},d.prototype.getData=function(e){return this.rowManager.getData(e)},d.prototype.getDataCount=function(e){return this.rowManager.getDataCount(e)},d.prototype.searchRows=function(e,t,o){if(this.modExists("filter",!0))return this.modules.filter.search("rows",e,t,o)},d.prototype.searchData=function(e,t,o){if(this.modExists("filter",!0))return this.modules.filter.search("data",e,t,o)},d.prototype.getHtml=function(e){return this.rowManager.getHtml(e)},d.prototype.getAjaxUrl=function(){if(this.modExists("ajax",!0))return this.modules.ajax.getUrl()},d.prototype.replaceData=function(e,t,o){return this.modExists("ajax")&&this.modules.ajax.blockActiveRequest(),this._setData(e,t,o,!0)},d.prototype.updateData=function(e){var t=this,o=this,n=0;return new Promise(function(i,a){t.modExists("ajax")&&t.modules.ajax.blockActiveRequest(),"string"==typeof e&&(e=JSON.parse(e)),e?e.forEach(function(e){var t=o.rowManager.findRow(e[o.options.index]);t&&(n++,t.updateData(e).then(function(){--n||i()}))}):(console.warn("Update Error - No data provided"),a("Update Error - No data provided"))})},d.prototype.addData=function(e,t,o){var n=this;return new Promise(function(i,a){n.modExists("ajax")&&n.modules.ajax.blockActiveRequest(),"string"==typeof e&&(e=JSON.parse(e)),e?n.rowManager.addRows(e,t,o).then(function(e){var t=[];e.forEach(function(e){t.push(e.getComponent())}),i(t)}):(console.warn("Update Error - No data provided"),a("Update Error - No data provided"))})},d.prototype.updateOrAddData=function(e){var t=this,o=this,n=[],i=0;return new Promise(function(a,r){t.modExists("ajax")&&t.modules.ajax.blockActiveRequest(),"string"==typeof e&&(e=JSON.parse(e)),e?e.forEach(function(e){var t=o.rowManager.findRow(e[o.options.index]);i++,t?t.updateData(e).then(function(){i--,n.push(t.getComponent()),i||a(n)}):o.rowManager.addRows(e).then(function(e){i--,n.push(e[0].getComponent()),i||a(n)})}):(console.warn("Update Error - No data provided"),r("Update Error - No data provided"))})},d.prototype.getRow=function(e){var t=this.rowManager.findRow(e);return t?t.getComponent():(console.warn("Find Error - No matching row found:",e),!1)},d.prototype.getRowFromPosition=function(e,t){var o=this.rowManager.getRowFromPosition(e,t);return o?o.getComponent():(console.warn("Find Error - No matching row found:",e),!1)},d.prototype.deleteRow=function(e){var t=this;return new Promise(function(o,n){var i=t.rowManager.findRow(e);i?i.delete().then(function(){o()}).catch(function(e){n(e)}):(console.warn("Delete Error - No matching row found:",e),n("Delete Error - No matching row found"))})},d.prototype.addRow=function(e,t,o){var n=this;return new Promise(function(i,a){"string"==typeof e&&(e=JSON.parse(e)),n.rowManager.addRows(e,t,o).then(function(e){n.modExists("columnCalcs")&&n.modules.columnCalcs.recalc(n.rowManager.activeRows),i(e[0].getComponent())})})},d.prototype.updateOrAddRow=function(e,t){var o=this;return new Promise(function(n,i){var a=o.rowManager.findRow(e);"string"==typeof t&&(t=JSON.parse(t)),a?a.updateData(t).then(function(){o.modExists("columnCalcs")&&o.modules.columnCalcs.recalc(o.rowManager.activeRows),n(a.getComponent())}).catch(function(e){i(e)}):a=o.rowManager.addRows(t).then(function(e){o.modExists("columnCalcs")&&o.modules.columnCalcs.recalc(o.rowManager.activeRows),n(e[0].getComponent())}).catch(function(e){i(e)})})},d.prototype.updateRow=function(e,t){var o=this;return new Promise(function(n,i){var a=o.rowManager.findRow(e);"string"==typeof t&&(t=JSON.parse(t)),a?a.updateData(t).then(function(){n(a.getComponent())}).catch(function(e){i(e)}):(console.warn("Update Error - No matching row found:",e),i("Update Error - No matching row found"))})},d.prototype.scrollToRow=function(e,t,o){var n=this;return new Promise(function(i,a){var r=n.rowManager.findRow(e);r?n.rowManager.scrollToRow(r,t,o).then(function(){i()}).catch(function(e){a(e)}):(console.warn("Scroll Error - No matching row found:",e),a("Scroll Error - No matching row found"))})},d.prototype.moveRow=function(e,t,o){var n=this.rowManager.findRow(e);n?n.moveToRow(t,o):console.warn("Move Error - No matching row found:",e)},d.prototype.getRows=function(e){return this.rowManager.getComponents(e)},d.prototype.getRowPosition=function(e,t){var o=this.rowManager.findRow(e);return o?this.rowManager.getRowPosition(o,t):(console.warn("Position Error - No matching row found:",e),!1)},d.prototype.copyToClipboard=function(e,t,o,n){this.modExists("clipboard",!0)&&this.modules.clipboard.copy(e,t,o,n)},d.prototype.setColumns=function(e){this.columnManager.setColumns(e)},d.prototype.getColumns=function(e){return this.columnManager.getComponents(e)},d.prototype.getColumn=function(e){var t=this.columnManager.findColumn(e);return t?t.getComponent():(console.warn("Find Error - No matching column found:",e),!1)},d.prototype.getColumnDefinitions=function(){return this.columnManager.getDefinitionTree()},d.prototype.getColumnLayout=function(){if(this.modExists("persistence",!0))return this.modules.persistence.parseColumns(this.columnManager.getColumns())},d.prototype.setColumnLayout=function(e){return!!this.modExists("persistence",!0)&&(this.columnManager.setColumns(this.modules.persistence.mergeDefinition(this.options.columns,e)),!0)},d.prototype.showColumn=function(e){var t=this.columnManager.findColumn(e);if(!t)return console.warn("Column Show Error - No matching column found:",e),!1;t.show(),this.options.responsiveLayout&&this.modExists("responsiveLayout",!0)&&this.modules.responsiveLayout.update()},d.prototype.hideColumn=function(e){var t=this.columnManager.findColumn(e);if(!t)return console.warn("Column Hide Error - No matching column found:",e),!1;t.hide(),this.options.responsiveLayout&&this.modExists("responsiveLayout",!0)&&this.modules.responsiveLayout.update()},d.prototype.toggleColumn=function(e){var t=this.columnManager.findColumn(e);if(!t)return console.warn("Column Visibility Toggle Error - No matching column found:",e),!1;t.visible?t.hide():t.show()},d.prototype.addColumn=function(e,t,o){var n=this.columnManager.findColumn(o);this.columnManager.addColumn(e,t,n)},d.prototype.deleteColumn=function(e){var t=this.columnManager.findColumn(e);if(!t)return console.warn("Column Delete Error - No matching column found:",e),!1;t.delete()},d.prototype.scrollToColumn=function(e,t,o){var n=this;return new Promise(function(i,a){var r=n.columnManager.findColumn(e);r?n.columnManager.scrollToColumn(r,t,o).then(function(){i()}).catch(function(e){a(e)}):(console.warn("Scroll Error - No matching column found:",e),a("Scroll Error - No matching column found"))})},d.prototype.setLocale=function(e){this.modules.localize.setLocale(e)},d.prototype.getLocale=function(){return this.modules.localize.getLocale()},d.prototype.getLang=function(e){return this.modules.localize.getLang(e)},d.prototype.redraw=function(e){this.columnManager.redraw(e),this.rowManager.redraw(e)},d.prototype.setHeight=function(e){this.options.height=isNaN(e)?e:e+"px",this.element.style.height=this.options.height,this.rowManager.redraw()},d.prototype.setSort=function(e,t){this.modExists("sort",!0)&&(this.modules.sort.setSort(e,t),this.rowManager.sorterRefresh())},d.prototype.getSorters=function(){if(this.modExists("sort",!0))return this.modules.sort.getSort()},d.prototype.clearSort=function(){this.modExists("sort",!0)&&(this.modules.sort.clear(),this.rowManager.sorterRefresh())},d.prototype.setFilter=function(e,t,o){this.modExists("filter",!0)&&(this.modules.filter.setFilter(e,t,o),this.rowManager.filterRefresh())},d.prototype.addFilter=function(e,t,o){this.modExists("filter",!0)&&(this.modules.filter.addFilter(e,t,o),this.rowManager.filterRefresh())},d.prototype.getFilters=function(e){if(this.modExists("filter",!0))return this.modules.filter.getFilters(e)},d.prototype.setHeaderFilterFocus=function(e){if(this.modExists("filter",!0)){var t=this.columnManager.findColumn(e);if(!t)return console.warn("Column Filter Focus Error - No matching column found:",e),!1;this.modules.filter.setHeaderFilterFocus(t)}},d.prototype.setHeaderFilterValue=function(e,t){if(this.modExists("filter",!0)){var o=this.columnManager.findColumn(e);if(!o)return console.warn("Column Filter Error - No matching column found:",e),!1;this.modules.filter.setHeaderFilterValue(o,t)}},d.prototype.getHeaderFilters=function(){if(this.modExists("filter",!0))return this.modules.filter.getHeaderFilters()},d.prototype.removeFilter=function(e,t,o){this.modExists("filter",!0)&&(this.modules.filter.removeFilter(e,t,o),this.rowManager.filterRefresh())},d.prototype.clearFilter=function(e){this.modExists("filter",!0)&&(this.modules.filter.clearFilter(e),this.rowManager.filterRefresh())},d.prototype.clearHeaderFilter=function(){this.modExists("filter",!0)&&(this.modules.filter.clearHeaderFilter(),this.rowManager.filterRefresh())},d.prototype.selectRow=function(e){this.modExists("selectRow",!0)&&this.modules.selectRow.selectRows(e)},d.prototype.deselectRow=function(e){this.modExists("selectRow",!0)&&this.modules.selectRow.deselectRows(e)},d.prototype.toggleSelectRow=function(e){this.modExists("selectRow",!0)&&this.modules.selectRow.toggleRow(e)},d.prototype.getSelectedRows=function(){if(this.modExists("selectRow",!0))return this.modules.selectRow.getSelectedRows()},d.prototype.getSelectedData=function(){if(this.modExists("selectRow",!0))return this.modules.selectRow.getSelectedData()},d.prototype.setMaxPage=function(e){if(!this.options.pagination||!this.modExists("page"))return!1;this.modules.page.setMaxPage(e)},d.prototype.setPage=function(e){return this.options.pagination&&this.modExists("page")?this.modules.page.setPage(e):new Promise(function(e,t){t()})},d.prototype.setPageToRow=function(e){var t=this;return new Promise(function(o,n){t.options.pagination&&t.modExists("page")&&(e=t.rowManager.findRow(e))?t.modules.page.setPageToRow(e).then(function(){o()}).catch(function(){n()}):n()})},d.prototype.setPageSize=function(e){if(!this.options.pagination||!this.modExists("page"))return!1;this.modules.page.setPageSize(e),this.modules.page.setPage(1).then(function(){}).catch(function(){})},d.prototype.getPageSize=function(){if(this.options.pagination&&this.modExists("page",!0))return this.modules.page.getPageSize()},d.prototype.previousPage=function(){if(!this.options.pagination||!this.modExists("page"))return!1;this.modules.page.previousPage()},d.prototype.nextPage=function(){if(!this.options.pagination||!this.modExists("page"))return!1;this.modules.page.nextPage()},d.prototype.getPage=function(){return!(!this.options.pagination||!this.modExists("page"))&&this.modules.page.getPage()},d.prototype.getPageMax=function(){return!(!this.options.pagination||!this.modExists("page"))&&this.modules.page.getPageMax()},d.prototype.setGroupBy=function(e){if(!this.modExists("groupRows",!0))return!1;this.options.groupBy=e,this.modules.groupRows.initialize(),this.rowManager.refreshActiveData("display")},d.prototype.setGroupStartOpen=function(e){if(!this.modExists("groupRows",!0))return!1;this.options.groupStartOpen=e,this.modules.groupRows.initialize(),this.options.groupBy?this.rowManager.refreshActiveData("group"):console.warn("Grouping Update - cant refresh view, no groups have been set")},d.prototype.setGroupHeader=function(e){if(!this.modExists("groupRows",!0))return!1;this.options.groupHeader=e,this.modules.groupRows.initialize(),this.options.groupBy?this.rowManager.refreshActiveData("group"):console.warn("Grouping Update - cant refresh view, no groups have been set")},d.prototype.getGroups=function(e){return!!this.modExists("groupRows",!0)&&this.modules.groupRows.getGroups(!0)},d.prototype.getGroupedData=function(){if(this.modExists("groupRows",!0))return this.options.groupBy?this.modules.groupRows.getGroupedData():this.getData()},d.prototype.getCalcResults=function(){return!!this.modExists("columnCalcs",!0)&&this.modules.columnCalcs.getResults()},d.prototype.navigatePrev=function(){var e=!1;return!(!this.modExists("edit",!0)||!(e=this.modules.edit.currentCell))&&e.nav().prev()},d.prototype.navigateNext=function(){var e=!1;return!(!this.modExists("edit",!0)||!(e=this.modules.edit.currentCell))&&e.nav().next()},d.prototype.navigateLeft=function(){var t=!1;return!(!this.modExists("edit",!0)||!(t=this.modules.edit.currentCell))&&(e.preventDefault(),t.nav().left())},d.prototype.navigateRight=function(){var t=!1;return!(!this.modExists("edit",!0)||!(t=this.modules.edit.currentCell))&&(e.preventDefault(),t.nav().right())},d.prototype.navigateUp=function(){var t=!1;return!(!this.modExists("edit",!0)||!(t=this.modules.edit.currentCell))&&(e.preventDefault(),t.nav().up())},d.prototype.navigateDown=function(){var t=!1;return!(!this.modExists("edit",!0)||!(t=this.modules.edit.currentCell))&&(e.preventDefault(),t.nav().dpwn())},d.prototype.undo=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.undo()},d.prototype.redo=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.redo()},d.prototype.getHistoryUndoSize=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.getHistoryUndoSize()},d.prototype.getHistoryRedoSize=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.getHistoryRedoSize()},d.prototype.download=function(e,t,o){this.modExists("download",!0)&&this.modules.download.download(e,t,o)},d.prototype.downloadToTab=function(e,t,o){this.modExists("download",!0)&&this.modules.download.download(e,t,o,!0)},d.prototype.tableComms=function(e,t,o,n){this.modules.comms.receive(e,t,o,n)},d.prototype.moduleBindings={},d.prototype.extendModule=function(e,t,o){if(d.prototype.moduleBindings[e]){var n=d.prototype.moduleBindings[e].prototype[t];if(n)if("object"==(void 0===o?"undefined":a(o)))for(var i in o)n[i]=o[i];else console.warn("Module Error - Invalid value type, it must be an object");else console.warn("Module Error - property does not exist:",t)}else console.warn("Module Error - module does not exist:",e)},d.prototype.registerModule=function(e,t){d.prototype.moduleBindings[e]=t},d.prototype.bindModules=function(){for(var e in this.modules={},d.prototype.moduleBindings)this.modules[e]=new d.prototype.moduleBindings[e](this)},d.prototype.modExists=function(e,t){return!!this.modules[e]||(t&&console.error("Tabulator Module Not Installed: "+e),!1)},d.prototype.helpers={elVisible:function(e){return!(e.offsetWidth<=0&&e.offsetHeight<=0)},elOffset:function(e){var t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset-document.documentElement.clientTop,left:t.left+window.pageXOffset-document.documentElement.clientLeft}},deepClone:function(e){var t=Array.isArray(e)?[]:{};for(var o in e)null!=e[o]&&"object"===a(e[o])?e[o]instanceof Date?t[o]=new Date(e[o]):t[o]=this.deepClone(e[o]):t[o]=e[o];return t}},d.prototype.comms={tables:[],register:function(e){d.prototype.comms.tables.push(e)},deregister:function(e){var t=d.prototype.comms.tables.indexOf(e);t>-1&&d.prototype.comms.tables.splice(t,1)},lookupTable:function(e){var t,o,n=[];if("string"==typeof e){if((t=document.querySelectorAll(e)).length)for(var i=0;i<t.length;i++)(o=d.prototype.comms.matchElement(t[i]))&&n.push(o)}else"undefined"!=typeof HTMLElement&&e instanceof HTMLElement||e instanceof d?(o=d.prototype.comms.matchElement(e))&&n.push(o):Array.isArray(e)?e.forEach(function(e){n=n.concat(d.prototype.comms.lookupTable(e))}):console.warn("Table Connection Error - Invalid Selector",e);return n},matchElement:function(e){return d.prototype.comms.tables.find(function(t){return e instanceof d?t===e:t.element===e})}};var h=function(e){this.table=e,this.mode=null};h.prototype.initialize=function(e){this.modes[e]?this.mode=e:(console.warn("Layout Error - invalid mode set, defaulting to 'fitData' : "+e),this.mode="fitData"),this.table.element.setAttribute("tabulator-layout",this.mode)},h.prototype.getMode=function(){return this.mode},h.prototype.layout=function(){this.modes[this.mode].call(this,this.table.columnManager.columnsByIndex)},h.prototype.modes={fitData:function(e){e.forEach(function(e){e.reinitializeWidth()}),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitDataFill:function(e){e.forEach(function(e){e.reinitializeWidth()}),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitColumns:function(e){var t,o,n=this.table.element.clientWidth,i=0,a=0,r=0,s=[],l=[],c=0,u=0;function d(e){return"string"==typeof e?e.indexOf("%")>-1?n/100*parseInt(e):parseInt(e):e}function h(e,t,o,n){var i=[],a=0,r=0,s=0,l=0,c=0,u=[];function f(e){return o*(e.column.definition.widthGrow||1)}function p(e){return d(e.width)-o*(e.column.definition.widthShrink||0)}return e.forEach(function(e,t){var o=n?p(e):f(e);e.column.minWidth>=o?i.push(e):(u.push(e),c+=n?e.column.definition.widthShrink||1:e.column.definition.widthGrow||1)}),i.length?(i.forEach(function(e){a+=n?e.width-e.column.minWidth:e.column.minWidth,e.width=e.column.minWidth}),l=(r=t-a)-(s=c?Math.floor(r/c):r)*c,l+=h(u,r,s,n)):(l=c?t-Math.floor(t/c)*c:t,u.forEach(function(e){e.width=n?p(e):f(e)})),l}this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update(),this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(n-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),e.forEach(function(e){var t,o,n;e.visible&&(t=e.definition.width,o=parseInt(e.minWidth),t?(n=d(t),i+=n>o?n:o,e.definition.widthShrink&&(l.push({column:e,width:n>o?n:o}),c+=e.definition.widthShrink)):(s.push({column:e,width:0}),r+=e.definition.widthGrow||1))}),a=n-i,t=Math.floor(a/r);u=h(s,a,t,!1);s.length&&u>0&&(s[s.length-1].width+=+u),s.forEach(function(e){a-=e.width}),(o=Math.abs(u)+a)>0&&c&&(u=h(l,o,Math.floor(o/c),!0)),l.length&&(l[l.length-1].width-=u),s.forEach(function(e){e.column.setWidth(e.width)}),l.forEach(function(e){e.column.setWidth(e.width)})}},d.prototype.registerModule("layout",h);var f=function(e){this.table=e,this.locale="default",this.lang=!1,this.bindings={}};f.prototype.setHeaderFilterPlaceholder=function(e){this.langs.default.headerFilters.default=e},f.prototype.setHeaderFilterColumnPlaceholder=function(e,t){this.langs.default.headerFilters.columns[e]=t,this.lang&&!this.lang.headerFilters.columns[e]&&(this.lang.headerFilters.columns[e]=t)},f.prototype.installLang=function(e,t){this.langs[e]?this._setLangProp(this.langs[e],t):this.langs[e]=t},f.prototype._setLangProp=function(e,t){for(var o in t)e[o]&&"object"==a(e[o])?this._setLangProp(e[o],t[o]):e[o]=t[o]},f.prototype.setLocale=function(e){if(!0===(e=e||"default")&&navigator.language&&(e=navigator.language.toLowerCase()),e&&!this.langs[e]){var t=e.split("-")[0];this.langs[t]?(console.warn("Localization Error - Exact matching locale not found, using closest match: ",e,t),e=t):(console.warn("Localization Error - Matching locale not found, using default: ",e),e="default")}this.locale=e,this.lang=d.prototype.helpers.deepClone(this.langs.default||{}),"default"!=e&&function e(t,o){for(var n in t)"object"==a(t[n])?(o[n]||(o[n]={}),e(t[n],o[n])):o[n]=t[n]}(this.langs[e],this.lang),this.table.options.localized.call(this.table,this.locale,this.lang),this._executeBindings()},f.prototype.getLocale=function(e){return self.locale},f.prototype.getLang=function(e){return e?this.langs[e]:this.lang},f.prototype.getText=function(e,t){var o=(e=t?e+"|"+t:e).split("|");return this._getLangElement(o,this.locale)||""},f.prototype._getLangElement=function(e,t){var o=this.lang;return e.forEach(function(e){var t;o&&(t=o[e],o=void 0!==t&&t)}),o},f.prototype.bind=function(e,t){this.bindings[e]||(this.bindings[e]=[]),this.bindings[e].push(t),t(this.getText(e),this.lang)},f.prototype._executeBindings=function(){var e=this,t=function(t){e.bindings[t].forEach(function(o){o(e.getText(t),e.lang)})};for(var o in e.bindings)t(o)},f.prototype.langs={default:{groups:{item:"item",items:"items"},columns:{},ajax:{loading:"Loading",error:"Error"},pagination:{page_size:"Page Size",first:"First",first_title:"First Page",last:"Last",last_title:"Last Page",prev:"Prev",prev_title:"Prev Page",next:"Next",next_title:"Next Page"},headerFilters:{default:"filter column...",columns:{}}}},d.prototype.registerModule("localize",f);var p=function(e){this.table=e};p.prototype.getConnections=function(e){var t=this,o=[];return d.prototype.comms.lookupTable(e).forEach(function(e){t.table!==e&&o.push(e)}),o},p.prototype.send=function(e,t,o,n){var i=this,a=this.getConnections(e);a.forEach(function(e){e.tableComms(i.table.element,t,o,n)}),!a.length&&e&&console.warn("Table Connection Error - No tables matching selector found",e)},p.prototype.receive=function(e,t,o,n){if(this.table.modExists(t))return this.table.modules[t].commsReceived(e,o,n);console.warn("Inter-table Comms Error - no such module:",t)},d.prototype.registerModule("comms",p);var m=function(e){this.table=e,this.allowedTypes=["","data","download","clipboard"]};m.prototype.initializeColumn=function(e){var t=this,o=!1,n={};this.allowedTypes.forEach(function(i){var a,r="accessor"+(i.charAt(0).toUpperCase()+i.slice(1));e.definition[r]&&(a=t.lookupAccessor(e.definition[r]))&&(o=!0,n[r]={accessor:a,params:e.definition[r+"Params"]||{}})}),o&&(e.modules.accessor=n)},m.prototype.lookupAccessor=function(e){var t=!1;switch(void 0===e?"undefined":a(e)){case"string":this.accessors[e]?t=this.accessors[e]:console.warn("Accessor Error - No such accessor found, ignoring: ",e);break;case"function":t=e}return t},m.prototype.transformRow=function(e,t){var o="accessor"+(t.charAt(0).toUpperCase()+t.slice(1)),n=d.prototype.helpers.deepClone(e||{});return this.table.columnManager.traverse(function(e){var i,a,r,s;e.modules.accessor&&(a=e.modules.accessor[o]||e.modules.accessor.accessor||!1)&&"undefined"!=(i=e.getFieldValue(n))&&(s=e.getComponent(),r="function"==typeof a.params?a.params(i,n,t,s):a.params,e.setFieldValue(n,a.accessor(i,n,t,r,s)))}),n},m.prototype.accessors={},d.prototype.registerModule("accessor",m);var g=function(e){this.table=e,this.config=!1,this.url="",this.urlGenerator=!1,this.params=!1,this.loaderElement=this.createLoaderElement(),this.msgElement=this.createMsgElement(),this.loadingElement=!1,this.errorElement=!1,this.loaderPromise=!1,this.progressiveLoad=!1,this.loading=!1,this.requestOrder=0};g.prototype.initialize=function(){var e;this.loaderElement.appendChild(this.msgElement),this.table.options.ajaxLoaderLoading&&("string"==typeof this.table.options.ajaxLoaderLoading?((e=document.createElement("template")).innerHTML=this.table.options.ajaxLoaderLoading.trim(),this.loadingElement=e.content.firstChild):this.loadingElement=this.table.options.ajaxLoaderLoading),this.loaderPromise=this.table.options.ajaxRequestFunc||this.defaultLoaderPromise,this.urlGenerator=this.table.options.ajaxURLGenerator||this.defaultURLGenerator,this.table.options.ajaxLoaderError&&("string"==typeof this.table.options.ajaxLoaderError?((e=document.createElement("template")).innerHTML=this.table.options.ajaxLoaderError.trim(),this.errorElement=e.content.firstChild):this.errorElement=this.table.options.ajaxLoaderError),this.table.options.ajaxParams&&this.setParams(this.table.options.ajaxParams),this.table.options.ajaxConfig&&this.setConfig(this.table.options.ajaxConfig),this.table.options.ajaxURL&&this.setUrl(this.table.options.ajaxURL),this.table.options.ajaxProgressiveLoad&&(this.table.options.pagination?(this.progressiveLoad=!1,console.error("Progressive Load Error - Pagination and progressive load cannot be used at the same time")):this.table.modExists("page")?(this.progressiveLoad=this.table.options.ajaxProgressiveLoad,this.table.modules.page.initializeProgressive(this.progressiveLoad)):console.error("Pagination plugin is required for progressive ajax loading"))},g.prototype.createLoaderElement=function(){var e=document.createElement("div");return e.classList.add("tabulator-loader"),e},g.prototype.createMsgElement=function(){var e=document.createElement("div");return e.classList.add("tabulator-loader-msg"),e.setAttribute("role","alert"),e},g.prototype.setParams=function(e,t){if(t)for(var o in this.params=this.params||{},e)this.params[o]=e[o];else this.params=e},g.prototype.getParams=function(){return this.params||{}},g.prototype.setConfig=function(e){if(this._loadDefaultConfig(),"string"==typeof e)this.config.method=e;else for(var t in e)this.config[t]=e[t]},g.prototype._loadDefaultConfig=function(e){if(!this.config||e)for(var t in this.config={},this.defaultConfig)this.config[t]=this.defaultConfig[t]},g.prototype.setUrl=function(e){this.url=e},g.prototype.getUrl=function(){return this.url},g.prototype.loadData=function(e){return this.progressiveLoad?this._loadDataProgressive():this._loadDataStandard(e)},g.prototype.nextPage=function(e){this.loading||e<(this.table.options.ajaxProgressiveLoadScrollMargin||2*this.table.rowManager.getElement().clientHeight)&&this.table.modules.page.nextPage().then(function(){}).catch(function(){})},g.prototype.blockActiveRequest=function(){this.requestOrder++},g.prototype._loadDataProgressive=function(){return this.table.rowManager.setData([]),this.table.modules.page.setPage(1)},g.prototype._loadDataStandard=function(e){var t=this;return new Promise(function(o,n){t.sendRequest(e).then(function(i){t.table.rowManager.setData(i,e).then(function(){o()}).catch(function(e){n(e)})}).catch(function(e){n(e)})})},g.prototype.generateParamsList=function(e,t){var o=this,n=[];if(t=t||"",Array.isArray(e))e.forEach(function(e,i){n=n.concat(o.generateParamsList(e,t?t+"["+i+"]":i))});else if("object"===(void 0===e?"undefined":a(e)))for(var i in e)n=n.concat(o.generateParamsList(e[i],t?t+"["+i+"]":i));else n.push({key:t,value:e});return n},g.prototype.serializeParams=function(e){var t=this.generateParamsList(e),o=[];return t.forEach(function(e){o.push(encodeURIComponent(e.key)+"="+encodeURIComponent(e.value))}),o.join("&")},g.prototype.sendRequest=function(e){var t,o=this,n=this,i=n.url;return n.requestOrder++,t=n.requestOrder,n._loadDefaultConfig(),new Promise(function(a,r){!1!==n.table.options.ajaxRequesting.call(o.table,n.url,n.params)?(n.loading=!0,e||n.showLoader(),o.loaderPromise(i,n.config,n.params).then(function(e){t===n.requestOrder?(n.table.options.ajaxResponse&&(e=n.table.options.ajaxResponse.call(n.table,n.url,n.params,e)),a(e)):console.warn("Ajax Response Blocked - An active ajax request was blocked by an attempt to change table data while the request was being made"),n.hideLoader(),n.loading=!1}).catch(function(e){console.error("Ajax Load Error: ",e),n.table.options.ajaxError.call(n.table,e),n.showError(),setTimeout(function(){n.hideLoader()},3e3),n.loading=!1,r()})):r()})},g.prototype.showLoader=function(){if("function"==typeof this.table.options.ajaxLoader?this.table.options.ajaxLoader():this.table.options.ajaxLoader){for(this.hideLoader();this.msgElement.firstChild;)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.remove("tabulator-error"),this.msgElement.classList.add("tabulator-loading"),this.loadingElement?this.msgElement.appendChild(this.loadingElement):this.msgElement.innerHTML=this.table.modules.localize.getText("ajax|loading"),this.table.element.appendChild(this.loaderElement)}},g.prototype.showError=function(){for(this.hideLoader();this.msgElement.firstChild;)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.remove("tabulator-loading"),this.msgElement.classList.add("tabulator-error"),this.errorElement?this.msgElement.appendChild(this.errorElement):this.msgElement.innerHTML=this.table.modules.localize.getText("ajax|error"),this.table.element.appendChild(this.loaderElement)},g.prototype.hideLoader=function(){this.loaderElement.parentNode&&this.loaderElement.parentNode.removeChild(this.loaderElement)},g.prototype.defaultConfig={method:"GET"},g.prototype.defaultURLGenerator=function(e,t,o){return e&&o&&Object.keys(o).length&&(t.method&&"get"!=t.method.toLowerCase()||(t.method="get",e+="?"+this.serializeParams(o))),e},g.prototype.defaultLoaderPromise=function(e,t,o){var n,i=this;return new Promise(function(r,s){if(e=i.urlGenerator(e,t,o),"GET"!=t.method.toUpperCase())if(n="object"===a(i.table.options.ajaxContentType)?i.table.options.ajaxContentType:i.contentTypeFormatters[i.table.options.ajaxContentType]){for(var l in n.headers)t.headers||(t.headers={}),void 0===t.headers[l]&&(t.headers[l]=n.headers[l]);t.body=n.body.call(i,e,t,o)}else console.warn("Ajax Error - Invalid ajaxContentType value:",i.table.options.ajaxContentType);e?(void 0===t.headers&&(t.headers={}),void 0===t.headers.Accept&&(t.headers.Accept="application/json"),void 0===t.headers["X-Requested-With"]&&(t.headers["X-Requested-With"]="XMLHttpRequest"),void 0===t.mode&&(t.mode="cors"),"cors"==t.mode?(void 0===t.headers["Access-Control-Allow-Origin"]&&(t.headers["Access-Control-Allow-Origin"]=window.location.origin),void 0===t.credentials&&(t.credentials="same-origin")):void 0===t.credentials&&(t.credentials="include"),fetch(e,t).then(function(e){e.ok?e.json().then(function(e){r(e)}).catch(function(e){s(e),console.warn("Ajax Load Error - Invalid JSON returned",e)}):(console.error("Ajax Load Error - Connection Error: "+e.status,e.statusText),s(e))}).catch(function(e){console.error("Ajax Load Error - Connection Error: ",e),s(e)})):(console.warn("Ajax Load Error - No URL Set"),r([]))})},g.prototype.contentTypeFormatters={json:{headers:{"Content-Type":"application/json"},body:function(e,t,o){return JSON.stringify(o)}},form:{headers:{},body:function(e,t,o){var n=this.generateParamsList(o),i=new FormData;return n.forEach(function(e){i.append(e.key,e.value)}),i}}},d.prototype.registerModule("ajax",g);var v=function(e){this.table=e,this.topCalcs=[],this.botCalcs=[],this.genColumn=!1,this.topElement=this.createElement(),this.botElement=this.createElement(),this.topRow=!1,this.botRow=!1,this.topInitialized=!1,this.botInitialized=!1,this.initialize()};v.prototype.createElement=function(){var e=document.createElement("div");return e.classList.add("tabulator-calcs-holder"),e},v.prototype.initialize=function(){this.genColumn=new n({field:"value"},this)},v.prototype.registerColumnField=function(){},v.prototype.initializeColumn=function(e){var t=e.definition,o={topCalcParams:t.topCalcParams||{},botCalcParams:t.bottomCalcParams||{}};if(t.topCalc){switch(a(t.topCalc)){case"string":this.calculations[t.topCalc]?o.topCalc=this.calculations[t.topCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",t.topCalc);break;case"function":o.topCalc=t.topCalc}o.topCalc&&(e.modules.columnCalcs=o,this.topCalcs.push(e),"group"!=this.table.options.columnCalcs&&this.initializeTopRow())}if(t.bottomCalc){switch(a(t.bottomCalc)){case"string":this.calculations[t.bottomCalc]?o.botCalc=this.calculations[t.bottomCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",t.bottomCalc);break;case"function":o.botCalc=t.bottomCalc}o.botCalc&&(e.modules.columnCalcs=o,this.botCalcs.push(e),"group"!=this.table.options.columnCalcs&&this.initializeBottomRow())}},v.prototype.removeCalcs=function(){var e=!1;this.topInitialized&&(this.topInitialized=!1,this.topElement.parentNode.removeChild(this.topElement),e=!0),this.botInitialized&&(this.botInitialized=!1,this.table.footerManager.remove(this.botElement),e=!0),e&&this.table.rowManager.adjustTableSize()},v.prototype.initializeTopRow=function(){this.topInitialized||(this.table.columnManager.getElement().insertBefore(this.topElement,this.table.columnManager.headersElement.nextSibling),this.topInitialized=!0)},v.prototype.initializeBottomRow=function(){this.botInitialized||(this.table.footerManager.prepend(this.botElement),this.botInitialized=!0)},v.prototype.scrollHorizontal=function(e){this.table.columnManager.getElement().scrollWidth,this.table.element.clientWidth;this.botInitialized&&(this.botRow.getElement().style.marginLeft=-e+"px")},v.prototype.recalc=function(e){var t;if(this.topInitialized||this.botInitialized){if(this.rowsToData(e),this.topInitialized){for(t=this.generateRow("top",this.rowsToData(e)),this.topRow=t;this.topElement.firstChild;)this.topElement.removeChild(this.topElement.firstChild);this.topElement.appendChild(t.getElement()),t.initialize(!0)}if(this.botInitialized){for(t=this.generateRow("bottom",this.rowsToData(e)),this.botRow=t;this.botElement.firstChild;)this.botElement.removeChild(this.botElement.firstChild);this.botElement.appendChild(t.getElement()),t.initialize(!0)}this.table.rowManager.adjustTableSize(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout()}},v.prototype.recalcRowGroup=function(e){this.recalcGroup(this.table.modules.groupRows.getRowGroup(e))},v.prototype.recalcGroup=function(e){var t,o;e&&e.calcs&&(e.calcs.bottom&&(t=this.rowsToData(e.rows),o=this.generateRowData("bottom",t),e.calcs.bottom.updateData(o),e.calcs.bottom.reinitialize()),e.calcs.top&&(t=this.rowsToData(e.rows),o=this.generateRowData("top",t),e.calcs.top.updateData(o),e.calcs.top.reinitialize()))},v.prototype.generateTopRow=function(e){return this.generateRow("top",this.rowsToData(e))},v.prototype.generateBottomRow=function(e){return this.generateRow("bottom",this.rowsToData(e))},v.prototype.rowsToData=function(e){var t=[];return e.forEach(function(e){t.push(e.getData())}),t},v.prototype.generateRow=function(e,t){var o,n=this,i=this.generateRowData(e,t);return n.table.modExists("mutator")&&n.table.modules.mutator.disable(),o=new s(i,this),n.table.modExists("mutator")&&n.table.modules.mutator.enable(),o.getElement().classList.add("tabulator-calcs","tabulator-calcs-"+e),o.type="calc",o.generateCells=function(){var t=[];n.table.columnManager.columnsByIndex.forEach(function(i){n.genColumn.setField(i.getField()),n.genColumn.hozAlign=i.hozAlign,i.definition[e+"CalcFormatter"]&&n.table.modExists("format")?n.genColumn.modules.format={formatter:n.table.modules.format.getFormatter(i.definition[e+"CalcFormatter"]),params:i.definition[e+"CalcFormatterParams"]}:n.genColumn.modules.format={formatter:n.table.modules.format.getFormatter("plaintext"),params:{}},n.genColumn.definition.cssClass=i.definition.cssClass;var a=new c(n.genColumn,o);a.column=i,a.setWidth(),i.cells.push(a),t.push(a),i.visible||a.hide()}),this.cells=t},o},v.prototype.generateRowData=function(e,t){var o,n,i={},a="top"==e?this.topCalcs:this.botCalcs,r="top"==e?"topCalc":"botCalc";return a.forEach(function(e){var a=[];e.modules.columnCalcs&&e.modules.columnCalcs[r]&&(t.forEach(function(t){a.push(e.getFieldValue(t))}),n=r+"Params",o="function"==typeof e.modules.columnCalcs[n]?e.modules.columnCalcs[n](value,t):e.modules.columnCalcs[n],e.setFieldValue(i,e.modules.columnCalcs[r](a,t,o)))}),i},v.prototype.hasTopCalcs=function(){return!!this.topCalcs.length},v.prototype.hasBottomCalcs=function(){return!!this.botCalcs.length},v.prototype.redraw=function(){this.topRow&&this.topRow.normalizeHeight(!0),this.botRow&&this.botRow.normalizeHeight(!0)},v.prototype.getResults=function(){var e=this,t={};return this.table.options.groupBy&&this.table.modExists("groupRows")?this.table.modules.groupRows.getGroups(!0).forEach(function(o){t[o.getKey()]=e.getGroupResults(o)}):t={top:this.topRow?this.topRow.getData():{},bottom:this.botRow?this.botRow.getData():{}},t},v.prototype.getGroupResults=function(e){var t=this,o=e._getSelf(),n=e.getSubGroups(),i={};return n.forEach(function(e){i[e.getKey()]=t.getGroupResults(e)}),{top:o.calcs.top?o.calcs.top.getData():{},bottom:o.calcs.bottom?o.calcs.bottom.getData():{},groups:i}},v.prototype.calculations={avg:function(e,t,o){var n=0,i=void 0!==o.precision?o.precision:2;return e.length&&(n=e.reduce(function(e,t){return e+(t=Number(t))}),n/=e.length,n=!1!==i?n.toFixed(i):n),parseFloat(n).toString()},max:function(e,t,o){var n=null,i=void 0!==o.precision&&o.precision;return e.forEach(function(e){((e=Number(e))>n||null===n)&&(n=e)}),null!==n?!1!==i?n.toFixed(i):n:""},min:function(e,t,o){var n=null,i=void 0!==o.precision&&o.precision;return e.forEach(function(e){((e=Number(e))<n||null===n)&&(n=e)}),null!==n?!1!==i?n.toFixed(i):n:""},sum:function(e,t,o){var n=0,i=void 0!==o.precision&&o.precision;return e.length&&e.forEach(function(e){e=Number(e),n+=isNaN(e)?0:Number(e)}),!1!==i?n.toFixed(i):n},concat:function(e,t,o){var n=0;return e.length&&(n=e.reduce(function(e,t){return String(e)+String(t)})),n},count:function(e,t,o){var n=0;return e.length&&e.forEach(function(e){e&&n++}),n}},d.prototype.registerModule("columnCalcs",v);var b=function(e){this.table=e,this.mode=!0,this.copySelector=!1,this.copySelectorParams={},this.copyFormatter=!1,this.copyFormatterParams={},this.pasteParser=function(){},this.pasteAction=function(){},this.htmlElement=!1,this.config={},this.blocked=!0};b.prototype.initialize=function(){var e=this;this.mode=this.table.options.clipboard,!0!==this.mode&&"copy"!==this.mode||this.table.element.addEventListener("copy",function(t){var o;e.processConfig(),e.blocked||(t.preventDefault(),o=e.generateContent(),window.clipboardData&&window.clipboardData.setData?window.clipboardData.setData("Text",o):t.clipboardData&&t.clipboardData.setData?(t.clipboardData.setData("text/plain",o),e.htmlElement&&t.clipboardData.setData("text/html",e.htmlElement.outerHTML)):t.originalEvent&&t.originalEvent.clipboardData.setData&&(t.originalEvent.clipboardData.setData("text/plain",o),e.htmlElement&&t.originalEvent.clipboardData.setData("text/html",e.htmlElement.outerHTML)),e.table.options.clipboardCopied.call(this.table,o),e.reset())}),!0!==this.mode&&"paste"!==this.mode||this.table.element.addEventListener("paste",function(t){e.paste(t)}),this.setPasteParser(this.table.options.clipboardPasteParser),this.setPasteAction(this.table.options.clipboardPasteAction)},b.prototype.processConfig=function(){var e={columnHeaders:"groups",rowGroups:!0,columnCalcs:!0};if(void 0!==this.table.options.clipboardCopyHeader&&(e.columnHeaders=this.table.options.clipboardCopyHeader,console.warn("DEPRECATION WANRING - clipboardCopyHeader option has been depricated, please use the columnHeaders property on the clipboardCopyConfig option")),this.table.options.clipboardCopyConfig)for(var t in this.table.options.clipboardCopyConfig)e[t]=this.table.options.clipboardCopyConfig[t];e.rowGroups&&this.table.options.groupBy&&this.table.modExists("groupRows")&&(this.config.rowGroups=!0),e.columnHeaders?"groups"!==e.columnHeaders&&!0!==e||this.table.columnManager.columns.length==this.table.columnManager.columnsByIndex.length?this.config.columnHeaders="columns":this.config.columnHeaders="groups":this.config.columnHeaders=!1,e.columnCalcs&&this.table.modExists("columnCalcs")&&(this.config.columnCalcs=!0)},b.prototype.reset=function(){this.blocked=!1,this.originalSelectionText=""},b.prototype.setPasteAction=function(e){switch(void 0===e?"undefined":a(e)){case"string":this.pasteAction=this.pasteActions[e],this.pasteAction||console.warn("Clipboard Error - No such paste action found:",e);break;case"function":this.pasteAction=e}},b.prototype.setPasteParser=function(e){switch(void 0===e?"undefined":a(e)){case"string":this.pasteParser=this.pasteParsers[e],this.pasteParser||console.warn("Clipboard Error - No such paste parser found:",e);break;case"function":this.pasteParser=e}},b.prototype.paste=function(e){var t,o,n;this.checkPaseOrigin(e)&&(t=this.getPasteData(e),(o=this.pasteParser.call(this,t))?(e.preventDefault(),this.table.modExists("mutator")&&(o=this.mutateData(o)),n=this.pasteAction.call(this,o),this.table.options.clipboardPasted.call(this.table,t,o,n)):this.table.options.clipboardPasteError.call(this.table,t))},b.prototype.mutateData=function(e){var t=this,o=[];return Array.isArray(e)?e.forEach(function(e){o.push(t.table.modules.mutator.transformRow(e,"clipboard"))}):o=e,o},b.prototype.checkPaseOrigin=function(e){var t=!0;return("DIV"!=e.target.tagName||this.table.modules.edit.currentCell)&&(t=!1),t},b.prototype.getPasteData=function(e){var t;return window.clipboardData&&window.clipboardData.getData?t=window.clipboardData.getData("Text"):e.clipboardData&&e.clipboardData.getData?t=e.clipboardData.getData("text/plain"):e.originalEvent&&e.originalEvent.clipboardData.getData&&(t=e.originalEvent.clipboardData.getData("text/plain")),t},b.prototype.copy=function(e,t,o,n,i){var a,r;this.blocked=!1,!0!==this.mode&&"copy"!==this.mode||(void 0!==window.getSelection&&void 0!==document.createRange?((a=document.createRange()).selectNodeContents(this.table.element),(r=window.getSelection()).toString()&&i&&(e="userSelection",o="raw",t=r.toString()),r.removeAllRanges(),r.addRange(a)):void 0!==document.selection&&void 0!==document.body.createTextRange&&(textRange=document.body.createTextRange(),textRange.moveToElementText(this.table.element),textRange.select()),this.setSelector(e),this.copySelectorParams=void 0!==t&&null!=t?t:this.config.columnHeaders,this.setFormatter(o),this.copyFormatterParams=void 0!==n&&null!=n?n:{},document.execCommand("copy"),r&&r.removeAllRanges())},b.prototype.setSelector=function(e){switch(void 0===(e=e||this.table.options.clipboardCopySelector)?"undefined":a(e)){case"string":this.copySelectors[e]?this.copySelector=this.copySelectors[e]:console.warn("Clipboard Error - No such selector found:",e);break;case"function":this.copySelector=e}},b.prototype.setFormatter=function(e){switch(void 0===(e=e||this.table.options.clipboardCopyFormatter)?"undefined":a(e)){case"string":this.copyFormatters[e]?this.copyFormatter=this.copyFormatters[e]:console.warn("Clipboard Error - No such formatter found:",e);break;case"function":this.copyFormatter=e}},b.prototype.generateContent=function(){var e;return this.htmlElement=!1,e=this.copySelector.call(this,this.config,this.copySelectorParams),this.copyFormatter.call(this,e,this.config,this.copyFormatterParams)},b.prototype.generateSimpleHeaders=function(e){var t=[];return e.forEach(function(e){t.push(e.definition.title)}),t},b.prototype.generateColumnGroupHeaders=function(e){var t=this,o=[];return this.table.columnManager.columns.forEach(function(e){var n=t.processColumnGroup(e);n&&o.push(n)}),o},b.prototype.processColumnGroup=function(e){var t=this,o=e.columns,n={type:"group",title:e.definition.title,column:e};if(o.length){if(n.subGroups=[],n.width=0,o.forEach(function(e){var o=t.processColumnGroup(e);o&&(n.width+=o.width,n.subGroups.push(o))}),!n.width)return!1}else{if(!e.field||!e.visible)return!1;n.width=1}return n},b.prototype.groupHeadersToRows=function(e){var t=[];function o(e,n){var i;void 0===t[n]&&(t[n]=[]),t[n].push(e.title),e.subGroups?e.subGroups.forEach(function(e){o(e,n+1)}):(i=0,t.forEach(function(e){var t=e.length;t>i&&(i=t)}),t.forEach(function(e){var t=e.length;if(t<i)for(var o=t;o<i;o++)e.push("")}))}return e.forEach(function(e){o(e,0)}),t},b.prototype.rowsToData=function(e,t,o){var n=this.table.columnManager.columnsByIndex,i=[];return e.forEach(function(e){var t=[],o=e instanceof r?e.getData("clipboard"):e;n.forEach(function(e){var n=e.getFieldValue(o);switch(void 0===n?"undefined":a(n)){case"object":n=JSON.stringify(n);break;case"undefined":case"null":n="";break;default:n=n}t.push(n)}),i.push(t)}),i},b.prototype.buildComplexRows=function(e){var t=this,o=[];return this.table.modules.groupRows.getGroups().forEach(function(e){o.push(t.processGroupData(e))}),o},b.prototype.processGroupData=function(e){var t=this,o=e.getSubGroups(),n={type:"group",key:e.key};return o.length?(n.subGroups=[],o.forEach(function(e){n.subGroups.push(t.processGroupData(e))})):n.rows=e.getRows(!0),n},b.prototype.getCalcRow=function(e,t,o){var n=e[t];return n&&(o&&(n=n[o]),Object.keys(n).length)?this.rowsToData([n]):[]},b.prototype.buildOutput=function(e,t,o){var n,i=this,a=[],r=this.table.columnManager.columnsByIndex;return t.columnHeaders&&("groups"==t.columnHeaders?(r=this.generateColumnGroupHeaders(this.table.columnManager.columns),a=a.concat(this.groupHeadersToRows(r))):a.push(this.generateSimpleHeaders(r))),this.config.columnCalcs&&(n=this.table.getCalcResults()),this.table.options.clipboardCopyStyled&&this.generateHTML(e,r,n,t,o),t.rowGroups?e.forEach(function(e){a=a.concat(i.parseRowGroupData(e,t,o,n||{}))}):(t.columnCalcs&&(a=a.concat(this.getCalcRow(n,"top"))),a=a.concat(this.rowsToData(e,t,o)),t.columnCalcs&&(a=a.concat(this.getCalcRow(n,"bottom")))),a},b.prototype.parseRowGroupData=function(e,t,o,n){var i=this,a=[];return a.push([e.key]),e.subGroups?e.subGroups.forEach(function(r){a=a.concat(i.parseRowGroupData(r,t,o,n[e.key]&&n[e.key].groups||{}))}):(t.columnCalcs&&(a=a.concat(this.getCalcRow(n,e.key,"top"))),a=a.concat(this.rowsToData(e.rows,t,o)),t.columnCalcs&&(a=a.concat(this.getCalcRow(n,e.key,"bottom")))),a},b.prototype.generateHTML=function(e,t,o,n,i){var s,l,c,u,d,h,f,p,m,g=this,v=[];function b(e,t,o){var n=e[t];n&&(o&&(n=n[o]),Object.keys(n).length&&y([n]))}function y(e){e.forEach(function(e,o){var n,i=document.createElement("tr"),f=d,p=!1;e instanceof r?n=e.getData("clipboard"):(n=e,p=!0),t.forEach(function(e,o){var r=document.createElement("td"),s=e.getFieldValue(n);switch(void 0===s?"undefined":a(s)){case"object":s=JSON.stringify(s);break;case"undefined":case"null":s="";break;default:s=s}r.innerHTML=s,e.definition.align&&(r.style.textAlign=e.definition.align),t.length,h&&g.mapElementStyles(h,r,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size"]),i.appendChild(r)}),p?f=u:(o%2||!l||(f=l),o%2&&c&&(f=c)),f&&g.mapElementStyles(f,i,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),s.appendChild(i)})}this.htmlElement=document.createElement("table"),g.mapElementStyles(this.table.element,this.htmlElement,["border-top","border-left","border-right","border-bottom"]),n.columnHeaders&&("groups"==n.columnHeaders?(t.forEach(function(e){!function e(t,o){void 0===v[o]&&(v[o]=[]),v[o].push({title:t.title,width:t.width,height:1,children:!!t.subGroups,element:t.column.getElement()}),t.subGroups&&t.subGroups.forEach(function(t){e(t,o+1)})}(e,0)}),v.forEach(function(e,t){e.forEach(function(e){e.children||(e.height=v.length-t)})}),function(e){var t=document.createElement("thead");e.forEach(function(e){var o=document.createElement("tr");e.forEach(function(e){var t=document.createElement("th");e.width>1&&(t.colSpan=e.width),e.height>1&&(t.rowSpan=e.height),t.innerHTML=e.title,g.mapElementStyles(e.element,t,["border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),o.appendChild(t)}),g.mapElementStyles(g.table.columnManager.getHeadersElement(),o,["border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),t.appendChild(o)}),g.htmlElement.appendChild(t)}(v)):(m=document.createElement("tr"),t.forEach(function(e){var t=document.createElement("th");t.innerHTML=e.definition.title,g.mapElementStyles(e.getElement(),t,["border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),m.appendChild(t)}),g.mapElementStyles(g.table.columnManager.getHeadersElement(),m,["border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),g.htmlElement.appendChild(document.createElement("thead").appendChild(m)))),t=this.table.columnManager.columnsByIndex,s=document.createElement("tbody"),window.getComputedStyle&&(l=this.table.element.querySelector(".tabulator-row-odd:not(.tabulator-group):not(.tabulator-calcs)"),c=this.table.element.querySelector(".tabulator-row-even:not(.tabulator-group):not(.tabulator-calcs)"),u=this.table.element.querySelector(".tabulator-row.tabulator-calcs"),d=this.table.element.querySelector(".tabulator-row:not(.tabulator-group):not(.tabulator-calcs)"),f=this.table.element.getElementsByClassName("tabulator-group")[0],d&&(p=d.getElementsByClassName("tabulator-cell"),h=p[0],p[p.length-1])),n.rowGroups?e.forEach(function(e){!function e(o,i){var a=document.createElement("tr"),r=document.createElement("td");r.colSpan=t.length,r.innerHTML=o.key,a.appendChild(r),s.appendChild(a),g.mapElementStyles(f,a,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),o.subGroups?o.subGroups.forEach(function(t){e(t,i[o.key]&&i[o.key].groups||{})}):(n.columnCalcs&&b(i,o.key,"top"),y(o.rows),n.columnCalcs&&b(i,o.key,"bottom"))}(e,o||{})}):(n.columnCalcs&&b(o,"top"),y(e),n.columnCalcs&&b(o,"bottom")),this.htmlElement.appendChild(s)},b.prototype.mapElementStyles=function(e,t,o){var n={"background-color":"backgroundColor",color:"fontColor","font-weight":"fontWeight","font-family":"fontFamily","font-size":"fontSize","border-top":"borderTop","border-left":"borderLeft","border-right":"borderRight","border-bottom":"borderBottom"};if(window.getComputedStyle){var i=window.getComputedStyle(e);o.forEach(function(e){t.style[n[e]]=i.getPropertyValue(e)})}},b.prototype.copySelectors={userSelection:function(e,t){return t},selected:function(e,t){var o=[];return this.table.modExists("selectRow",!0)&&(o=this.table.modules.selectRow.getSelectedRows()),e.rowGroups&&console.warn("Clipboard Warning - select coptSelector does not support row groups"),this.buildOutput(o,e,t)},table:function(e,t){return e.rowGroups&&console.warn("Clipboard Warning - table coptSelector does not support row groups"),this.buildOutput(this.table.rowManager.getComponents(),e,t)},active:function(e,t){var o;return o=e.rowGroups?this.buildComplexRows(e):this.table.rowManager.getComponents(!0),this.buildOutput(o,e,t)}},b.prototype.copyFormatters={raw:function(e,t){return e},table:function(e,t){var o=[];return e.forEach(function(e){e.forEach(function(e){void 0===e&&(e=""),(e=null==e?"":e.toString()).match(/\r|\n/)&&(e='"'+(e=e.split('"').join('""'))+'"')}),o.push(e.join("\t"))}),o.join("\n")}},b.prototype.pasteParsers={table:function(e){var t=[],o=!0,n=this.table.columnManager.columns,i=[],a=[];return(e=e.split("\n")).forEach(function(e){t.push(e.split("\t"))}),!(!t.length||1===t.length&&t[0].length<2)&&(t[0].forEach(function(e){var t=n.find(function(t){return e&&t.definition.title&&e.trim()&&t.definition.title.trim()===e.trim()});t?i.push(t):o=!1}),o||(o=!0,i=[],t[0].forEach(function(e){var t=n.find(function(t){return e&&t.field&&e.trim()&&t.field.trim()===e.trim()});t?i.push(t):o=!1}),o||(i=this.table.columnManager.columnsByIndex)),o&&t.shift(),t.forEach(function(e){var t={};e.forEach(function(e,o){i[o]&&(t[i[o].field]=e)}),a.push(t)}),a)}},b.prototype.pasteActions={replace:function(e){return this.table.setData(e)},update:function(e){return this.table.updateOrAddData(e)},insert:function(e){return this.table.addData(e)}},d.prototype.registerModule("clipboard",b);var y=function(e){this.table=e,this.indent=10,this.field="",this.collapseEl=null,this.expandEl=null,this.branchEl=null,this.elementField=!1,this.startOpen=function(){},this.displayIndex=0};y.prototype.initialize=function(){var e=null,t=this.table.columnManager.getFirstVisibileColumn(),o=this.table.options;switch(this.field=o.dataTreeChildField,this.indent=o.dataTreeChildIndent,this.elementField=o.dataTreeElementColumn||!!t&&t.field,o.dataTreeBranchElement&&(!0===o.dataTreeBranchElement?(this.branchEl=document.createElement("div"),this.branchEl.classList.add("tabulator-data-tree-branch")):"string"==typeof o.dataTreeBranchElement?((e=document.createElement("div")).innerHTML=o.dataTreeBranchElement,this.branchEl=e.firstChild):this.branchEl=o.dataTreeBranchElement),o.dataTreeCollapseElement?"string"==typeof o.dataTreeCollapseElement?((e=document.createElement("div")).innerHTML=o.dataTreeCollapseElement,this.collapseEl=e.firstChild):this.collapseEl=o.dataTreeCollapseElement:(this.collapseEl=document.createElement("div"),this.collapseEl.classList.add("tabulator-data-tree-control"),this.collapseEl.innerHTML="<div class='tabulator-data-tree-control-collapse'></div>"),o.dataTreeExpandElement?"string"==typeof o.dataTreeExpandElement?((e=document.createElement("div")).innerHTML=o.dataTreeExpandElement,this.expandEl=e.firstChild):this.expandEl=o.dataTreeExpandElement:(this.expandEl=document.createElement("div"),this.expandEl.classList.add("tabulator-data-tree-control"),this.expandEl.innerHTML="<div class='tabulator-data-tree-control-expand'></div>"),a(o.dataTreeStartExpanded)){case"boolean":this.startOpen=function(e,t){return o.dataTreeStartExpanded};break;case"function":this.startOpen=o.dataTreeStartExpanded;break;default:this.startOpen=function(e,t){return o.dataTreeStartExpanded[t]}}},y.prototype.initializeRow=function(e){var t=e.getData()[this.field],o=Array.isArray(t),n=o||!o&&"object"===(void 0===t?"undefined":a(t))&&null!==t;e.modules.dataTree={index:0,open:!!n&&this.startOpen(e.getComponent(),0),controlEl:!1,branchEl:!1,parent:!1,children:n}},y.prototype.layoutRow=function(e){var t=(this.elementField?e.getCell(this.elementField):e.getCells()[0]).getElement(),o=e.modules.dataTree;o.branchEl&&o.branchEl.parentNode.removeChild(o.branchEl),this.generateControlElement(e,t),o.index&&(this.branchEl?(o.branchEl=this.branchEl.cloneNode(!0),t.insertBefore(o.branchEl,t.firstChild),o.branchEl.style.marginLeft=(o.branchEl.offsetWidth+o.branchEl.style.marginRight)*(o.index-1)+o.index*this.indent+"px"):t.style.paddingLeft=parseInt(window.getComputedStyle(t,null).getPropertyValue("padding-left"))+o.index*this.indent+"px")},y.prototype.generateControlElement=function(e,t){var o=this,n=e.modules.dataTree,i=(t=t||e.getCells()[0].getElement(),n.controlEl);!1!==n.children&&(n.open?(n.controlEl=this.collapseEl.cloneNode(!0),n.controlEl.addEventListener("click",function(t){t.stopPropagation(),o.collapseRow(e)})):(n.controlEl=this.expandEl.cloneNode(!0),n.controlEl.addEventListener("click",function(t){t.stopPropagation(),o.expandRow(e)})),n.controlEl.addEventListener("mousedown",function(e){e.stopPropagation()}),i&&i.parentNode===t?i.parentNode.replaceChild(n.controlEl,i):t.insertBefore(n.controlEl,t.firstChild))},y.prototype.setDisplayIndex=function(e){this.displayIndex=e},y.prototype.getDisplayIndex=function(){return this.displayIndex},y.prototype.getRows=function(e){var t=this,o=[];return e.forEach(function(e,n){var i;o.push(e),e instanceof s&&((i=e.modules.dataTree.children).index||!1===i.children||t.getChildren(e).forEach(function(e){o.push(e)}))}),o},y.prototype.getChildren=function(e){var t=this,o=e.modules.dataTree,n=[],i=[];return!1!==o.children&&o.open&&(Array.isArray(o.children)||(o.children=this.generateChildren(e)),n=this.table.modExists("filter")?this.table.modules.filter.filter(o.children):o.children,this.table.modExists("sort")&&this.table.modules.sort.sort(n),n.forEach(function(e){i.push(e),t.getChildren(e).forEach(function(e){i.push(e)})})),i},y.prototype.generateChildren=function(e){var t=this,o=[],n=e.getData()[this.field];return Array.isArray(n)||(n=[n]),n.forEach(function(n){var i=new s(n||{},t.table.rowManager);i.modules.dataTree.index=e.modules.dataTree.index+1,i.modules.dataTree.parent=e,i.modules.dataTree.children&&(i.modules.dataTree.open=t.startOpen(i.getComponent(),i.modules.dataTree.index)),o.push(i)}),o},y.prototype.expandRow=function(e,t){var o=e.modules.dataTree;!1!==o.children&&(o.open=!0,e.reinitialize(),this.table.rowManager.refreshActiveData("tree",!1,!0),this.table.options.dataTreeRowExpanded(e.getComponent(),e.modules.dataTree.index))},y.prototype.collapseRow=function(e){var t=e.modules.dataTree;!1!==t.children&&(t.open=!1,e.reinitialize(),this.table.rowManager.refreshActiveData("tree",!1,!0),this.table.options.dataTreeRowCollapsed(e.getComponent(),e.modules.dataTree.index))},y.prototype.toggleRow=function(e){var t=e.modules.dataTree;!1!==t.children&&(t.open?this.collapseRow(e):this.expandRow(e))},y.prototype.getTreeParent=function(e){return!!e.modules.dataTree.parent&&e.modules.dataTree.parent.getComponent()},y.prototype.getTreeChildren=function(e){var t=e.modules.dataTree,o=[];return t.children&&(Array.isArray(t.children)||(t.children=this.generateChildren(e)),t.children.forEach(function(e){e instanceof s&&o.push(e.getComponent())})),o},y.prototype.checkForRestyle=function(e){e.row.cells.indexOf(e)||!1!==e.row.modules.dataTree.children&&e.row.reinitialize()},y.prototype.getChildField=function(){return this.field},d.prototype.registerModule("dataTree",y);var w=function(e){this.table=e,this.fields={},this.columnsByIndex=[],this.columnsByField={},this.config={}};w.prototype.download=function(e,t,o,n){var i=this,a=!1;this.processConfig(),"function"==typeof e?a=e:i.downloaders[e]?a=i.downloaders[e]:console.warn("Download Error - No such download type found: ",e),this.processColumns(),a&&a.call(this,i.processDefinitions(),i.processData(),o||{},function(o,a){n?!0===n?i.triggerDownload(o,a,e,t,!0):n(o):i.triggerDownload(o,a,e,t)},this.config)},w.prototype.processConfig=function(){var e={columnGroups:!0,rowGroups:!0,columnCalcs:!0};if(this.table.options.downloadConfig)for(var t in this.table.options.downloadConfig)e[t]=this.table.options.downloadConfig[t];e.rowGroups&&this.table.options.groupBy&&this.table.modExists("groupRows")&&(this.config.rowGroups=!0),e.columnGroups&&this.table.columnManager.columns.length!=this.table.columnManager.columnsByIndex.length&&(this.config.columnGroups=!0),e.columnCalcs&&this.table.modExists("columnCalcs")&&(this.config.columnCalcs=!0)},w.prototype.processColumns=function(){var e=this;e.columnsByIndex=[],e.columnsByField={},e.table.columnManager.columnsByIndex.forEach(function(t){t.field&&!1!==t.definition.download&&(t.visible||!t.visible&&t.definition.download)&&(e.columnsByIndex.push(t),e.columnsByField[t.field]=t)})},w.prototype.processDefinitions=function(){var e=this,t=[];return this.config.columnGroups?e.table.columnManager.columns.forEach(function(o){var n=e.processColumnGroup(o);n&&t.push(n)}):e.columnsByIndex.forEach(function(o){!1!==o.download&&t.push(e.processDefinition(o))}),t},w.prototype.processColumnGroup=function(e){var t=this,o=e.columns,n=0,i={type:"group",title:e.definition.title,depth:1};if(o.length){if(i.subGroups=[],i.width=0,o.forEach(function(e){var o=t.processColumnGroup(e);o.depth>n&&(n=o.depth),o&&(i.width+=o.width,i.subGroups.push(o))}),i.depth+=n,!i.width)return!1}else{if(!e.field||!1===e.definition.download||!(e.visible||!e.visible&&e.definition.download))return!1;i.width=1,i.definition=this.processDefinition(e)}return i},w.prototype.processDefinition=function(e){var t={};for(var o in e.definition)t[o]=e.definition[o];return void 0!==e.definition.downloadTitle&&(t.title=e.definition.downloadTitle),t},w.prototype.processData=function(){var e=this,t=[],o={};return this.config.rowGroups?this.table.modules.groupRows.getGroups().forEach(function(o){t.push(e.processGroupData(o))}):t=this.table.rowManager.getData(!0,"download"),this.config.columnCalcs&&(o=this.table.getCalcResults(),t={calcs:o,data:t}),"function"==typeof this.table.options.downloadDataFormatter&&(t=this.table.options.downloadDataFormatter(t)),t},w.prototype.processGroupData=function(e){var t=this,o=e.getSubGroups(),n={type:"group",key:e.key};return o.length?(n.subGroups=[],o.forEach(function(e){n.subGroups.push(t.processGroupData(e))})):n.rows=e.getData(!0,"download"),n},w.prototype.triggerDownload=function(e,t,o,n,i){var a=document.createElement("a"),r=new Blob([e],{type:t});n=n||"Tabulator."+("function"==typeof o?"txt":o);(r=this.table.options.downloadReady.call(this.table,e,r))&&(i?window.open(window.URL.createObjectURL(r)):navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(r,n):(a.setAttribute("href",window.URL.createObjectURL(r)),a.setAttribute("download",n),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)),this.table.options.downloadComplete&&this.table.options.downloadComplete())},w.prototype.getFieldValue=function(e,t){var o=this.columnsByField[e];return!!o&&o.getFieldValue(t)},w.prototype.commsReceived=function(e,t,o){switch(t){case"intercept":this.download(o.type,"",o.options,o.intercept)}},w.prototype.downloaders={csv:function(e,t,o,n,i){var r,s,l=this,c=[],u=[],d=o&&o.delimiter?o.delimiter:",";function h(e){e.forEach(function(e){var t=[];u.forEach(function(o){var n=l.getFieldValue(o,e);switch(void 0===n?"undefined":a(n)){case"object":n=JSON.stringify(n);break;case"undefined":case"null":n="";break;default:n=n}t.push('"'+String(n).split('"').join('""')+'"')}),r.push(t.join(d))})}i.columnGroups?(console.warn("Download Warning - CSV downloader cannot process column groups"),e.forEach(function(e){!function e(t,o){t.subGroups?t.subGroups.forEach(function(t){e(t,o+1)}):(c.push('"'+String(t.title).split('"').join('""')+'"'),u.push(t.definition.field))}(e,0)})):e.forEach(function(e){c.push('"'+String(e.title).split('"').join('""')+'"'),u.push(e.field)}),r=[c.join(d)],i.columnCalcs&&(console.warn("Download Warning - CSV downloader cannot process column calculations"),t=t.data),i.rowGroups?(console.warn("Download Warning - CSV downloader cannot process row groups"),t.forEach(function(e){!function e(t){t.subGroups?t.subGroups.forEach(function(t){e(t)}):h(t.rows)}(e)})):h(t),s=r.join("\n"),o.bom&&(s="\ufeff"+s),n(s,"text/csv")},json:function(e,t,o,n,i){i.columnCalcs&&(console.warn("Download Warning - CSV downloader cannot process column calculations"),t=t.data),n(JSON.stringify(t,null,"\t"),"application/json")},pdf:function(e,t,o,n,i){var r=this,s=[],l=[],c=[],u={},d=1,h={},f=o.rowGroupStyles||{fontStyle:"bold",fontSize:12,cellPadding:6,fillColor:220},p=o.rowCalcStyles||{fontStyle:"bold",fontSize:10,cellPadding:4,fillColor:232},m=o.jsPDF||{},g=o&&o.title?o.title:"";if(i.columnCalcs&&(u=t.calcs,t=t.data),m.orientation||(m.orientation=o.orientation||"landscape"),m.unit||(m.unit="pt"),i.columnGroups){e.forEach(function(e){e.depth>d&&(d=e.depth)});for(var v=0;v<d;v++)l.push([]);e.forEach(function(e){!function e(t,o){var n=t.width,i=1,a={content:t.title||""};if(t.subGroups?(t.subGroups.forEach(function(t){e(t,o+1)}),i=1):(s.push(t.definition.field),i=d-o),a.rowSpan=i,l[o].push(a),n--,i>1)for(var r=o+1;r<d;r++)l[r].push("");for(r=0;r<n;r++)l[o].push("")}(e,0)})}else e.forEach(function(e){e.field&&(l.push(e.title||""),s.push(e.field))}),l=[l];function b(e){switch(void 0===e?"undefined":a(e)){case"object":e=JSON.stringify(e);break;case"undefined":case"null":e="";break;default:e=e}return e}function y(e){e.forEach(function(e){c.push(w(e))})}function w(e,t){var o=[];return s.forEach(function(n){var i=r.getFieldValue(n,e);i=b(i),t?o.push({content:i,styles:t}):o.push(i)}),o}function E(e,t,o){var n=e[t];n&&(o&&(n=n[o]),Object.keys(n).length&&c.push(w(n,p)))}i.rowGroups?t.forEach(function(e){!function e(t,o){var n=[];n.push({content:b(t.key),colSpan:s.length,styles:f}),c.push(n),t.subGroups?t.subGroups.forEach(function(n){e(n,o[t.key]&&o[t.key].groups||{})}):(i.columnCalcs&&E(o,t.key,"top"),y(t.rows),i.columnCalcs&&E(o,t.key,"bottom"))}(e,u)}):(i.columnCalcs&&E(u,"top"),y(t),i.columnCalcs&&E(u,"bottom"));var C=new jsPDF(m);o&&o.autoTable&&(h="function"==typeof o.autoTable?o.autoTable(C)||{}:o.autoTable),g&&(h.addPageContent=function(e){C.text(g,40,30)}),h.head=l,h.body=c,C.autoTable(h),n(C.output("arraybuffer"),"application/pdf")},xlsx:function(e,t,o,n,i){var r=this,s=o.sheetName||"Sheet1",l={SheetNames:[],Sheets:{}},c={},u=[],d=[];function h(){var o=[],n=[],s=[];function l(e,t){var i;void 0===o[t]&&(o[t]=[]),void 0===d[t]&&(d[t]=[]),e.width>1&&d[t].push({type:"hoz",start:o[t].length,end:o[t].length+e.width-1}),o[t].push(e.title),e.subGroups?e.subGroups.forEach(function(e){l(e,t+1)}):(n.push(e.definition.field),n.length,i=0,o.forEach(function(e){var t=e.length;t>i&&(i=t)}),o.forEach(function(e){var t=e.length;if(t<i)for(var o=t;o<i;o++)e.push("")}),d[t].push({type:"vert",start:n.length-1}))}function h(e){e.forEach(function(e){s.push(f(e))})}function f(e){var t=[];return n.forEach(function(o){var n=r.getFieldValue(o,e);t.push(n instanceof Date||"object"!==(void 0===n?"undefined":a(n))?n:JSON.stringify(n))}),t}function p(e,t,o){var n=e[t];n&&(o&&(n=n[o]),Object.keys(n).length&&s.push(f(n)))}return i.columnGroups?(e.forEach(function(e){l(e,0)}),o.forEach(function(e){s.push(e)})):(e.forEach(function(e){o.push(e.title),n.push(e.field)}),s.push(o)),i.rowGroups?t.forEach(function(e){!function e(t,o){var n=[];n.push(t.key),u.push(s.length),s.push(n),t.subGroups?t.subGroups.forEach(function(n){e(n,o[t.key]&&o[t.key].groups||{})}):(i.columnCalcs&&p(o,t.key,"top"),h(t.rows),i.columnCalcs&&p(o,t.key,"bottom"))}(e,c)}):(i.columnCalcs&&p(c,"top"),h(t),i.columnCalcs&&p(c,"bottom")),function(){var e={},t={s:{c:0,r:0},e:{c:n.length,r:s.length}};XLSX.utils.sheet_add_aoa(e,s),e["!ref"]=XLSX.utils.encode_range(t);var i,a=(i=[],u.forEach(function(e){i.push({s:{r:e,c:0},e:{r:e,c:n.length-1}})}),d.forEach(function(e,t){e.forEach(function(e){"hoz"===e.type?i.push({s:{r:t,c:e.start},e:{r:t,c:e.end}}):t!=o.length-1&&i.push({s:{r:t,c:e.start},e:{r:o.length-1,c:e.start}})})}),i);return a.length&&(e["!merges"]=a),e}()}if(i.columnCalcs&&(c=t.calcs,t=t.data),o.sheetOnly)n(h());else{if(o.sheets)for(var f in o.sheets)!0===o.sheets[f]?(l.SheetNames.push(f),l.Sheets[f]=h()):(l.SheetNames.push(f),this.table.modules.comms.send(o.sheets[f],"download","intercept",{type:"xlsx",options:{sheetOnly:!0},intercept:function(e){l.Sheets[f]=e}}));else l.SheetNames.push(s),l.Sheets[s]=h();n(function(e){for(var t=new ArrayBuffer(e.length),o=new Uint8Array(t),n=0;n!=e.length;++n)o[n]=255&e.charCodeAt(n);return t}(XLSX.write(l,{bookType:"xlsx",bookSST:!0,type:"binary"})),"application/octet-stream")}}},d.prototype.registerModule("download",w);var E=function(e){this.table=e,this.currentCell=!1,this.mouseClick=!1,this.recursionBlock=!1,this.invalidEdit=!1};E.prototype.initializeColumn=function(e){var t={editor:!1,blocked:!1,check:e.definition.editable,params:e.definition.editorParams||{}};switch(a(e.definition.editor)){case"string":"tick"===e.definition.editor&&(e.definition.editor="tickCross",console.warn("DEPRECATION WANRING - the tick editor has been depricated, please use the tickCross editor")),this.editors[e.definition.editor]?t.editor=this.editors[e.definition.editor]:console.warn("Editor Error - No such editor found: ",e.definition.editor);break;case"function":t.editor=e.definition.editor;break;case"boolean":!0===e.definition.editor&&("function"!=typeof e.definition.formatter?("tick"===e.definition.formatter&&(e.definition.formatter="tickCross",console.warn("DEPRECATION WANRING - the tick editor has been depricated, please use the tickCross editor")),this.editors[e.definition.formatter]?t.editor=this.editors[e.definition.formatter]:t.editor=this.editors.input):console.warn("Editor Error - Cannot auto lookup editor for a custom formatter: ",e.definition.formatter))}t.editor&&(e.modules.edit=t)},E.prototype.getCurrentCell=function(){return!!this.currentCell&&this.currentCell.getComponent()},E.prototype.clearEditor=function(){var e,t=this.currentCell;if(this.invalidEdit=!1,t){for(this.currentCell=!1,(e=t.getElement()).classList.remove("tabulator-validation-fail"),e.classList.remove("tabulator-editing");e.firstChild;)e.removeChild(e.firstChild);t.row.getElement().classList.remove("tabulator-row-editing")}},E.prototype.cancelEdit=function(){if(this.currentCell){var e=this.currentCell,t=this.currentCell.getComponent();this.clearEditor(),e.setValueActual(e.getValue()),e.column.cellEvents.cellEditCancelled&&e.column.cellEvents.cellEditCancelled.call(this.table,t),this.table.options.cellEditCancelled.call(this.table,t)}},E.prototype.bindEditor=function(e){var t=this,o=e.getElement();o.setAttribute("tabindex",0),o.addEventListener("click",function(e){o.classList.contains("tabulator-editing")||o.focus()}),o.addEventListener("mousedown",function(e){t.mouseClick=!0}),o.addEventListener("focus",function(o){t.recursionBlock||t.edit(e,o,!1)})},E.prototype.focusCellNoEvent=function(e){this.recursionBlock=!0,"ie"!==this.table.browser&&e.getElement().focus(),this.recursionBlock=!1},E.prototype.editCell=function(e,t){this.focusCellNoEvent(e),this.edit(e,!1,t)},E.prototype.edit=function(e,t,o){var n,i,r,s=this,l=!0,c=function(){},u=e.getElement();if(!this.currentCell){if(e.column.modules.edit.blocked)return this.mouseClick=!1,u.blur(),!1;switch(t&&t.stopPropagation(),a(e.column.modules.edit.check)){case"function":l=e.column.modules.edit.check(e.getComponent());break;case"boolean":l=e.column.modules.edit.check}if(l||o){if(s.cancelEdit(),s.currentCell=e,i=e.getComponent(),this.mouseClick&&(this.mouseClick=!1,e.column.cellEvents.cellClick&&e.column.cellEvents.cellClick.call(this.table,t,i)),e.column.cellEvents.cellEditing&&e.column.cellEvents.cellEditing.call(this.table,i),s.table.options.cellEditing.call(this.table,i),r="function"==typeof e.column.modules.edit.params?e.column.modules.edit.params(i):e.column.modules.edit.params,!1===(n=e.column.modules.edit.editor.call(s,i,function(e){c=e},function(t){if(s.currentCell===e){var o=!0;e.column.modules.validate&&s.table.modExists("validate")&&(o=s.table.modules.validate.validate(e.column.modules.validate,e.getComponent(),t)),!0===o?(s.clearEditor(),e.setValue(t,!0),s.table.options.dataTree&&s.table.modExists("dataTree")&&s.table.modules.dataTree.checkForRestyle(e)):(s.invalidEdit=!0,u.classList.add("tabulator-validation-fail"),s.focusCellNoEvent(e),c(),s.table.options.validationFailed.call(s.table,e.getComponent(),t,o))}},function(){s.currentCell===e&&(s.cancelEdit(),s.table.options.dataTree&&s.table.modExists("dataTree")&&s.table.modules.dataTree.checkForRestyle(e))},r)))return u.blur(),!1;if(!(n instanceof Node))return console.warn("Edit Error - Editor should return an instance of Node, the editor returned:",n),u.blur(),!1;for(u.classList.add("tabulator-editing"),e.row.getElement().classList.add("tabulator-row-editing");u.firstChild;)u.removeChild(u.firstChild);u.appendChild(n),c();for(var d=u.children,h=0;h<d.length;h++)d[h].addEventListener("click",function(e){e.stopPropagation()});return!0}return this.mouseClick=!1,u.blur(),!1}this.invalidEdit||this.cancelEdit()},E.prototype.editors={input:function(e,t,o,n,i){var a=e.getValue(),r=document.createElement("input");function s(e){null==a&&""!==r.value||r.value!=a?o(r.value):n()}return r.setAttribute("type","text"),r.style.padding="4px",r.style.width="100%",r.style.boxSizing="border-box",r.value=void 0!==a?a:"",t(function(){r.focus(),r.style.height="100%"}),r.addEventListener("change",s),r.addEventListener("blur",s),r.addEventListener("keydown",function(e){switch(e.keyCode){case 13:o(r.value);break;case 27:n()}}),r},textarea:function(e,t,o,n,i){var a=e.getValue(),r=String(null!==a&&"undefined"!==a?a:""),s=((r.match(/(?:\r\n|\r|\n)/g)||[]).length,document.createElement("textarea")),l=0;function c(t){null==a&&""!==s.value||s.value!=a?(o(s.value),setTimeout(function(){e.getRow().normalizeHeight()},300)):n()}return s.style.display="block",s.style.padding="2px",s.style.height="100%",s.style.width="100%",s.style.boxSizing="border-box",s.style.whiteSpace="pre-wrap",s.style.resize="none",s.value=r,t(function(){s.focus(),s.style.height="100%"}),s.addEventListener("change",c),s.addEventListener("blur",c),s.addEventListener("keyup",function(){s.style.height="";var t=s.scrollHeight;s.style.height=t+"px",t!=l&&(l=t,e.getRow().normalizeHeight())}),s.addEventListener("keydown",function(e){27==e.keyCode&&n()}),s},number:function(e,t,o,n,i){var a=e.getValue(),r=document.createElement("input");r.setAttribute("type","number"),void 0!==i.max&&r.setAttribute("max",i.max),void 0!==i.min&&r.setAttribute("min",i.min),void 0!==i.step&&r.setAttribute("step",i.step),r.style.padding="4px",r.style.width="100%",r.style.boxSizing="border-box",r.value=a;var s=function(e){l()};function l(){var e=r.value;isNaN(e)||""===e||(e=Number(e)),e!=a?o(e):n()}return t(function(){r.removeEventListener("blur",s),r.focus(),r.style.height="100%",r.addEventListener("blur",s)}),r.addEventListener("keydown",function(e){switch(e.keyCode){case 13:case 9:l();break;case 27:n()}}),r},range:function(e,t,o,n,i){var a=e.getValue(),r=document.createElement("input");function s(){var e=r.value;isNaN(e)||""===e||(e=Number(e)),e!=a?o(e):n()}return r.setAttribute("type","range"),void 0!==i.max&&r.setAttribute("max",i.max),void 0!==i.min&&r.setAttribute("min",i.min),void 0!==i.step&&r.setAttribute("step",i.step),r.style.padding="4px",r.style.width="100%",r.style.boxSizing="border-box",r.value=a,t(function(){r.focus(),r.style.height="100%"}),r.addEventListener("blur",function(e){s()}),r.addEventListener("keydown",function(e){switch(e.keyCode){case 13:case 9:s();break;case 27:n()}}),r},select:function(e,t,o,n,i){var r=this,s=e.getElement(),l=e.getValue(),c=document.createElement("input"),u=document.createElement("div"),h=[],f=[],p={},m=!0;function g(){var t={},o=e.getColumn()._getSelf();return r.table.getData().forEach(function(e){var n=o.getFieldValue(e);null!=n&&""!==n&&(t[n]=!0)}),t=i.sortValuesList?"asc"==i.sortValuesList?Object.keys(t).sort():Object.keys(t).sort().reverse():Object.keys(t)}function v(t,o){var n=[],r=[];function s(e){return(e={label:i.listItemFormatter?i.listItemFormatter(e.value,e.label):e.label,value:e.value,element:!1}).value!==o&&(isNaN(parseFloat(e.value))||isNaN(parseFloat(e.value))||parseFloat(e.value)!==parseFloat(o))||b(e),n.push(e),r.push(e),e}if("function"==typeof t&&(t=t(e)),Array.isArray(t))t.forEach(function(e){var t;"object"===(void 0===e?"undefined":a(e))?e.options?(t={label:e.label,group:!0,element:!1},r.push(t),e.options.forEach(function(e){s(e)})):s(e):((t={label:i.listItemFormatter?i.listItemFormatter(e,e):e,value:e,element:!1}).value!==o&&(isNaN(parseFloat(t.value))||isNaN(parseFloat(t.value))||parseFloat(t.value)!==parseFloat(o))||b(t),n.push(t),r.push(t))});else for(var l in t){var c={label:i.listItemFormatter?i.listItemFormatter(l,t[l]):t[l],value:l,element:!1};c.value!==o&&(isNaN(parseFloat(c.value))||isNaN(parseFloat(c.value))||parseFloat(c.value)!==parseFloat(o))||b(c),n.push(c),r.push(c)}h=n,f=r,function(){for(;u.firstChild;)u.removeChild(u.firstChild);f.forEach(function(e){var t=e.element;t||(e.group?((t=document.createElement("div")).classList.add("tabulator-edit-select-list-group"),t.tabIndex=0,t.innerHTML=""===e.label?"&nbsp;":e.label):((t=document.createElement("div")).classList.add("tabulator-edit-select-list-item"),t.tabIndex=0,t.innerHTML=""===e.label?"&nbsp;":e.label,t.addEventListener("click",function(){b(e),y()}),e===p&&t.classList.add("active")),t.addEventListener("mousedown",function(){m=!1,setTimeout(function(){m=!0},10)}),e.element=t),u.appendChild(t)})}()}function b(e){p&&p.element&&p.element.classList.remove("active"),p=e,c.value="&nbsp;"===e.label?"":e.label,e.element&&e.element.classList.add("active")}function y(){E(),l!==p.value?(l=p.value,o(p.value)):n()}function w(){E(),n()}function E(){u.parentNode&&u.parentNode.removeChild(u)}return(Array.isArray(i)||!Array.isArray(i)&&"object"===(void 0===i?"undefined":a(i))&&!i.values)&&(console.warn("DEPRECATION WANRING - values for the select editor must now be passed into the values property of the editorParams object, not as the editorParams object"),i={values:i}),c.setAttribute("type","text"),c.style.padding="4px",c.style.width="100%",c.style.boxSizing="border-box",c.readOnly=!0,c.value=void 0!==l||null===l?l:"",!0===i.values?v(g(),l):v(i.values||[],l),c.addEventListener("keydown",function(e){var t;switch(e.keyCode){case 38:e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),(t=h.indexOf(p))>0&&b(h[t-1]);break;case 40:e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),(t=h.indexOf(p))<h.length-1&&b(-1==t?h[0]:h[t+1]);break;case 37:case 39:e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault();break;case 13:y();break;case 27:w()}}),c.addEventListener("blur",function(e){m&&w()}),c.addEventListener("focus",function(e){!function(){if(!u.parentNode){!0===i.values?v(g(),l):v(i.values||[],l);var e=d.prototype.helpers.elOffset(s);u.style.minWidth=s.offsetWidth+"px",u.style.top=e.top+s.offsetHeight+"px",u.style.left=e.left+"px",document.body.appendChild(u)}}()}),(u=document.createElement("div")).classList.add("tabulator-edit-select-list"),t(function(){c.style.height="100%",c.focus()}),c},autocomplete:function(e,t,o,n,i){var a=this,r=e.getElement(),s=e.getValue(),l=document.createElement("input"),c=document.createElement("div"),u=[],h=[],f=[],p={},m=!0;function g(e,t){var o=[],n=[];i.searchFunc?(u.forEach(function(e){n.push(e.search)}),i.searchFunc(e,n).forEach(function(e){var t=u.find(function(t){return t.search===e});t&&o.push(t)})):""===e?i.showListOnEmpty&&u.forEach(function(e){o.push(e)}):u.forEach(function(t){null===t.value&&void 0===t.value||(String(t.value).toLowerCase().indexOf(String(e).toLowerCase())>-1||String(t.title).toLowerCase().indexOf(String(e).toLowerCase())>-1)&&o.push(t)}),h=o,function(e){var t=!1;for(;c.firstChild;)c.removeChild(c.firstChild);h.forEach(function(o){var n=o.element;n||((n=document.createElement("div")).classList.add("tabulator-edit-select-list-item"),n.tabIndex=0,n.innerHTML=o.title,n.addEventListener("click",function(){v(o),b()}),n.addEventListener("mousedown",function(){m=!1,setTimeout(function(){m=!0},10)}),o.element=n,e&&o.value==s&&(l.value=o.title,o.element.classList.add("active"),t=!0),o===p&&(o.element.classList.add("active"),t=!0)),c.appendChild(n)}),t||v(!1)}(t)}function v(e,t){p&&p.element&&p.element.classList.remove("active"),p=e,e&&e.element&&e.element.classList.add("active")}function b(){w(),p?s!==p.value?(s=p.value,l.value=p.title,o(p.value)):n():i.freetext?(s=l.value,o(l.value)):i.allowEmpty&&""===l.value?(s=l.value,o(l.value)):n()}function y(){if(!c.parentNode){for(;c.firstChild;)c.removeChild(c.firstChild);!0===i.values?(o={},n=e.getColumn()._getSelf(),a.table.getData().forEach(function(e){var t=n.getFieldValue(e);null!=t&&""!==t&&(o[t]=!0)}),f=o=i.sortValuesList?"asc"==i.sortValuesList?Object.keys(o).sort():Object.keys(o).sort().reverse():Object.keys(o)):f=i.values||[],function(e,t){var o=[];if(Array.isArray(e))e.forEach(function(e){var n={title:i.listItemFormatter?i.listItemFormatter(e,e):e,value:e,element:!1};n.value!==t&&(isNaN(parseFloat(n.value))||isNaN(parseFloat(n.value))||parseFloat(n.value)!==parseFloat(t))||v(n),o.push(n)});else for(var n in e){var a={title:i.listItemFormatter?i.listItemFormatter(n,e[n]):e[n],value:n,element:!1};a.value!==t&&(isNaN(parseFloat(a.value))||isNaN(parseFloat(a.value))||parseFloat(a.value)!==parseFloat(t))||v(a),o.push(a)}i.searchFunc&&o.forEach(function(e){e.search={title:e.title,value:e.value}}),u=o}(f,s);var t=d.prototype.helpers.elOffset(r);c.style.minWidth=r.offsetWidth+"px",c.style.top=t.top+r.offsetHeight+"px",c.style.left=t.left+"px",document.body.appendChild(c)}var o,n}function w(){c.parentNode&&c.parentNode.removeChild(c)}return l.setAttribute("type","search"),l.style.padding="4px",l.style.width="100%",l.style.boxSizing="border-box",l.addEventListener("keydown",function(e){var t;switch(e.keyCode){case 38:e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),v((t=h.indexOf(p))>0&&h[t-1]);break;case 40:e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),(t=h.indexOf(p))<h.length-1&&v(-1==t?h[0]:h[t+1]);break;case 37:case 39:e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault();break;case 13:b();break;case 27:w(),n();break;case 36:case 35:e.stopImmediatePropagation()}}),l.addEventListener("keyup",function(e){switch(e.keyCode){case 38:case 37:case 39:case 40:case 13:case 27:break;default:g(l.value)}}),l.addEventListener("search",function(e){g(l.value)}),l.addEventListener("blur",function(e){m&&b()}),l.addEventListener("focus",function(e){var t=void 0!==s||null===s?s:"";y(),l.value=t,g(t,!0)}),(c=document.createElement("div")).classList.add("tabulator-edit-select-list"),t(function(){l.style.height="100%",l.focus()}),l},star:function(e,t,o,n,i){var a=this,r=e.getElement(),s=e.getValue(),l=r.getElementsByTagName("svg").length||5,c=r.getElementsByTagName("svg")[0]?r.getElementsByTagName("svg")[0].getAttribute("width"):14,u=[],d=document.createElement("div"),h=document.createElementNS("http://www.w3.org/2000/svg","svg");function f(e){u.forEach(function(t,o){o<e?("ie"==a.table.browser?t.setAttribute("class","tabulator-star-active"):t.classList.replace("tabulator-star-inactive","tabulator-star-active"),t.innerHTML='<polygon fill="#488CE9" stroke="#014AAE" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>'):("ie"==a.table.browser?t.setAttribute("class","tabulator-star-inactive"):t.classList.replace("tabulator-star-active","tabulator-star-inactive"),t.innerHTML='<polygon fill="#010155" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>')})}function p(e){var t=document.createElement("span"),n=h.cloneNode(!0);u.push(n),t.addEventListener("mouseenter",function(t){t.stopPropagation(),t.stopImmediatePropagation(),f(e)}),t.addEventListener("mousemove",function(e){e.stopPropagation(),e.stopImmediatePropagation()}),t.addEventListener("click",function(t){t.stopPropagation(),t.stopImmediatePropagation(),o(e)}),t.appendChild(n),d.appendChild(t)}function m(e){s=e,f(e)}r.style.whiteSpace="nowrap",r.style.overflow="hidden",r.style.textOverflow="ellipsis",d.style.verticalAlign="middle",d.style.display="inline-block",d.style.padding="4px",h.setAttribute("width",c),h.setAttribute("height",c),h.setAttribute("viewBox","0 0 512 512"),h.setAttribute("xml:space","preserve"),h.style.padding="0 1px";for(var g=1;g<=l;g++)p(g);return f(s=Math.min(parseInt(s),l)),d.addEventListener("mousemove",function(e){f(0)}),d.addEventListener("click",function(e){o(0)}),r.addEventListener("blur",function(e){n()}),r.addEventListener("keydown",function(e){switch(e.keyCode){case 39:m(s+1);break;case 37:m(s-1);break;case 13:o(s);break;case 27:n()}}),d},progress:function(e,t,o,n,i){var a,r,s=e.getElement(),l=void 0===i.max?s.getElementsByTagName("div")[0].getAttribute("max")||100:i.max,c=void 0===i.min?s.getElementsByTagName("div")[0].getAttribute("min")||0:i.min,u=(l-c)/100,d=e.getValue()||0,h=document.createElement("div"),f=document.createElement("div");function p(){var e=u*Math.round(f.offsetWidth/(s.clientWidth/100))+c;o(e),s.setAttribute("aria-valuenow",e),s.setAttribute("aria-label",d)}return h.style.position="absolute",h.style.right="0",h.style.top="0",h.style.bottom="0",h.style.width="5px",h.classList.add("tabulator-progress-handle"),f.style.display="inline-block",f.style.position="relative",f.style.height="100%",f.style.backgroundColor="#488CE9",f.style.maxWidth="100%",f.style.minWidth="0%",s.style.padding="4px 4px",d=Math.min(parseFloat(d),l),d=Math.max(parseFloat(d),c),d=Math.round((d-c)/u),f.style.width=d+"%",s.setAttribute("aria-valuemin",c),s.setAttribute("aria-valuemax",l),f.appendChild(h),h.addEventListener("mousedown",function(e){a=e.screenX,r=f.offsetWidth}),h.addEventListener("mouseover",function(){h.style.cursor="ew-resize"}),s.addEventListener("mousemove",function(e){a&&(f.style.width=r+e.screenX-a+"px")}),s.addEventListener("mouseup",function(e){a&&(e.stopPropagation(),e.stopImmediatePropagation(),a=!1,r=!1,p())}),s.addEventListener("keydown",function(e){switch(e.keyCode){case 39:f.style.width=f.clientWidth+s.clientWidth/100+"px";break;case 37:f.style.width=f.clientWidth-s.clientWidth/100+"px";break;case 13:p();break;case 27:n()}}),s.addEventListener("blur",function(){n()}),f},tickCross:function(e,t,o,n,i){var a=e.getValue(),r=document.createElement("input"),s=i.tristate,l=void 0===i.indeterminateValue?null:i.indeterminateValue,c=!1;function u(e){return s?e?c?l:r.checked:r.checked&&!c?(r.checked=!1,r.indeterminate=!0,c=!0,l):(c=!1,r.checked):r.checked}return r.setAttribute("type","checkbox"),r.style.marginTop="5px",r.style.boxSizing="border-box",r.value=a,!s||void 0!==a&&a!==l&&""!==a||(c=!0,r.indeterminate=!0),"firefox"!=this.table.browser&&t(function(){r.focus()}),r.checked=!0===a||"true"===a||"True"===a||1===a,r.addEventListener("change",function(e){o(u())}),r.addEventListener("blur",function(e){o(u(!0))}),r.addEventListener("keydown",function(e){13==e.keyCode&&o(u()),27==e.keyCode&&n()}),r}},d.prototype.registerModule("edit",E);var C=function(e){this.table=e,this.filterList=[],this.headerFilters={},this.headerFilterElements=[],this.headerFilterColumns=[],this.changed=!1};C.prototype.initializeColumn=function(e,t){var o,n=this,i=e.getField();e.modules.filter={success:function(t){var r,s="input"==e.modules.filter.tagType&&"text"==e.modules.filter.attrType||"textarea"==e.modules.filter.tagType?"partial":"match",l="";if(void 0===o||o!==t){if(o=t,e.modules.filter.emptyFunc(t))delete n.headerFilters[i];else{switch(e.modules.filter.value=t,a(e.definition.headerFilterFunc)){case"string":n.filters[e.definition.headerFilterFunc]?(l=e.definition.headerFilterFunc,r=function(o){var i=e.definition.headerFilterFuncParams||{},a=e.getFieldValue(o);return i="function"==typeof i?i(t,a,o):i,n.filters[e.definition.headerFilterFunc](t,a,o,i)}):console.warn("Header Filter Error - Matching filter function not found: ",e.definition.headerFilterFunc);break;case"function":l=r=function(o){var n=e.definition.headerFilterFuncParams||{},i=e.getFieldValue(o);return n="function"==typeof n?n(t,i,o):n,e.definition.headerFilterFunc(t,i,o,n)}}if(!r)switch(s){case"partial":r=function(o){var n=e.getFieldValue(o);return null!=n&&String(n).toLowerCase().indexOf(String(t).toLowerCase())>-1},l="like";break;default:r=function(o){return e.getFieldValue(o)==t},l="="}n.headerFilters[i]={value:t,func:r,type:l}}n.changed=!0,n.table.rowManager.filterRefresh()}},attrType:!1,tagType:!1,emptyFunc:!1},this.generateHeaderFilterElement(e)},C.prototype.generateHeaderFilterElement=function(e,t){var o,n,i,r,s,l,c,u=this,d=this,h=e.modules.filter.success,f=e.getField();if(e.modules.filter.headerElement&&e.modules.filter.headerElement.parentNode){var p=e.modules.filter.headerElement.parentNode,m=d.headerFilterElements.indexOf(p);m>=0&&d.headerFilterElements.splice(m,1);var g=d.headerFilterColumns.indexOf(g);g>=0&&d.headerFilterColumns.splice(g,1),e.contentElement.removeChild(p)}if(f){switch(e.modules.filter.emptyFunc=e.definition.headerFilterEmptyCheck||function(e){return!e&&"0"!==e},(o=document.createElement("div")).classList.add("tabulator-header-filter"),a(e.definition.headerFilter)){case"string":d.table.modules.edit.editors[e.definition.headerFilter]?(n=d.table.modules.edit.editors[e.definition.headerFilter],"tick"!==e.definition.headerFilter&&"tickCross"!==e.definition.headerFilter||e.definition.headerFilterEmptyCheck||(e.modules.filter.emptyFunc=function(e){return!0!==e&&!1!==e})):console.warn("Filter Error - Cannot build header filter, No such editor found: ",e.definition.editor);break;case"function":n=e.definition.headerFilter;break;case"boolean":e.modules.edit&&e.modules.edit.editor?n=e.modules.edit.editor:e.definition.formatter&&d.table.modules.edit.editors[e.definition.formatter]?(n=d.table.modules.edit.editors[e.definition.formatter],"tick"!==e.definition.formatter&&"tickCross"!==e.definition.formatter||e.definition.headerFilterEmptyCheck||(e.modules.filter.emptyFunc=function(e){return!0!==e&&!1!==e})):n=d.table.modules.edit.editors.input}if(n){if(r={getValue:function(){return void 0!==t?t:""},getField:function(){return e.definition.field},getElement:function(){return o},getColumn:function(){return e.getComponent()},getRow:function(){return{normalizeHeight:function(){}}}},c="function"==typeof(c=e.definition.headerFilterParams||{})?c.call(d.table):c,!(i=n.call(this.table.modules.edit,r,function(){},h,function(){},c)))return void console.warn("Filter Error - Cannot add filter to "+f+" column, editor returned a value of false");if(!(i instanceof Node))return void console.warn("Filter Error - Cannot add filter to "+f+" column, editor should return an instance of Node, the editor returned:",i);f?d.table.modules.localize.bind("headerFilters|columns|"+e.definition.field,function(e){i.setAttribute("placeholder",void 0!==e&&e?e:d.table.modules.localize.getText("headerFilters|default"))}):d.table.modules.localize.bind("headerFilters|default",function(e){i.setAttribute("placeholder",void 0!==d.column.definition.headerFilterPlaceholder&&d.column.definition.headerFilterPlaceholder?d.column.definition.headerFilterPlaceholder:e)}),i.addEventListener("click",function(e){e.stopPropagation(),i.focus()}),i.addEventListener("focus",function(e){var t=u.table.columnManager.element.scrollLeft;t!==u.table.rowManager.element.scrollLeft&&(u.table.rowManager.scrollHorizontal(t),u.table.columnManager.scrollHorizontal(t))}),s=!1,l=function(e){s&&clearTimeout(s),s=setTimeout(function(){h(i.value)},300)},e.modules.filter.headerElement=i,e.modules.filter.attrType=i.hasAttribute("type")?i.getAttribute("type").toLowerCase():"",e.modules.filter.tagType=i.tagName.toLowerCase(),!1!==e.definition.headerFilterLiveFilter&&("autocomplete"!==e.definition.headerFilter&&"tickCross"!==e.definition.headerFilter&&("autocomplete"!==e.definition.editor&&"tickCross"!==e.definition.editor||!0!==e.definition.headerFilter)&&(i.addEventListener("keyup",l),i.addEventListener("search",l),"number"==e.modules.filter.attrType&&i.addEventListener("change",function(e){h(i.value)}),"text"==e.modules.filter.attrType&&"ie"!==this.table.browser&&i.setAttribute("type","search")),"input"!=e.modules.filter.tagType&&"select"!=e.modules.filter.tagType&&"textarea"!=e.modules.filter.tagType||i.addEventListener("mousedown",function(e){e.stopPropagation()})),o.appendChild(i),e.contentElement.appendChild(o),d.headerFilterElements.push(i),d.headerFilterColumns.push(e)}}else console.warn("Filter Error - Cannot add header filter, column has no field set:",e.definition.title)},C.prototype.hideHeaderFilterElements=function(){this.headerFilterElements.forEach(function(e){e.style.display="none"})},C.prototype.showHeaderFilterElements=function(){this.headerFilterElements.forEach(function(e){e.style.display=""})},C.prototype.setHeaderFilterFocus=function(e){e.modules.filter&&e.modules.filter.headerElement?e.modules.filter.headerElement.focus():console.warn("Column Filter Focus Error - No header filter set on column:",e.getField())},C.prototype.setHeaderFilterValue=function(e,t){e&&(e.modules.filter&&e.modules.filter.headerElement?(this.generateHeaderFilterElement(e,t),e.modules.filter.success(t)):console.warn("Column Filter Error - No header filter set on column:",e.getField()))},C.prototype.reloadHeaderFilter=function(e){e&&(e.modules.filter&&e.modules.filter.headerElement?this.generateHeaderFilterElement(e,e.modules.filter.value):console.warn("Column Filter Error - No header filter set on column:",e.getField()))},C.prototype.hasChanged=function(){var e=this.changed;return this.changed=!1,e},C.prototype.setFilter=function(e,t,o){this.filterList=[],Array.isArray(e)||(e=[{field:e,type:t,value:o}]),this.addFilter(e)},C.prototype.addFilter=function(e,t,o){var n=this;Array.isArray(e)||(e=[{field:e,type:t,value:o}]),e.forEach(function(e){(e=n.findFilter(e))&&(n.filterList.push(e),n.changed=!0)}),this.table.options.persistentFilter&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.save("filter")},C.prototype.findFilter=function(e){var t,o=this;if(Array.isArray(e))return this.findSubFilters(e);var n=!1;return"function"==typeof e.field?n=function(t){return e.field(t,e.type||{})}:o.filters[e.type]?n=(t=o.table.columnManager.getColumnByField(e.field))?function(n){return o.filters[e.type](e.value,t.getFieldValue(n))}:function(t){return o.filters[e.type](e.value,t[e.field])}:console.warn("Filter Error - No such filter type found, ignoring: ",e.type),e.func=n,!!e.func&&e},C.prototype.findSubFilters=function(e){var t=this,o=[];return e.forEach(function(e){(e=t.findFilter(e))&&o.push(e)}),!!o.length&&o},C.prototype.getFilters=function(e,t){var o=[];return e&&(o=this.getHeaderFilters()),this.filterList.forEach(function(e){o.push({field:e.field,type:e.type,value:e.value})}),t&&o.forEach(function(e){"function"==typeof e.type&&(e.type="function")}),o},C.prototype.getHeaderFilters=function(){var e=[];for(var t in this.headerFilters)e.push({field:t,type:this.headerFilters[t].type,value:this.headerFilters[t].value});return e},C.prototype.removeFilter=function(e,t,o){var n=this;Array.isArray(e)||(e=[{field:e,type:t,value:o}]),e.forEach(function(e){var t=-1;(t="object"==a(e.field)?n.filterList.findIndex(function(t){return e===t}):n.filterList.findIndex(function(t){return e.field===t.field&&e.type===t.type&&e.value===t.value}))>-1?(n.filterList.splice(t,1),n.changed=!0):console.warn("Filter Error - No matching filter type found, ignoring: ",e.type)}),this.table.options.persistentFilter&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.save("filter")},C.prototype.clearFilter=function(e){this.filterList=[],e&&this.clearHeaderFilter(),this.changed=!0,this.table.options.persistentFilter&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.save("filter")},C.prototype.clearHeaderFilter=function(){var e=this;this.headerFilters={},this.headerFilterColumns.forEach(function(t){t.modules.filter.value=null,e.reloadHeaderFilter(t)}),this.changed=!0},C.prototype.search=function(e,t,o,n){var i=this,a=[],r=[];return Array.isArray(t)||(t=[{field:t,type:o,value:n}]),t.forEach(function(e){(e=i.findFilter(e))&&r.push(e)}),this.table.rowManager.rows.forEach(function(t){var o=!0;r.forEach(function(e){i.filterRecurse(e,t.getData())||(o=!1)}),o&&a.push("data"===e?t.getData("data"):t.getComponent())}),a},C.prototype.filter=function(e,t){var o=this,n=[],i=[];return o.table.options.dataFiltering&&o.table.options.dataFiltering.call(o.table,o.getFilters()),o.table.options.ajaxFiltering||!o.filterList.length&&!Object.keys(o.headerFilters).length?n=e.slice(0):e.forEach(function(e){o.filterRow(e)&&n.push(e)}),o.table.options.dataFiltered&&(n.forEach(function(e){i.push(e.getComponent())}),o.table.options.dataFiltered.call(o.table,o.getFilters(),i)),n},C.prototype.filterRow=function(e,t){var o=this,n=!0,i=e.getData();for(var a in o.filterList.forEach(function(e){o.filterRecurse(e,i)||(n=!1)}),o.headerFilters)o.headerFilters[a].func(i)||(n=!1);return n},C.prototype.filterRecurse=function(e,t){var o=this,n=!1;return Array.isArray(e)?e.forEach(function(e){o.filterRecurse(e,t)&&(n=!0)}):n=e.func(t),n},C.prototype.filters={"=":function(e,t,o,n){return t==e},"<":function(e,t,o,n){return t<e},"<=":function(e,t,o,n){return t<=e},">":function(e,t,o,n){return t>e},">=":function(e,t,o,n){return t>=e},"!=":function(e,t,o,n){return t!=e},regex:function(e,t,o,n){return"string"==typeof e&&(e=new RegExp(e)),e.test(t)},like:function(e,t,o,n){return null==e?t===e:null!=t&&String(t).toLowerCase().indexOf(e.toLowerCase())>-1},in:function(e,t,o,n){return Array.isArray(e)?e.indexOf(t)>-1:(console.warn("Filter Error - filter value is not an array:",e),!1)}},d.prototype.registerModule("filter",C);var x=function(e){this.table=e};x.prototype.initializeColumn=function(e){var t={params:e.definition.formatterParams||{}};switch(a(e.definition.formatter)){case"string":"tick"===e.definition.formatter&&(e.definition.formatter="tickCross",void 0===t.params.crossElement&&(t.params.crossElement=!1),console.warn("DEPRECATION WANRING - the tick formatter has been depricated, please use the tickCross formatter with the crossElement param set to false")),this.formatters[e.definition.formatter]?t.formatter=this.formatters[e.definition.formatter]:(console.warn("Formatter Error - No such formatter found: ",e.definition.formatter),t.formatter=this.formatters.plaintext);break;case"function":t.formatter=e.definition.formatter;break;default:t.formatter=this.formatters.plaintext}e.modules.format=t},x.prototype.cellRendered=function(e){e.column.modules.format.renderedCallback&&e.column.modules.format.renderedCallback()},x.prototype.formatValue=function(e){var t=e.getComponent(),o="function"==typeof e.column.modules.format.params?e.column.modules.format.params(t):e.column.modules.format.params;return e.column.modules.format.formatter.call(this,t,o,function(t){e.column.modules.format.renderedCallback=t})},x.prototype.sanitizeHTML=function(e){if(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=\/]/g,function(e){return t[e]})}return e},x.prototype.emptyToSpace=function(e){return null==e?"&nbsp":e},x.prototype.getFormatter=function(e){switch(void 0===e?"undefined":a(e)){case"string":this.formatters[e]?e=this.formatters[e]:(console.warn("Formatter Error - No such formatter found: ",e),e=this.formatters.plaintext);break;case"function":e=e;break;default:e=this.formatters.plaintext}return e},x.prototype.formatters={plaintext:function(e,t,o){return this.emptyToSpace(this.sanitizeHTML(e.getValue()))},html:function(e,t,o){return e.getValue()},textarea:function(e,t,o){return e.getElement().style.whiteSpace="pre-wrap",this.emptyToSpace(this.sanitizeHTML(e.getValue()))},money:function(e,t,o){var n,i,a,r,s=parseFloat(e.getValue()),l=t.decimal||".",c=t.thousand||",",u=t.symbol||"",d=!!t.symbolAfter,h=void 0!==t.precision?t.precision:2;if(isNaN(s))return this.emptyToSpace(this.sanitizeHTML(e.getValue()));for(n=!1!==h?s.toFixed(h):s,i=(n=String(n).split("."))[0],a=n.length>1?l+n[1]:"",r=/(\d+)(\d{3})/;r.test(i);)i=i.replace(r,"$1"+c+"$2");return d?i+a+u:u+i+a},link:function(e,t,o){var n=e.getValue(),i=t.urlPrefix||"",r=this.emptyToSpace(n),s=document.createElement("a");if(t.labelField&&(r=e.getData()[t.labelField]),t.label)switch(a(t.label)){case"string":r=t.label;break;case"function":r=t.label(e)}if(t.urlField&&(n=e.getData()[t.urlField]),t.url)switch(a(t.url)){case"string":n=t.url;break;case"function":n=t.url(e)}return s.setAttribute("href",i+n),t.target&&s.setAttribute("target",t.target),s.innerHTML=this.emptyToSpace(this.sanitizeHTML(r)),s},image:function(e,t,o){var n=document.createElement("img");switch(n.setAttribute("src",e.getValue()),a(t.height)){case"number":n.style.height=t.height+"px";break;case"string":n.style.height=t.height}switch(a(t.width)){case"number":n.style.width=t.width+"px";break;case"string":n.style.width=t.width}return n.addEventListener("load",function(){e.getRow().normalizeHeight()}),n},tickCross:function(e,t,o){var n=e.getValue(),i=e.getElement(),a=t.allowEmpty,r=t.allowTruthy,s=void 0!==t.tickElement?t.tickElement:'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>',l=void 0!==t.crossElement?t.crossElement:'<svg enable-background="new 0 0 24 24" height="14" width="14"  viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>';return r&&n||!0===n||"true"===n||"True"===n||1===n||"1"===n?(i.setAttribute("aria-checked",!0),s||""):!a||"null"!==n&&""!==n&&null!=n?(i.setAttribute("aria-checked",!1),l||""):(i.setAttribute("aria-checked","mixed"),"")},datetime:function(e,t,o){var n=t.inputFormat||"YYYY-MM-DD hh:mm:ss",i=t.outputFormat||"DD/MM/YYYY hh:mm:ss",a=void 0!==t.invalidPlaceholder?t.invalidPlaceholder:"",r=e.getValue(),s=moment(r,n);return s.isValid()?s.format(i):!0===a?r:"function"==typeof a?a(r):a},datetimediff:function(e,t,o){var n=t.inputFormat||"YYYY-MM-DD hh:mm:ss",i=void 0!==t.invalidPlaceholder?t.invalidPlaceholder:"",a=void 0!==t.suffix&&t.suffix,r=void 0!==t.unit?t.unit:void 0,s=void 0!==t.humanize&&t.humanize,l=void 0!==t.date?t.date:moment(),c=e.getValue(),u=moment(c,n);return u.isValid()?s?moment.duration(u.diff(l)).humanize(a):u.diff(l,r)+(a?" "+a:""):!0===i?c:"function"==typeof i?i(c):i},lookup:function(e,t,o){var n=e.getValue();return void 0===t[n]?(console.warn("Missing display value for "+n),n):t[n]},star:function(e,t,o){var n=e.getValue(),i=e.getElement(),a=t&&t.stars?t.stars:5,r=document.createElement("span"),s=document.createElementNS("http://www.w3.org/2000/svg","svg");r.style.verticalAlign="middle",s.setAttribute("width","14"),s.setAttribute("height","14"),s.setAttribute("viewBox","0 0 512 512"),s.setAttribute("xml:space","preserve"),s.style.padding="0 1px",n=parseInt(n)<a?parseInt(n):a;for(var l=1;l<=a;l++){var c=s.cloneNode(!0);c.innerHTML=l<=n?'<polygon fill="#FFEA00" stroke="#C1AB60" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>':'<polygon fill="#D2D2D2" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>',r.appendChild(c)}return i.style.whiteSpace="nowrap",i.style.overflow="hidden",i.style.textOverflow="ellipsis",i.setAttribute("aria-label",n),r},traffic:function(e,t,o){var n,i,r=this.sanitizeHTML(e.getValue())||0,s=document.createElement("span"),l=t&&t.max?t.max:100,c=t&&t.min?t.min:0,u=t&&void 0!==t.color?t.color:["red","orange","green"],d="#666666";if(!isNaN(r)&&void 0!==e.getValue()){switch(s.classList.add("tabulator-traffic-light"),i=parseFloat(r)<=l?parseFloat(r):l,i=parseFloat(i)>=c?parseFloat(i):c,n=(l-c)/100,i=Math.round((i-c)/n),void 0===u?"undefined":a(u)){case"string":d=u;break;case"function":d=u(r);break;case"object":if(Array.isArray(u)){var h=100/u.length,f=Math.floor(i/h);f=Math.min(f,u.length-1),d=u[f=Math.max(f,0)];break}}return s.style.backgroundColor=d,s}},progress:function(e,t,o){var n,i,r,s,l,c=this.sanitizeHTML(e.getValue())||0,u=e.getElement(),d=t&&t.max?t.max:100,h=t&&t.min?t.min:0,f=t&&t.legendAlign?t.legendAlign:"center";switch(i=parseFloat(c)<=d?parseFloat(c):d,i=parseFloat(i)>=h?parseFloat(i):h,n=(d-h)/100,i=Math.round((i-h)/n),a(t.color)){case"string":r=t.color;break;case"function":r=t.color(c);break;case"object":if(Array.isArray(t.color)){var p=100/t.color.length,m=Math.floor(i/p);m=Math.min(m,t.color.length-1),m=Math.max(m,0),r=t.color[m];break}default:r="#2DC214"}switch(a(t.legend)){case"string":s=t.legend;break;case"function":s=t.legend(c);break;case"boolean":s=c;break;default:s=!1}switch(a(t.legendColor)){case"string":l=t.legendColor;break;case"function":l=t.legendColor(c);break;case"object":if(Array.isArray(t.legendColor)){p=100/t.legendColor.length,m=Math.floor(i/p);m=Math.min(m,t.legendColor.length-1),m=Math.max(m,0),l=t.legendColor[m]}break;default:l="#000"}return u.style.minWidth="30px",u.style.position="relative",u.setAttribute("aria-label",i),"<div style='position:realtive; height:100%;'  data-max='"+d+"' data-min='"+h+"'><div style='position:relative; height:100%; width:calc("+i+"%); background-color:"+r+"; display:inline-block;'></div></div>"+(s?"<div style='position:absolute; top:4px; left:0; text-align:"+f+"; width:100%; color:"+l+";'>"+s+"</div>":"")},color:function(e,t,o){return e.getElement().style.backgroundColor=this.sanitizeHTML(e.getValue()),""},buttonTick:function(e,t,o){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>'},buttonCross:function(e,t,o){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>'},rownum:function(e,t,o){return this.table.rowManager.activeRows.indexOf(e.getRow()._getSelf())+1},handle:function(e,t,o){return e.getElement().classList.add("tabulator-row-handle"),"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>"},responsiveCollapse:function(e,t,o){var n=!1,i=document.createElement("div");function a(t){var o=e.getRow().getElement().getElementsByClassName("tabulator-responsive-collapse")[0];(n=t)?(i.classList.add("open"),o&&(o.style.display="")):(i.classList.remove("open"),o&&(o.style.display="none"))}return i.classList.add("tabulator-responsive-collapse-toggle"),i.innerHTML="<span class='tabulator-responsive-collapse-toggle-open'>+</span><span class='tabulator-responsive-collapse-toggle-close'>-</span>",e.getElement().classList.add("tabulator-row-handle"),this.table.options.responsiveLayoutCollapseStartOpen&&(n=!0),i.addEventListener("click",function(e){e.stopImmediatePropagation(),a(!n)}),a(n),i}},d.prototype.registerModule("format",x);var R=function(e){this.table=e,this.leftColumns=[],this.rightColumns=[],this.leftMargin=0,this.rightMargin=0,this.rightPadding=0,this.initializationMode="left",this.active=!1,this.scrollEndTimer=!1};R.prototype.reset=function(){this.initializationMode="left",this.leftColumns=[],this.rightColumns=[],this.leftMargin=0,this.rightMargin=0,this.rightMargin=0,this.active=!1,this.table.columnManager.headersElement.style.marginLeft=0,this.table.columnManager.element.style.paddingRight=0},R.prototype.initializeColumn=function(e){var t={margin:0,edge:!1};e.definition.frozen?e.parent.isGroup?console.warn("Frozen Column Error - Grouped columns cannot be frozen"):e.isGroup?console.warn("Frozen Column Error - Column Groups cannot be frozen"):(t.position=this.initializationMode,"left"==this.initializationMode?this.leftColumns.push(e):this.rightColumns.unshift(e),this.active=!0,e.modules.frozen=t):this.initializationMode="right"},R.prototype.scrollHorizontal=function(){var e,t=this;this.active&&(clearTimeout(this.scrollEndTimer),this.scrollEndTimer=setTimeout(function(){t.layout()},100),e=this.table.rowManager.getVisibleRows(),this.calcMargins(),this.layoutColumnPosition(),this.layoutCalcRows(),e.forEach(function(e){"row"===e.type&&t.layoutRow(e)}),this.table.rowManager.tableElement.style.marginRight=this.rightMargin)},R.prototype.calcMargins=function(){this.leftMargin=this._calcSpace(this.leftColumns,this.leftColumns.length)+"px",this.table.columnManager.headersElement.style.marginLeft=this.leftMargin,this.rightMargin=this._calcSpace(this.rightColumns,this.rightColumns.length)+"px",this.table.columnManager.element.style.paddingRight=this.rightMargin,this.rightPadding=this.table.rowManager.element.clientWidth+this.table.columnManager.scrollLeft},R.prototype.layoutCalcRows=function(){this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&this.table.modules.columnCalcs.topRow&&this.layoutRow(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&this.table.modules.columnCalcs.botRow&&this.layoutRow(this.table.modules.columnCalcs.botRow))},R.prototype.layoutColumnPosition=function(e){var t=this;this.leftColumns.forEach(function(o,n){o.modules.frozen.margin=t._calcSpace(t.leftColumns,n)+t.table.columnManager.scrollLeft+"px",n==t.leftColumns.length-1?o.modules.frozen.edge=!0:o.modules.frozen.edge=!1,t.layoutElement(o.getElement(),o),e&&o.cells.forEach(function(e){t.layoutElement(e.getElement(),o)})}),this.rightColumns.forEach(function(o,n){o.modules.frozen.margin=t.rightPadding-t._calcSpace(t.rightColumns,n+1)+"px",n==t.rightColumns.length-1?o.modules.frozen.edge=!0:o.modules.frozen.edge=!1,t.layoutElement(o.getElement(),o),e&&o.cells.forEach(function(e){t.layoutElement(e.getElement(),o)})})},R.prototype.layout=function(){var e=this;e.active&&(this.calcMargins(),e.table.rowManager.getDisplayRows().forEach(function(t){"row"===t.type&&e.layoutRow(t)}),this.layoutCalcRows(),this.layoutColumnPosition(!0),this.table.rowManager.tableElement.style.marginRight=this.rightMargin)},R.prototype.layoutRow=function(e){var t=this;e.getElement().style.paddingLeft=this.leftMargin,this.leftColumns.forEach(function(o){var n=e.getCell(o);n&&t.layoutElement(n.getElement(),o)}),this.rightColumns.forEach(function(o){var n=e.getCell(o);n&&t.layoutElement(n.getElement(),o)})},R.prototype.layoutElement=function(e,t){t.modules.frozen&&(e.style.position="absolute",e.style.left=t.modules.frozen.margin,e.classList.add("tabulator-frozen"),t.modules.frozen.edge&&e.classList.add("tabulator-frozen-"+t.modules.frozen.position))},R.prototype._calcSpace=function(e,t){for(var o=0,n=0;n<t;n++)e[n].visible&&(o+=e[n].getWidth());return o},d.prototype.registerModule("frozenColumns",R);var M=function(e){this.table=e,this.topElement=document.createElement("div"),this.rows=[],this.displayIndex=0};M.prototype.initialize=function(){this.rows=[],this.topElement.classList.add("tabulator-frozen-rows-holder"),this.table.columnManager.getElement().insertBefore(this.topElement,this.table.columnManager.headersElement.nextSibling)},M.prototype.setDisplayIndex=function(e){this.displayIndex=e},M.prototype.getDisplayIndex=function(){return this.displayIndex},M.prototype.isFrozen=function(){return!!this.rows.length},M.prototype.getRows=function(e){var t=e.slice(0);return this.rows.forEach(function(e){var o=t.indexOf(e);o>-1&&t.splice(o,1)}),t},M.prototype.freezeRow=function(e){e.modules.frozen?console.warn("Freeze Error - Row is already frozen"):(e.modules.frozen=!0,this.topElement.appendChild(e.getElement()),e.initialize(),e.normalizeHeight(),this.table.rowManager.adjustTableSize(),this.rows.push(e),this.table.rowManager.refreshActiveData("display"),this.styleRows())},M.prototype.unfreezeRow=function(e){var t=this.rows.indexOf(e);if(e.modules.frozen){e.modules.frozen=!1;var o=e.getElement();o.parentNode.removeChild(o),this.table.rowManager.adjustTableSize(),this.rows.splice(t,1),this.table.rowManager.refreshActiveData("display"),this.rows.length&&this.styleRows()}else console.warn("Freeze Error - Row is already unfrozen")},M.prototype.styleRows=function(e){var t=this;this.rows.forEach(function(e,o){t.table.rowManager.styleRow(e,o)})},d.prototype.registerModule("frozenRows",M);var k=function(e){this._group=e,this.type="GroupComponent"};k.prototype.getKey=function(){return this._group.key},k.prototype.getElement=function(){return this._group.element},k.prototype.getRows=function(){return this._group.getRows(!0)},k.prototype.getSubGroups=function(){return this._group.getSubGroups(!0)},k.prototype.getParentGroup=function(){return!!this._group.parent&&this._group.parent.getComponent()},k.prototype.getVisibility=function(){return this._group.visible},k.prototype.show=function(){this._group.show()},k.prototype.hide=function(){this._group.hide()},k.prototype.toggle=function(){this._group.toggleVisibility()},k.prototype._getSelf=function(){return this._group},k.prototype.getTable=function(){return this._group.groupManager.table};var T=function(e,t,o,n,i,a,r){this.groupManager=e,this.parent=t,this.key=n,this.level=o,this.field=i,this.hasSubGroups=o<e.groupIDLookups.length-1,this.addRow=this.hasSubGroups?this._addRowToGroup:this._addRow,this.type="group",this.old=r,this.rows=[],this.groups=[],this.groupList=[],this.generator=a,this.elementContents=!1,this.height=0,this.outerHeight=0,this.initialized=!1,this.calcs={},this.initialized=!1,this.modules={},this.arrowElement=!1,this.visible=r?r.visible:void 0!==e.startOpen[o]?e.startOpen[o]:e.startOpen[0],this.createElements(),this.addBindings(),this.createValueGroups()};T.prototype.wipe=function(){this.groupList.length?this.groupList.forEach(function(e){e.wipe()}):(this.element=!1,this.arrowElement=!1,this.elementContents=!1)},T.prototype.createElements=function(){this.element=document.createElement("div"),this.element.classList.add("tabulator-row"),this.element.classList.add("tabulator-group"),this.element.classList.add("tabulator-group-level-"+this.level),this.element.setAttribute("role","rowgroup"),this.arrowElement=document.createElement("div"),this.arrowElement.classList.add("tabulator-arrow"),!1!==this.groupManager.table.options.movableRows&&this.groupManager.table.modExists("moveRow")&&this.groupManager.table.modules.moveRow.initializeGroupHeader(this)},T.prototype.createValueGroups=function(){var e=this,t=this.level+1;this.groupManager.allowedValues&&this.groupManager.allowedValues[t]&&this.groupManager.allowedValues[t].forEach(function(o){e._createGroup(o,t)})},T.prototype.addBindings=function(){var e,t,o,n=this;n.groupManager.table.options.groupClick&&n.element.addEventListener("click",function(e){n.groupManager.table.options.groupClick(e,n.getComponent())}),n.groupManager.table.options.groupDblClick&&n.element.addEventListener("dblclick",function(e){n.groupManager.table.options.groupDblClick(e,n.getComponent())}),n.groupManager.table.options.groupContext&&n.element.addEventListener("contextmenu",function(e){n.groupManager.table.options.groupContext(e,n.getComponent())}),n.groupManager.table.options.groupTap&&(o=!1,n.element.addEventListener("touchstart",function(e){o=!0}),n.element.addEventListener("touchend",function(e){o&&n.groupManager.table.options.groupTap(e,n.getComponent()),o=!1})),n.groupManager.table.options.groupDblTap&&(e=null,n.element.addEventListener("touchend",function(t){e?(clearTimeout(e),e=null,n.groupManager.table.options.groupDblTap(t,n.getComponent())):e=setTimeout(function(){clearTimeout(e),e=null},300)})),n.groupManager.table.options.groupTapHold&&(t=null,n.element.addEventListener("touchstart",function(e){clearTimeout(t),t=setTimeout(function(){clearTimeout(t),t=null,o=!1,n.groupManager.table.options.groupTapHold(e,n.getComponent())},1e3)}),n.element.addEventListener("touchend",function(e){clearTimeout(t),t=null})),n.groupManager.table.options.groupToggleElement&&("arrow"==n.groupManager.table.options.groupToggleElement?n.arrowElement:n.element).addEventListener("click",function(e){e.stopPropagation(),e.stopImmediatePropagation(),n.toggleVisibility()})},T.prototype._createGroup=function(e,t){var o=t+"_"+e,n=new T(this.groupManager,this,t,e,this.groupManager.groupIDLookups[t].field,this.groupManager.headerGenerator[t]||this.groupManager.headerGenerator[0],!!this.old&&this.old.groups[o]);this.groups[o]=n,this.groupList.push(n)},T.prototype._addRowToGroup=function(e){var t=this.level+1;if(this.hasSubGroups){var o=this.groupManager.groupIDLookups[t].func(e.getData()),n=t+"_"+o;this.groupManager.allowedValues&&this.groupManager.allowedValues[t]?this.groups[n]&&this.groups[n].addRow(e):(this.groups[n]||this._createGroup(o,t),this.groups[n].addRow(e))}},T.prototype._addRow=function(e){this.rows.push(e),e.modules.group=this},T.prototype.insertRow=function(e,t,o){var n=this.conformRowData({});e.updateData(n);var i=this.rows.indexOf(t);i>-1?o?this.rows.splice(i+1,0,e):this.rows.splice(i,0,e):o?this.rows.push(e):this.rows.unshift(e),e.modules.group=this,this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modules.columnCalcs.recalcGroup(this),this.groupManager.updateGroupRows(!0)},T.prototype.scrollHeader=function(e){this.arrowElement.style.marginLeft=e,this.groupList.forEach(function(t){t.scrollHeader(e)})},T.prototype.getRowIndex=function(e){},T.prototype.conformRowData=function(e){return this.field?e[this.field]=this.key:console.warn("Data Conforming Error - Cannot conform row data to match new group as groupBy is a function"),this.parent&&(e=this.parent.conformRowData(e)),e},T.prototype.removeRow=function(e){var t=this.rows.indexOf(e),o=e.getElement();t>-1&&this.rows.splice(t,1),this.groupManager.table.options.groupValues||this.rows.length?(o.parentNode&&o.parentNode.removeChild(o),this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modules.columnCalcs.recalcGroup(this)):(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this),this.groupManager.updateGroupRows(!0))},T.prototype.removeGroup=function(e){var t,o=e.level+"_"+e.key;this.groups[o]&&(delete this.groups[o],(t=this.groupList.indexOf(e))>-1&&this.groupList.splice(t,1),this.groupList.length||(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this)))},T.prototype.getHeadersAndRows=function(e){var t=[];return t.push(this),this._visSet(),this.visible?this.groupList.length?this.groupList.forEach(function(o){t=t.concat(o.getHeadersAndRows(e))}):(!e&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top&&this.calcs.top.detachElement(),this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),t.push(this.calcs.top)),t=t.concat(this.rows),!e&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom&&this.calcs.bottom.detachElement(),this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),t.push(this.calcs.bottom))):!this.groupList.length&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.options.groupClosedShowCalcs&&this.groupManager.table.modExists("columnCalcs")&&(!e&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top&&this.calcs.top.detachElement(),this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),t.push(this.calcs.top)),!e&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom&&this.calcs.bottom.detachElement(),this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),t.push(this.calcs.bottom))),t},T.prototype.getData=function(e,t){var o=[];return this._visSet(),(!e||e&&this.visible)&&this.rows.forEach(function(e){o.push(e.getData(t||"data"))}),o},T.prototype.getRowCount=function(){var e=0;return this.groupList.length?this.groupList.forEach(function(t){e+=t.getRowCount()}):e=this.rows.length,e},T.prototype.toggleVisibility=function(){this.visible?this.hide():this.show()},T.prototype.hide=function(){this.visible=!1,"classic"!=this.groupManager.table.rowManager.getRenderMode()||this.groupManager.table.options.pagination?this.groupManager.updateGroupRows(!0):(this.element.classList.remove("tabulator-group-visible"),this.groupList.length?this.groupList.forEach(function(e){e.getHeadersAndRows().forEach(function(e){e.detachElement()})}):this.rows.forEach(function(e){var t=e.getElement();t.parentNode.removeChild(t)}),this.groupManager.table.rowManager.setDisplayRows(this.groupManager.updateGroupRows(),this.groupManager.getDisplayIndex()),this.groupManager.table.rowManager.checkClassicModeGroupHeaderWidth()),this.groupManager.table.options.groupVisibilityChanged.call(this.table,this.getComponent(),!1)},T.prototype.show=function(){if(this.visible=!0,"classic"!=this.groupManager.table.rowManager.getRenderMode()||this.groupManager.table.options.pagination)this.groupManager.updateGroupRows(!0);else{this.element.classList.add("tabulator-group-visible");var e=this.getElement();this.groupList.length?this.groupList.forEach(function(t){t.getHeadersAndRows().forEach(function(t){var o=t.getElement();e.parentNode.insertBefore(o,e.nextSibling),t.initialize(),e=o})}):this.rows.forEach(function(t){var o=t.getElement();e.parentNode.insertBefore(o,e.nextSibling),t.initialize(),e=o}),this.groupManager.table.rowManager.setDisplayRows(this.groupManager.updateGroupRows(),this.groupManager.getDisplayIndex()),this.groupManager.table.rowManager.checkClassicModeGroupHeaderWidth()}this.groupManager.table.options.groupVisibilityChanged.call(this.table,this.getComponent(),!0)},T.prototype._visSet=function(){var e=[];"function"==typeof this.visible&&(this.rows.forEach(function(t){e.push(t.getData())}),this.visible=this.visible(this.key,this.getRowCount(),e,this.getComponent()))},T.prototype.getRowGroup=function(e){var t=!1;return this.groupList.length?this.groupList.forEach(function(o){var n=o.getRowGroup(e);n&&(t=n)}):this.rows.find(function(t){return t===e})&&(t=this),t},T.prototype.getSubGroups=function(e){var t=[];return this.groupList.forEach(function(o){t.push(e?o.getComponent():o)}),t},T.prototype.getRows=function(e){var t=[];return this.rows.forEach(function(o){t.push(e?o.getComponent():o)}),t},T.prototype.generateGroupHeaderContents=function(){var e=[];for(this.rows.forEach(function(t){e.push(t.getData())}),this.elementContents=this.generator(this.key,this.getRowCount(),e,this.getComponent());this.element.firstChild;)this.element.removeChild(this.element.firstChild);"string"==typeof this.elementContents?this.element.innerHTML=this.elementContents:this.element.appendChild(this.elementContents),this.element.insertBefore(this.arrowElement,this.element.firstChild)},T.prototype.getElement=function(){this.addBindingsd=!1,this._visSet(),this.visible?this.element.classList.add("tabulator-group-visible"):this.element.classList.remove("tabulator-group-visible");for(var e=0;e<this.element.childNodes.length;++e)this.element.childNodes[e].parentNode.removeChild(this.element.childNodes[e]);return this.generateGroupHeaderContents(),this.element},T.prototype.detachElement=function(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)},T.prototype.normalizeHeight=function(){this.setHeight(this.element.clientHeight)},T.prototype.initialize=function(e){this.initialized&&!e||(this.normalizeHeight(),this.initialized=!0)},T.prototype.reinitialize=function(){this.initialized=!1,this.height=0,d.prototype.helpers.elVisible(this.element)&&this.initialize(!0)},T.prototype.setHeight=function(e){this.height!=e&&(this.height=e,this.outerHeight=this.element.offsetHeight)},T.prototype.getHeight=function(){return this.outerHeight},T.prototype.getGroup=function(){return this},T.prototype.reinitializeHeight=function(){},T.prototype.calcHeight=function(){},T.prototype.setCellHeight=function(){},T.prototype.clearCellHeight=function(){},T.prototype.getComponent=function(){return new k(this)};var D=function(e){this.table=e,this.groupIDLookups=!1,this.startOpen=[function(){return!1}],this.headerGenerator=[function(){return""}],this.groupList=[],this.allowedValues=!1,this.groups={},this.displayIndex=0};D.prototype.initialize=function(){var e=this,t=e.table.options.groupBy,o=e.table.options.groupStartOpen,n=e.table.options.groupHeader;(this.allowedValues=e.table.options.groupValues,e.headerGenerator=[function(){return""}],this.startOpen=[function(){return!1}],e.table.modules.localize.bind("groups|item",function(t,o){e.headerGenerator[0]=function(e,n,i){return(void 0===e?"":e)+"<span>("+n+" "+(1===n?t:o.groups.items)+")</span>"}}),this.groupIDLookups=[],Array.isArray(t)||t)?this.table.modExists("columnCalcs")&&"table"!=this.table.options.columnCalcs&&"both"!=this.table.options.columnCalcs&&this.table.modules.columnCalcs.removeCalcs():this.table.modExists("columnCalcs")&&"group"!=this.table.options.columnCalcs&&this.table.columnManager.getRealColumns().forEach(function(t){t.definition.topCalc&&e.table.modules.columnCalcs.initializeTopRow(),t.definition.bottomCalc&&e.table.modules.columnCalcs.initializeBottomRow()});Array.isArray(t)||(t=[t]),t.forEach(function(t,o){var n,i;n="function"==typeof t?t:(i=e.table.columnManager.getColumnByField(t))?function(e){return i.getFieldValue(e)}:function(e){return e[t]},e.groupIDLookups.push({field:"function"!=typeof t&&t,func:n,values:!!e.allowedValues&&e.allowedValues[o]})}),o&&(Array.isArray(o)||(o=[o]),o.forEach(function(e){e="function"==typeof e?e:function(){return!0}}),e.startOpen=o),n&&(e.headerGenerator=Array.isArray(n)?n:[n]),this.initialized=!0},D.prototype.setDisplayIndex=function(e){this.displayIndex=e},D.prototype.getDisplayIndex=function(){return this.displayIndex},D.prototype.getRows=function(e){return this.groupIDLookups.length?(this.table.options.dataGrouping.call(this.table),this.generateGroups(e),this.table.options.dataGrouped&&this.table.options.dataGrouped.call(this.table,this.getGroups(!0)),this.updateGroupRows()):e.slice(0)},D.prototype.getGroups=function(e){var t=[];return this.groupList.forEach(function(o){t.push(e?o.getComponent():o)}),t},D.prototype.wipe=function(){this.groupList.forEach(function(e){e.wipe()})},D.prototype.pullGroupListData=function(e){var t=this,o=[];return e.forEach(function(e){var n={level:0,rowCount:0,headerContent:""},i=[];e.hasSubGroups?(i=t.pullGroupListData(e.groupList),n.level=e.level,n.rowCount=i.length-e.groupList.length,n.headerContent=e.generator(e.key,n.rowCount,e.rows,e),o.push(n),o=o.concat(i)):(n.level=e.level,n.headerContent=e.generator(e.key,e.rows.length,e.rows,e),n.rowCount=e.getRows().length,o.push(n),e.getRows().forEach(function(e){o.push(e.getData("data"))}))}),o},D.prototype.getGroupedData=function(){return this.pullGroupListData(this.groupList)},D.prototype.getRowGroup=function(e){var t=!1;return this.groupList.forEach(function(o){var n=o.getRowGroup(e);n&&(t=n)}),t},D.prototype.countGroups=function(){return this.groupList.length},D.prototype.generateGroups=function(e){var t=this,o=t.groups;t.groups={},t.groupList=[],this.allowedValues&&this.allowedValues[0]?(this.allowedValues[0].forEach(function(e){t.createGroup(e,0,o)}),e.forEach(function(e){t.assignRowToExistingGroup(e,o)})):e.forEach(function(e){t.assignRowToGroup(e,o)})},D.prototype.createGroup=function(e,t,o){var n,i=t+"_"+e;o=o||[],n=new T(this,!1,t,e,this.groupIDLookups[0].field,this.headerGenerator[0],o[i]),this.groups[i]=n,this.groupList.push(n)},D.prototype.assignRowToGroup=function(e,t){var o=this.groupIDLookups[0].func(e.getData()),n="0_"+o;this.groups[n]||this.createGroup(o,0,t),this.groups[n].addRow(e)},D.prototype.assignRowToExistingGroup=function(e,t){var o="0_"+this.groupIDLookups[0].func(e.getData());this.groups[o]&&this.groups[o].addRow(e)},D.prototype.assignRowToGroup=function(e,t){var o=this.groupIDLookups[0].func(e.getData()),n=!this.groups["0_"+o];return n&&this.createGroup(o,0,t),this.groups["0_"+o].addRow(e),!n},D.prototype.updateGroupRows=function(e){var t=[];if(this.groupList.forEach(function(e){t=t.concat(e.getHeadersAndRows())}),e){var o=this.table.rowManager.setDisplayRows(t,this.getDisplayIndex());!0!==o&&this.setDisplayIndex(o),this.table.rowManager.refreshActiveData("group",!0,!0)}return t},D.prototype.scrollHeaders=function(e){e+="px",this.groupList.forEach(function(t){t.scrollHeader(e)})},D.prototype.removeGroup=function(e){var t,o=e.level+"_"+e.key;this.groups[o]&&(delete this.groups[o],(t=this.groupList.indexOf(e))>-1&&this.groupList.splice(t,1))},d.prototype.registerModule("groupRows",D);var L=function(e){this.table=e,this.history=[],this.index=-1};L.prototype.clear=function(){this.history=[],this.index=-1},L.prototype.action=function(e,t,o){this.history=this.history.slice(0,this.index+1),this.history.push({type:e,component:t,data:o}),this.index++},L.prototype.getHistoryUndoSize=function(){return this.index+1},L.prototype.getHistoryRedoSize=function(){return this.history.length-(this.index+1)},L.prototype.undo=function(){if(this.index>-1){var e=this.history[this.index];return this.undoers[e.type].call(this,e),this.index--,this.table.options.historyUndo.call(this.table,e.type,e.component.getComponent(),e.data),!0}return console.warn("History Undo Error - No more history to undo"),!1},L.prototype.redo=function(){if(this.history.length-1>this.index){this.index++;var e=this.history[this.index];return this.redoers[e.type].call(this,e),this.table.options.historyRedo.call(this.table,e.type,e.component.getComponent(),e.data),!0}return console.warn("History Redo Error - No more history to redo"),!1},L.prototype.undoers={cellEdit:function(e){e.component.setValueProcessData(e.data.oldValue)},rowAdd:function(e){e.component.deleteActual()},rowDelete:function(e){var t=this.table.rowManager.addRowActual(e.data.data,e.data.pos,e.data.index);this._rebindRow(e.component,t)},rowMove:function(e){this.table.rowManager.moveRowActual(e.component,this.table.rowManager.rows[e.data.pos],!1),this.table.rowManager.redraw()}},L.prototype.redoers={cellEdit:function(e){e.component.setValueProcessData(e.data.newValue)},rowAdd:function(e){var t=this.table.rowManager.addRowActual(e.data.data,e.data.pos,e.data.index);this._rebindRow(e.component,t)},rowDelete:function(e){e.component.deleteActual()},rowMove:function(e){this.table.rowManager.moveRowActual(e.component,this.table.rowManager.rows[e.data.pos],!1),this.table.rowManager.redraw()}},L.prototype._rebindRow=function(e,t){this.history.forEach(function(o){if(o.component instanceof s)o.component===e&&(o.component=t);else if(o.component instanceof c&&o.component.row===e){var n=o.component.column.getField();n&&(o.component=t.getCell(n))}})},d.prototype.registerModule("history",L);var S=function(e){this.table=e,this.fieldIndex=[],this.hasIndex=!1};S.prototype.parseTable=function(){var e=this.table.element,t=this.table.options,o=(t.columns,e.getElementsByTagName("th")),n=e.getElementsByTagName("tbody")[0],i=[];this.hasIndex=!1,this.table.options.htmlImporting.call(this.table),n=n?n.getElementsByTagName("tr"):[],this._extractOptions(e,t),o.length?this._extractHeaders(o,n):this._generateBlankHeaders(o,n);for(var r=0;r<n.length;r++){var s=n[r].getElementsByTagName("td"),l={};this.hasIndex||(l[t.index]=r);for(var c=0;c<s.length;c++){var u=s[c];void 0!==this.fieldIndex[c]&&(l[this.fieldIndex[c]]=u.innerHTML)}i.push(l)}var d=document.createElement("div"),h=e.attributes;for(var c in h)"object"==a(h[c])&&d.setAttribute(h[c].name,h[c].value);e.parentNode.replaceChild(d,e),t.data=i,this.table.options.htmlImported.call(this.table),this.table.element=d},S.prototype._extractOptions=function(e,t,o){var n=e.attributes,i=o?Object.assign([],o):Object.keys(t),r={};for(var s in i.forEach(function(e){r[e.toLowerCase()]=e}),n){var l,c=n[s];c&&"object"==(void 0===c?"undefined":a(c))&&c.name&&0===c.name.indexOf("tabulator-")&&(l=c.name.replace("tabulator-",""),void 0!==r[l]&&(t[r[l]]=this._attribValue(c.value)))}},S.prototype._attribValue=function(e){return"true"===e||"false"!==e&&e},S.prototype._findCol=function(e){return this.table.options.columns.find(function(t){return t.title===e})||!1},S.prototype._extractHeaders=function(e,t){for(var o=0;o<e.length;o++){var i,r,s=e[o],l=!1,c=this._findCol(s.textContent);for(var u in c?l=!0:c={title:s.textContent.trim()},c.field||(c.field=s.textContent.trim().toLowerCase().replace(" ","_")),(i=s.getAttribute("width"))&&!c.width&&(c.width=i),r=s.attributes,this._extractOptions(s,c,n.prototype.defaultOptionList),r){var d=r[u];d&&"object"==(void 0===d?"undefined":a(d))&&d.name&&0===d.name.indexOf("tabulator-")&&(c[d.name.replace("tabulator-","")]=this._attribValue(d.value))}this.fieldIndex[o]=c.field,c.field==this.table.options.index&&(this.hasIndex=!0),l||this.table.options.columns.push(c)}},S.prototype._generateBlankHeaders=function(e,t){for(var o=0;o<e.length;o++){var n=e[o],i={title:"",field:"col"+o};this.fieldIndex[o]=i.field;var a=n.getAttribute("width");a&&(i.width=a),this.table.options.columns.push(i)}},d.prototype.registerModule("htmlTableImport",S);var _=function(e){this.table=e,this.watchKeys=null,this.pressedKeys=null,this.keyupBinding=!1,this.keydownBinding=!1};_.prototype.initialize=function(){var e=this.table.options.keybindings,t={};if(this.watchKeys={},this.pressedKeys=[],!1!==e){for(var o in this.bindings)t[o]=this.bindings[o];if(Object.keys(e).length)for(var n in e)t[n]=e[n];this.mapBindings(t),this.bindEvents()}},_.prototype.mapBindings=function(e){var t=this,o=this,n=function(n){t.actions[n]?e[n]&&("object"!==a(e[n])&&(e[n]=[e[n]]),e[n].forEach(function(e){o.mapBinding(n,e)})):console.warn("Key Binding Error - no such action:",n)};for(var i in e)n(i)},_.prototype.mapBinding=function(e,t){var o=this,n={action:this.actions[e],keys:[],ctrl:!1,shift:!1};t.toString().toLowerCase().split(" ").join("").split("+").forEach(function(e){switch(e){case"ctrl":n.ctrl=!0;break;case"shift":n.shift=!0;break;default:e=parseInt(e),n.keys.push(e),o.watchKeys[e]||(o.watchKeys[e]=[]),o.watchKeys[e].push(n)}})},_.prototype.bindEvents=function(){var e=this;this.keyupBinding=function(t){var o=t.keyCode,n=e.watchKeys[o];n&&(e.pressedKeys.push(o),n.forEach(function(o){e.checkBinding(t,o)}))},this.keydownBinding=function(t){var o=t.keyCode;if(e.watchKeys[o]){var n=e.pressedKeys.indexOf(o);n>-1&&e.pressedKeys.splice(n,1)}},this.table.element.addEventListener("keydown",this.keyupBinding),this.table.element.addEventListener("keyup",this.keydownBinding)},_.prototype.clearBindings=function(){this.keyupBinding&&this.table.element.removeEventListener("keydown",this.keyupBinding),this.keydownBinding&&this.table.element.removeEventListener("keyup",this.keydownBinding)},_.prototype.checkBinding=function(e,t){var o=this,n=!0;return e.ctrlKey==t.ctrl&&e.shiftKey==t.shift&&(t.keys.forEach(function(e){-1==o.pressedKeys.indexOf(e)&&(n=!1)}),n&&t.action.call(o,e),!0)},_.prototype.bindings={navPrev:"shift + 9",navNext:9,navUp:38,navDown:40,scrollPageUp:33,scrollPageDown:34,scrollToStart:36,scrollToEnd:35,undo:"ctrl + 90",redo:"ctrl + 89",copyToClipboard:"ctrl + 67"},_.prototype.actions={keyBlock:function(e){e.stopPropagation(),e.preventDefault()},scrollPageUp:function(e){var t=this.table.rowManager,o=t.scrollTop-t.height;t.element.scrollHeight;e.preventDefault(),t.displayRowsCount&&(o>=0?t.element.scrollTop=o:t.scrollToRow(t.getDisplayRows()[0])),this.table.element.focus()},scrollPageDown:function(e){var t=this.table.rowManager,o=t.scrollTop+t.height,n=t.element.scrollHeight;e.preventDefault(),t.displayRowsCount&&(o<=n?t.element.scrollTop=o:t.scrollToRow(t.getDisplayRows()[t.displayRowsCount-1])),this.table.element.focus()},scrollToStart:function(e){var t=this.table.rowManager;e.preventDefault(),t.displayRowsCount&&t.scrollToRow(t.getDisplayRows()[0]),this.table.element.focus()},scrollToEnd:function(e){var t=this.table.rowManager;e.preventDefault(),t.displayRowsCount&&t.scrollToRow(t.getDisplayRows()[t.displayRowsCount-1]),this.table.element.focus()},navPrev:function(e){var t=!1;this.table.modExists("edit")&&(t=this.table.modules.edit.currentCell)&&(e.preventDefault(),t.nav().prev())},navNext:function(e){var t=!1;this.table.modExists("edit")&&(t=this.table.modules.edit.currentCell)&&(e.preventDefault(),t.nav().next())},navLeft:function(e){var t=!1;this.table.modExists("edit")&&(t=this.table.modules.edit.currentCell)&&(e.preventDefault(),t.nav().left())},navRight:function(e){var t=!1;this.table.modExists("edit")&&(t=this.table.modules.edit.currentCell)&&(e.preventDefault(),t.nav().right())},navUp:function(e){var t=!1;this.table.modExists("edit")&&(t=this.table.modules.edit.currentCell)&&(e.preventDefault(),t.nav().up())},navDown:function(e){var t=!1;this.table.modExists("edit")&&(t=this.table.modules.edit.currentCell)&&(e.preventDefault(),t.nav().down())},undo:function(e){this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(this.table.modules.edit.currentCell||(e.preventDefault(),this.table.modules.history.undo()))},redo:function(e){this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(this.table.modules.edit.currentCell||(e.preventDefault(),this.table.modules.history.redo()))},copyToClipboard:function(e){this.table.modules.edit.currentCell||this.table.modExists("clipboard",!0)&&this.table.modules.clipboard.copy(this.table.options.selectable&&"highlight"!=this.table.options.selectable?"selected":"active",null,null,null,!0)}},d.prototype.registerModule("keybindings",_);var A=function(e){this.table=e,this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=250,this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.startX=0,this.autoScrollMargin=40,this.autoScrollStep=5,this.autoScrollTimeout=!1,this.touchMove=!1,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this)};A.prototype.createPlaceholderElement=function(){var e=document.createElement("div");return e.classList.add("tabulator-col"),e.classList.add("tabulator-col-placeholder"),e},A.prototype.initializeColumn=function(e){var t,o=this,n={};e.modules.frozen||(t=e.getElement(),n.mousemove=function(n){e.parent===o.moving.parent&&((o.touchMove?n.touches[0].pageX:n.pageX)-d.prototype.helpers.elOffset(t).left+o.table.columnManager.element.scrollLeft>e.getWidth()/2?o.toCol===e&&o.toColAfter||(t.parentNode.insertBefore(o.placeholderElement,t.nextSibling),o.moveColumn(e,!0)):(o.toCol!==e||o.toColAfter)&&(t.parentNode.insertBefore(o.placeholderElement,t),o.moveColumn(e,!1)))}.bind(o),t.addEventListener("mousedown",function(t){o.touchMove=!1,1===t.which&&(o.checkTimeout=setTimeout(function(){o.startMove(t,e)},o.checkPeriod))}),t.addEventListener("mouseup",function(e){1===e.which&&o.checkTimeout&&clearTimeout(o.checkTimeout)}),o.bindTouchEvents(e)),e.modules.moveColumn=n},A.prototype.bindTouchEvents=function(e){var t,o,n,i,a,r,s=this,l=e.getElement(),c=!1;l.addEventListener("touchstart",function(l){s.checkTimeout=setTimeout(function(){s.touchMove=!0,t=e.nextColumn(),n=t?t.getWidth()/2:0,o=e.prevColumn(),i=o?o.getWidth()/2:0,a=0,r=0,c=!1,s.startMove(l,e)},s.checkPeriod)}),l.addEventListener("touchmove",function(l){var u,d;s.moving&&(s.moveHover(l),c||(c=l.touches[0].pageX),(u=l.touches[0].pageX-c)>0?t&&u-a>n&&(d=t)!==e&&(c=l.touches[0].pageX,d.getElement().parentNode.insertBefore(s.placeholderElement,d.getElement().nextSibling),s.moveColumn(d,!0)):o&&-u-r>i&&(d=o)!==e&&(c=l.touches[0].pageX,d.getElement().parentNode.insertBefore(s.placeholderElement,d.getElement()),s.moveColumn(d,!1)),d&&(t=d.nextColumn(),a=n,n=t?t.getWidth()/2:0,o=d.prevColumn(),r=i,i=o?o.getWidth()/2:0))}),l.addEventListener("touchend",function(e){s.checkTimeout&&clearTimeout(s.checkTimeout),s.moving&&s.endMove(e)})},A.prototype.startMove=function(e,t){var o=t.getElement();this.moving=t,this.startX=(this.touchMove?e.touches[0].pageX:e.pageX)-d.prototype.helpers.elOffset(o).left,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=t.getWidth()+"px",this.placeholderElement.style.height=t.getHeight()+"px",o.parentNode.insertBefore(this.placeholderElement,o),o.parentNode.removeChild(o),this.hoverElement=o.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.table.columnManager.getElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.bottom="0",this.touchMove||(this._bindMouseMove(),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove)),this.moveHover(e)},A.prototype._bindMouseMove=function(){this.table.columnManager.columnsByIndex.forEach(function(e){e.modules.moveColumn.mousemove&&e.getElement().addEventListener("mousemove",e.modules.moveColumn.mousemove)})},A.prototype._unbindMouseMove=function(){this.table.columnManager.columnsByIndex.forEach(function(e){e.modules.moveColumn.mousemove&&e.getElement().removeEventListener("mousemove",e.modules.moveColumn.mousemove)})},A.prototype.moveColumn=function(e,t){var o=this.moving.getCells();this.toCol=e,this.toColAfter=t,t?e.getCells().forEach(function(e,t){var n=e.getElement();n.parentNode.insertBefore(o[t].getElement(),n.nextSibling)}):e.getCells().forEach(function(e,t){var n=e.getElement();n.parentNode.insertBefore(o[t].getElement(),n)})},A.prototype.endMove=function(e){(1===e.which||this.touchMove)&&(this._unbindMouseMove(),this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toCol&&this.table.columnManager.moveColumn(this.moving,this.toCol,this.toColAfter),this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.touchMove||(document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove)))},A.prototype.moveHover=function(e){var t,o=this,n=o.table.columnManager.getElement(),i=n.scrollLeft,a=(o.touchMove?e.touches[0].pageX:e.pageX)-d.prototype.helpers.elOffset(n).left+i;o.hoverElement.style.left=a-o.startX+"px",a-i<o.autoScrollMargin&&(o.autoScrollTimeout||(o.autoScrollTimeout=setTimeout(function(){t=Math.max(0,i-5),o.table.rowManager.getElement().scrollLeft=t,o.autoScrollTimeout=!1},1))),i+n.clientWidth-a<o.autoScrollMargin&&(o.autoScrollTimeout||(o.autoScrollTimeout=setTimeout(function(){t=Math.min(n.clientWidth,i+5),o.table.rowManager.getElement().scrollLeft=t,o.autoScrollTimeout=!1},1)))},d.prototype.registerModule("moveColumn",A);var z=function(e){this.table=e,this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=150,this.moving=!1,this.toRow=!1,this.toRowAfter=!1,this.hasHandle=!1,this.startY=0,this.startX=0,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.tableRowDropEvent=!1,this.touchMove=!1,this.connection=!1,this.connections=[],this.connectedTable=!1,this.connectedRow=!1};z.prototype.createPlaceholderElement=function(){var e=document.createElement("div");return e.classList.add("tabulator-row"),e.classList.add("tabulator-row-placeholder"),e},z.prototype.initialize=function(e){this.connection=this.table.options.movableRowsConnectedTables},z.prototype.setHandle=function(e){this.hasHandle=e},z.prototype.initializeGroupHeader=function(e){var t=this,o={};o.mouseup=function(e){t.tableRowDrop(e,row)}.bind(t),o.mousemove=function(o){var n;o.pageY-d.prototype.helpers.elOffset(e.element).top+t.table.rowManager.element.scrollTop>e.getHeight()/2?t.toRow===e&&t.toRowAfter||((n=e.getElement()).parentNode.insertBefore(t.placeholderElement,n.nextSibling),t.moveRow(e,!0)):(t.toRow!==e||t.toRowAfter)&&(n=e.getElement()).previousSibling&&(n.parentNode.insertBefore(t.placeholderElement,n),t.moveRow(e,!1))}.bind(t),e.modules.moveRow=o},z.prototype.initializeRow=function(e){var t,o=this,n={};n.mouseup=function(t){o.tableRowDrop(t,e)}.bind(o),n.mousemove=function(t){var n;t.pageY-d.prototype.helpers.elOffset(e.element).top+o.table.rowManager.element.scrollTop>e.getHeight()/2?o.toRow===e&&o.toRowAfter||((n=e.getElement()).parentNode.insertBefore(o.placeholderElement,n.nextSibling),o.moveRow(e,!0)):(o.toRow!==e||o.toRowAfter)&&((n=e.getElement()).parentNode.insertBefore(o.placeholderElement,n),o.moveRow(e,!1))}.bind(o),this.hasHandle||((t=e.getElement()).addEventListener("mousedown",function(t){1===t.which&&(o.checkTimeout=setTimeout(function(){o.startMove(t,e)},o.checkPeriod))}),t.addEventListener("mouseup",function(e){1===e.which&&o.checkTimeout&&clearTimeout(o.checkTimeout)}),this.bindTouchEvents(e,e.getElement())),e.modules.moveRow=n},z.prototype.initializeCell=function(e){var t=this,o=e.getElement();o.addEventListener("mousedown",function(o){1===o.which&&(t.checkTimeout=setTimeout(function(){t.startMove(o,e.row)},t.checkPeriod))}),o.addEventListener("mouseup",function(e){1===e.which&&t.checkTimeout&&clearTimeout(t.checkTimeout)}),this.bindTouchEvents(e.row,e.getElement())},z.prototype.bindTouchEvents=function(e,t){var o,n,i,a,r,s,l=this,c=!1;t.addEventListener("touchstart",function(t){l.checkTimeout=setTimeout(function(){l.touchMove=!0,o=e.nextRow(),i=o?o.getHeight()/2:0,n=e.prevRow(),a=n?n.getHeight()/2:0,r=0,s=0,c=!1,l.startMove(t,e)},l.checkPeriod)}),this.moving,this.toRow,this.toRowAfter,t.addEventListener("touchmove",function(t){var u,d;l.moving&&(t.preventDefault(),l.moveHover(t),c||(c=t.touches[0].pageY),(u=t.touches[0].pageY-c)>0?o&&u-r>i&&(d=o)!==e&&(c=t.touches[0].pageY,d.getElement().parentNode.insertBefore(l.placeholderElement,d.getElement().nextSibling),l.moveRow(d,!0)):n&&-u-s>a&&(d=n)!==e&&(c=t.touches[0].pageY,d.getElement().parentNode.insertBefore(l.placeholderElement,d.getElement()),l.moveRow(d,!1)),d&&(o=d.nextRow(),r=i,i=o?o.getHeight()/2:0,n=d.prevRow(),s=a,a=n?n.getHeight()/2:0))}),t.addEventListener("touchend",function(e){l.checkTimeout&&clearTimeout(l.checkTimeout),l.moving&&(l.endMove(e),l.touchMove=!1)})},z.prototype._bindMouseMove=function(){this.table.rowManager.getDisplayRows().forEach(function(e){"row"!==e.type&&"group"!==e.type||!e.modules.moveRow.mousemove||e.getElement().addEventListener("mousemove",e.modules.moveRow.mousemove)})},z.prototype._unbindMouseMove=function(){this.table.rowManager.getDisplayRows().forEach(function(e){"row"!==e.type&&"group"!==e.type||!e.modules.moveRow.mousemove||e.getElement().removeEventListener("mousemove",e.modules.moveRow.mousemove)})},z.prototype.startMove=function(e,t){var o=t.getElement();this.setStartPosition(e,t),this.moving=t,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=t.getWidth()+"px",this.placeholderElement.style.height=t.getHeight()+"px",this.connection?(this.table.element.classList.add("tabulator-movingrow-sending"),this.connectToTables(t)):(o.parentNode.insertBefore(this.placeholderElement,o),o.parentNode.removeChild(o)),this.hoverElement=o.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.connection?(document.body.appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this.hoverElement.style.width=this.table.element.clientWidth+"px",this.hoverElement.style.whiteSpace="nowrap",this.hoverElement.style.overflow="hidden",this.hoverElement.style.pointerEvents="none"):(this.table.rowManager.getTableElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this._bindMouseMove()),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove),this.moveHover(e)},z.prototype.setStartPosition=function(e,t){var o,n,i=this.touchMove?e.touches[0].pageX:e.pageX,a=this.touchMove?e.touches[0].pageY:e.pageY;o=t.getElement(),this.connection?(n=o.getBoundingClientRect(),this.startX=n.left-i+window.pageXOffset,this.startY=n.top-a+window.pageYOffset):this.startY=a-o.getBoundingClientRect().top},z.prototype.endMove=function(e){e&&1!==e.which&&!this.touchMove||(this._unbindMouseMove(),this.connection||(this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement)),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toRow&&this.table.rowManager.moveRow(this.moving,this.toRow,this.toRowAfter),this.moving=!1,this.toRow=!1,this.toRowAfter=!1,document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove),this.connection&&(this.table.element.classList.remove("tabulator-movingrow-sending"),this.disconnectFromTables()))},z.prototype.moveRow=function(e,t){this.toRow=e,this.toRowAfter=t},z.prototype.moveHover=function(e){this.connection?this.moveHoverConnections.call(this,e):this.moveHoverTable.call(this,e)},z.prototype.moveHoverTable=function(e){var t=this.table.rowManager.getElement(),o=t.scrollTop,n=(this.touchMove?e.touches[0].pageY:e.pageY)-t.getBoundingClientRect().top+o;this.hoverElement.style.top=n-this.startY+"px"},z.prototype.moveHoverConnections=function(e){this.hoverElement.style.left=this.startX+(this.touchMove?e.touches[0].pageX:e.pageX)+"px",this.hoverElement.style.top=this.startY+(this.touchMove?e.touches[0].pageY:e.pageY)+"px"},z.prototype.connectToTables=function(e){var t=this.table.modules.comms.getConnections(this.connection);this.table.options.movableRowsSendingStart.call(this.table,t),this.table.modules.comms.send(this.connection,"moveRow","connect",{row:e})},z.prototype.disconnectFromTables=function(){var e=this.table.modules.comms.getConnections(this.connection);this.table.options.movableRowsSendingStop.call(this.table,e),this.table.modules.comms.send(this.connection,"moveRow","disconnect")},z.prototype.connect=function(e,t){return this.connectedTable?(console.warn("Move Row Error - Table cannot accept connection, already connected to table:",this.connectedTable),!1):(this.connectedTable=e,this.connectedRow=t,this.table.element.classList.add("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach(function(e){"row"===e.type&&e.modules.moveRow&&e.modules.moveRow.mouseup&&e.getElement().addEventListener("mouseup",e.modules.moveRow.mouseup)}),this.tableRowDropEvent=this.tableRowDrop.bind(this),this.table.element.addEventListener("mouseup",this.tableRowDropEvent),this.table.options.movableRowsReceivingStart.call(this.table,t,e),!0)},z.prototype.disconnect=function(e){e===this.connectedTable?(this.connectedTable=!1,this.connectedRow=!1,this.table.element.classList.remove("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach(function(e){"row"===e.type&&e.modules.moveRow&&e.modules.moveRow.mouseup&&e.getElement().removeEventListener("mouseup",e.modules.moveRow.mouseup)}),this.table.element.removeEventListener("mouseup",this.tableRowDropEvent),this.table.options.movableRowsReceivingStop.call(this.table,e)):console.warn("Move Row Error - trying to disconnect from non connected table")},z.prototype.dropComplete=function(e,t,o){var n=!1;if(o){switch(a(this.table.options.movableRowsSender)){case"string":n=this.senders[this.table.options.movableRowsSender];break;case"function":n=this.table.options.movableRowsSender}n?n.call(this,this.moving.getComponent(),t?t.getComponent():void 0,e):this.table.options.movableRowsSender&&console.warn("Mover Row Error - no matching sender found:",this.table.options.movableRowsSender),this.table.options.movableRowsSent.call(this.table,this.moving.getComponent(),t?t.getComponent():void 0,e)}else this.table.options.movableRowsSentFailed.call(this.table,this.moving.getComponent(),t?t.getComponent():void 0,e);this.endMove()},z.prototype.tableRowDrop=function(e,t){var o=!1,n=!1;switch(e.stopImmediatePropagation(),a(this.table.options.movableRowsReceiver)){case"string":o=this.receivers[this.table.options.movableRowsReceiver];break;case"function":o=this.table.options.movableRowsReceiver}o?n=o.call(this,this.connectedRow.getComponent(),t?t.getComponent():void 0,this.connectedTable):console.warn("Mover Row Error - no matching receiver found:",this.table.options.movableRowsReceiver),n?this.table.options.movableRowsReceived.call(this.table,this.connectedRow.getComponent(),t?t.getComponent():void 0,this.connectedTable):this.table.options.movableRowsReceivedFailed.call(this.table,this.connectedRow.getComponent(),t?t.getComponent():void 0,this.connectedTable),this.table.modules.comms.send(this.connectedTable,"moveRow","dropcomplete",{row:t,success:n})},z.prototype.receivers={insert:function(e,t,o){return this.table.addRow(e.getData(),void 0,t),!0},add:function(e,t,o){return this.table.addRow(e.getData()),!0},update:function(e,t,o){return!!t&&(t.update(e.getData()),!0)},replace:function(e,t,o){return!!t&&(this.table.addRow(e.getData(),void 0,t),t.delete(),!0)}},z.prototype.senders={delete:function(e,t,o){e.delete()}},z.prototype.commsReceived=function(e,t,o){switch(t){case"connect":return this.connect(e,o.row);case"disconnect":return this.disconnect(e);case"dropcomplete":return this.dropComplete(e,o.row,o.success)}},d.prototype.registerModule("moveRow",z);var H=function(e){this.table=e,this.allowedTypes=["","data","edit","clipboard"],this.enabled=!0};H.prototype.initializeColumn=function(e){var t=this,o=!1,n={};this.allowedTypes.forEach(function(i){var a,r="mutator"+(i.charAt(0).toUpperCase()+i.slice(1));e.definition[r]&&(a=t.lookupMutator(e.definition[r]))&&(o=!0,n[r]={mutator:a,params:e.definition[r+"Params"]||{}})}),o&&(e.modules.mutate=n)},H.prototype.lookupMutator=function(e){var t=!1;switch(void 0===e?"undefined":a(e)){case"string":this.mutators[e]?t=this.mutators[e]:console.warn("Mutator Error - No such mutator found, ignoring: ",e);break;case"function":t=e}return t},H.prototype.transformRow=function(e,t,o){var n,i="mutator"+(t.charAt(0).toUpperCase()+t.slice(1));return this.enabled&&this.table.columnManager.traverse(function(a){var r,s,l;a.modules.mutate&&(r=a.modules.mutate[i]||a.modules.mutate.mutator||!1)&&(n=a.getFieldValue(e),(!o||o&&void 0!==n)&&(l=a.getComponent(),s="function"==typeof r.params?r.params(n,e,t,l):r.params,a.setFieldValue(e,r.mutator(n,e,t,s,l))))}),e},H.prototype.transformCell=function(e,t){var o=e.column.modules.mutate.mutatorEdit||e.column.modules.mutate.mutator||!1;return o?o.mutator(t,e.row.getData(),"edit",o.params,e.getComponent()):t},H.prototype.enable=function(){this.enabled=!0},H.prototype.disable=function(){this.enabled=!1},H.prototype.mutators={},d.prototype.registerModule("mutator",H);var N=function(e){this.table=e,this.mode="local",this.progressiveLoad=!1,this.size=0,this.page=1,this.count=5,this.max=1,this.displayIndex=0,this.pageSizes=[],this.createElements()};N.prototype.createElements=function(){var e;this.element=document.createElement("span"),this.element.classList.add("tabulator-paginator"),this.pagesElement=document.createElement("span"),this.pagesElement.classList.add("tabulator-pages"),(e=document.createElement("button")).classList.add("tabulator-page"),e.setAttribute("type","button"),e.setAttribute("role","button"),e.setAttribute("aria-label",""),e.setAttribute("title",""),this.firstBut=e.cloneNode(!0),this.firstBut.setAttribute("data-page","first"),this.prevBut=e.cloneNode(!0),this.prevBut.setAttribute("data-page","prev"),this.nextBut=e.cloneNode(!0),this.nextBut.setAttribute("data-page","next"),this.lastBut=e.cloneNode(!0),this.lastBut.setAttribute("data-page","last"),this.table.options.paginationSizeSelector&&(this.pageSizeSelect=document.createElement("select"),this.pageSizeSelect.classList.add("tabulator-page-size"))},N.prototype.generatePageSizeSelectList=function(){var e=this,t=[];if(this.pageSizeSelect){if(Array.isArray(this.table.options.paginationSizeSelector))t=this.table.options.paginationSizeSelector,this.pageSizes=t,-1==this.pageSizes.indexOf(this.size)&&t.unshift(this.size);else if(-1==this.pageSizes.indexOf(this.size)){t=[];for(var o=1;o<5;o++)t.push(this.size*o);this.pageSizes=t}else t=this.pageSizes;for(;this.pageSizeSelect.firstChild;)this.pageSizeSelect.removeChild(this.pageSizeSelect.firstChild);t.forEach(function(t){var o=document.createElement("option");o.value=t,o.innerHTML=t,e.pageSizeSelect.appendChild(o)}),this.pageSizeSelect.value=this.size}},N.prototype.initialize=function(e){var t,o=this;for(var n in o.table.options.paginationDataSent)o.paginationDataSentNames[n]=o.table.options.paginationDataSent[n];for(var i in o.table.options.paginationDataReceived)o.paginationDataReceivedNames[i]=o.table.options.paginationDataReceived[i];o.table.modules.localize.bind("pagination|first",function(e){o.firstBut.innerHTML=e}),o.table.modules.localize.bind("pagination|first_title",function(e){o.firstBut.setAttribute("aria-label",e),o.firstBut.setAttribute("title",e)}),o.table.modules.localize.bind("pagination|prev",function(e){o.prevBut.innerHTML=e}),o.table.modules.localize.bind("pagination|prev_title",function(e){o.prevBut.setAttribute("aria-label",e),o.prevBut.setAttribute("title",e)}),o.table.modules.localize.bind("pagination|next",function(e){o.nextBut.innerHTML=e}),o.table.modules.localize.bind("pagination|next_title",function(e){o.nextBut.setAttribute("aria-label",e),o.nextBut.setAttribute("title",e)}),o.table.modules.localize.bind("pagination|last",function(e){o.lastBut.innerHTML=e}),o.table.modules.localize.bind("pagination|last_title",function(e){o.lastBut.setAttribute("aria-label",e),o.lastBut.setAttribute("title",e)}),o.firstBut.addEventListener("click",function(){o.setPage(1)}),o.prevBut.addEventListener("click",function(){o.previousPage()}),o.nextBut.addEventListener("click",function(){o.nextPage().then(function(){}).catch(function(){})}),o.lastBut.addEventListener("click",function(){o.setPage(o.max)}),o.table.options.paginationElement&&(o.element=o.table.options.paginationElement),this.pageSizeSelect&&(t=document.createElement("label"),o.table.modules.localize.bind("pagination|page_size",function(e){o.pageSizeSelect.setAttribute("aria-label",e),o.pageSizeSelect.setAttribute("title",e),t.innerHTML=e}),o.element.appendChild(t),o.element.appendChild(o.pageSizeSelect),o.pageSizeSelect.addEventListener("change",function(e){o.setPageSize(o.pageSizeSelect.value),o.setPage(1).then(function(){}).catch(function(){})})),o.element.appendChild(o.firstBut),o.element.appendChild(o.prevBut),o.element.appendChild(o.pagesElement),o.element.appendChild(o.nextBut),o.element.appendChild(o.lastBut),o.table.options.paginationElement||e||o.table.footerManager.append(o.element,o),o.mode=o.table.options.pagination,o.size=o.table.options.paginationSize||Math.floor(o.table.rowManager.getElement().clientHeight/24),o.count=o.table.options.paginationButtonCount,o.generatePageSizeSelectList()},N.prototype.initializeProgressive=function(e){this.initialize(!0),this.mode="progressive_"+e,this.progressiveLoad=!0},N.prototype.setDisplayIndex=function(e){this.displayIndex=e},N.prototype.getDisplayIndex=function(){return this.displayIndex},N.prototype.setMaxRows=function(e){this.max=e?Math.ceil(e/this.size):1,this.page>this.max&&(this.page=this.max)},N.prototype.reset=function(e){return("local"==this.mode||e)&&(this.page=1),!0},N.prototype.setMaxPage=function(e){e=parseInt(e),this.max=e||1,this.page>this.max&&(this.page=this.max,this.trigger())},N.prototype.setPage=function(e){var t=this;return new Promise(function(o,n){(e=parseInt(e))>0&&e<=t.max?(t.page=e,t.trigger().then(function(){o()}).catch(function(){n()})):(console.warn("Pagination Error - Requested page is out of range of 1 - "+t.max+":",e),n())})},N.prototype.setPageToRow=function(e){var t=this;return new Promise(function(o,n){var i=t.table.rowManager.getDisplayRows(t.displayIndex-1).indexOf(e);if(i>-1){var a=Math.ceil((i+1)/t.size);t.setPage(a).then(function(){o()}).catch(function(){n()})}else console.warn("Pagination Error - Requested row is not visible"),n()})},N.prototype.setPageSize=function(e){(e=parseInt(e))>0&&(this.size=e),this.pageSizeSelect&&this.generatePageSizeSelectList()},N.prototype._setPageButtons=function(){for(var e=Math.floor((this.count-1)/2),t=Math.ceil((this.count-1)/2),o=this.max-this.page+e+1<this.count?this.max-this.count+1:Math.max(this.page-e,1),n=this.page<=t?Math.min(this.count,this.max):Math.min(this.page+t,this.max);this.pagesElement.firstChild;)this.pagesElement.removeChild(this.pagesElement.firstChild);1==this.page?(this.firstBut.disabled=!0,this.prevBut.disabled=!0):(this.firstBut.disabled=!1,this.prevBut.disabled=!1),this.page==this.max?(this.lastBut.disabled=!0,this.nextBut.disabled=!0):(this.lastBut.disabled=!1,this.nextBut.disabled=!1);for(var i=o;i<=n;i++)i>0&&i<=this.max&&this.pagesElement.appendChild(this._generatePageButton(i));this.footerRedraw()},N.prototype._generatePageButton=function(e){var t=this,o=document.createElement("button");return o.classList.add("tabulator-page"),e==t.page&&o.classList.add("active"),o.setAttribute("type","button"),o.setAttribute("role","button"),o.setAttribute("aria-label","Show Page "+e),o.setAttribute("title","Show Page "+e),o.setAttribute("data-page",e),o.textContent=e,o.addEventListener("click",function(o){t.setPage(e)}),o},N.prototype.previousPage=function(){var e=this;return new Promise(function(t,o){e.page>1?(e.page--,e.trigger().then(function(){t()}).catch(function(){o()})):(console.warn("Pagination Error - Previous page would be less than page 1:",0),o())})},N.prototype.nextPage=function(){var e=this;return new Promise(function(t,o){e.page<e.max?(e.page++,e.trigger().then(function(){t()}).catch(function(){o()})):(e.progressiveLoad||console.warn("Pagination Error - Next page would be greater than maximum page of "+e.max+":",e.max+1),o())})},N.prototype.getPage=function(){return this.page},N.prototype.getPageMax=function(){return this.max},N.prototype.getPageSize=function(e){return this.size},N.prototype.getMode=function(){return this.mode},N.prototype.getRows=function(e){var t,o,n;if("local"==this.mode){t=[],n=(o=this.size*(this.page-1))+parseInt(this.size),this._setPageButtons();for(var i=o;i<n;i++)e[i]&&t.push(e[i]);return t}return this._setPageButtons(),e.slice(0)},N.prototype.trigger=function(){var e,t=this;return new Promise(function(o,n){switch(t.mode){case"local":e=t.table.rowManager.scrollLeft,t.table.rowManager.refreshActiveData("page"),t.table.rowManager.scrollHorizontal(e),t.table.options.pageLoaded.call(t.table,t.getPage()),o();break;case"remote":case"progressive_load":case"progressive_scroll":t.table.modules.ajax.blockActiveRequest(),t._getRemotePage().then(function(){o()}).catch(function(){n()});break;default:console.warn("Pagination Error - no such pagination mode:",t.mode),n()}})},N.prototype._getRemotePage=function(){var e,t,o=this,n=this;return new Promise(function(i,a){if(n.table.modExists("ajax",!0)||a(),e=d.prototype.helpers.deepClone(n.table.modules.ajax.getParams()||{}),(t=n.table.modules.ajax.getParams())[o.paginationDataSentNames.page]=n.page,o.size&&(t[o.paginationDataSentNames.size]=o.size),o.table.options.ajaxSorting&&o.table.modExists("sort")){var r=n.table.modules.sort.getSort();r.forEach(function(e){delete e.column}),t[o.paginationDataSentNames.sorters]=r}if(o.table.options.ajaxFiltering&&o.table.modExists("filter")){var s=n.table.modules.filter.getFilters(!0,!0);t[o.paginationDataSentNames.filters]=s}n.table.modules.ajax.setParams(t),n.table.modules.ajax.sendRequest(o.progressiveLoad).then(function(e){n._parseRemoteData(e),i()}).catch(function(e){a()}),n.table.modules.ajax.setParams(e)})},N.prototype._parseRemoteData=function(e){var t,o,n=this;if(void 0===e[this.paginationDataReceivedNames.last_page]&&console.warn("Remote Pagination Error - Server response missing '"+this.paginationDataReceivedNames.last_page+"' property"),e[this.paginationDataReceivedNames.data])if(this.max=parseInt(e[this.paginationDataReceivedNames.last_page])||1,this.progressiveLoad)switch(this.mode){case"progressive_load":this.table.rowManager.addRows(e[this.paginationDataReceivedNames.data]),this.page<this.max&&setTimeout(function(){n.nextPage().then(function(){}).catch(function(){})},n.table.options.ajaxProgressiveLoadDelay);break;case"progressive_scroll":e=this.table.rowManager.getData().concat(e[this.paginationDataReceivedNames.data]),this.table.rowManager.setData(e,!0),o=this.table.options.ajaxProgressiveLoadScrollMargin||2*this.table.rowManager.element.clientHeight,n.table.rowManager.element.scrollHeight<=n.table.rowManager.element.clientHeight+o&&n.nextPage().then(function(){}).catch(function(){})}else t=this.table.rowManager.scrollLeft,this.table.rowManager.setData(e[this.paginationDataReceivedNames.data]),this.table.rowManager.scrollHorizontal(t),this.table.columnManager.scrollHorizontal(t),this.table.options.pageLoaded.call(this.table,this.getPage());else console.warn("Remote Pagination Error - Server response missing '"+this.paginationDataReceivedNames.data+"' property")},N.prototype.footerRedraw=function(){var e=this.table.footerManager.element;Math.ceil(e.clientWidth)-e.scrollWidth<0?this.pagesElement.style.display="none":(this.pagesElement.style.display="",Math.ceil(e.clientWidth)-e.scrollWidth<0&&(this.pagesElement.style.display="none"))},N.prototype.paginationDataSentNames={page:"page",size:"size",sorters:"sorters",filters:"filters"},N.prototype.paginationDataReceivedNames={current_page:"current_page",last_page:"last_page",data:"data"},d.prototype.registerModule("page",N);var F=function(e){this.table=e,this.mode="",this.id="",this.persistProps=["field","width","visible"]};F.prototype.initialize=function(e,t){this.mode=!0!==e?e:void 0!==window.localStorage?"local":"cookie",this.id="tabulator-"+(t||this.table.element.getAttribute("id")||"")},F.prototype.load=function(e,t){var o=this.retreiveData(e);return t&&(o=o?this.mergeDefinition(t,o):t),o},F.prototype.retreiveData=function(e){var t="",o=this.id+("columns"===e?"":"-"+e);switch(this.mode){case"local":t=localStorage.getItem(o);break;case"cookie":var n=document.cookie,i=n.indexOf(o+"="),a=void 0;i>-1&&((a=(n=n.substr(i)).indexOf(";"))>-1&&(n=n.substr(0,a)),t=n.replace(o+"=",""));break;default:console.warn("Persistance Load Error - invalid mode selected",this.mode)}return!!t&&JSON.parse(t)},F.prototype.mergeDefinition=function(e,t){var o=this,n=[];return(t=t||[]).forEach(function(t,i){var a=o._findColumn(e,t);a&&(a.width=t.width,a.visible=t.visible,a.columns&&(a.columns=o.mergeDefinition(a.columns,t.columns)),n.push(a))}),e.forEach(function(e,i){o._findColumn(t,e)||(n.length>i?n.splice(i,0,e):n.push(e))}),n},F.prototype._findColumn=function(e,t){var o=t.columns?"group":t.field?"field":"object";return e.find(function(e){switch(o){case"group":return e.title===t.title&&e.columns.length===t.columns.length;case"field":return e.field===t.field;case"object":return e===t}})},F.prototype.save=function(e){var t={};switch(e){case"columns":t=this.parseColumns(this.table.columnManager.getColumns());break;case"filter":t=this.table.modules.filter.getFilters();break;case"sort":t=this.validateSorters(this.table.modules.sort.getSort())}var o=this.id+("columns"===e?"":"-"+e);this.saveData(o,t)},F.prototype.validateSorters=function(e){return e.forEach(function(e){e.column=e.field,delete e.field}),e},F.prototype.saveData=function(e,t){switch(t=JSON.stringify(t),this.mode){case"local":localStorage.setItem(e,t);break;case"cookie":var o=new Date;o.setDate(o.getDate()+1e4),document.cookie=e+"="+t+"; expires="+o.toUTCString();break;default:console.warn("Persistance Save Error - invalid mode selected",this.mode)}},F.prototype.parseColumns=function(e){var t=this,o=[];return e.forEach(function(e){var n={};e.isGroup?(n.title=e.getDefinition().title,n.columns=t.parseColumns(e.getColumns())):(n.title=e.getDefinition().title,n.field=e.getField(),n.width=e.getWidth(),n.visible=e.visible),o.push(n)}),o},d.prototype.registerModule("persistence",F);var P=function(e){this.table=e,this.data=!1,this.blocked=!1,this.origFuncs={},this.currentVersion=0};P.prototype.watchData=function(e){var t,o=this;this.currentVersion++,t=this.currentVersion,o.unwatchData(),o.data=e,o.origFuncs.push=e.push,Object.defineProperty(o.data,"push",{enumerable:!1,configurable:!0,value:function(){var n=Array.from(arguments);return o.blocked||t!==o.currentVersion||n.forEach(function(e){o.table.rowManager.addRowActual(e,!1)}),o.origFuncs.push.apply(e,arguments)}}),o.origFuncs.unshift=e.unshift,Object.defineProperty(o.data,"unshift",{enumerable:!1,configurable:!0,value:function(){var n=Array.from(arguments);return o.blocked||t!==o.currentVersion||n.forEach(function(e){o.table.rowManager.addRowActual(e,!0)}),o.origFuncs.unshift.apply(e,arguments)}}),o.origFuncs.shift=e.shift,Object.defineProperty(o.data,"shift",{enumerable:!1,configurable:!0,value:function(){var n;return o.blocked||t!==o.currentVersion||o.data.length&&(n=o.table.rowManager.getRowFromDataObject(o.data[0]))&&n.deleteActual(),o.origFuncs.shift.call(e)}}),o.origFuncs.pop=e.pop,Object.defineProperty(o.data,"pop",{enumerable:!1,configurable:!0,value:function(){var n;return o.blocked||t!==o.currentVersion||o.data.length&&(n=o.table.rowManager.getRowFromDataObject(o.data[o.data.length-1]))&&n.deleteActual(),o.origFuncs.pop.call(e)}}),o.origFuncs.splice=e.splice,Object.defineProperty(o.data,"splice",{enumerable:!1,configurable:!0,value:function(){var n,i=Array.from(arguments),a=i[0]<0?e.length+i[0]:i[0],r=i[1],s=!!i[2]&&i.slice(2);if(!o.blocked&&t===o.currentVersion){if(s&&((n=!!e[a]&&o.table.rowManager.getRowFromDataObject(e[a]))?s.forEach(function(e){o.table.rowManager.addRowActual(e,!0,n,!0)}):(s=s.slice().reverse()).forEach(function(e){o.table.rowManager.addRowActual(e,!0,!1,!0)})),0!==r){var l=e.slice(a,void 0===i[1]?i[1]:a+r);l.forEach(function(e,t){var n=o.table.rowManager.getRowFromDataObject(e);n&&n.deleteActual(t!==l.length-1)})}(s||0!==r)&&o.table.rowManager.reRenderInPosition()}return o.origFuncs.splice.apply(e,arguments)}})},P.prototype.unwatchData=function(){if(!1!==this.data)for(var e in this.origFuncs)Object.defineProperty(this.data,e,{enumerable:!0,configurable:!0,writable:!0,value:this.origFuncs.key})},P.prototype.watchRow=function(e){var t=e.getData();for(var o in this.blocked=!0,t)this.watchKey(e,t,o);this.blocked=!1},P.prototype.watchKey=function(e,t,o){var n=this,i=Object.getOwnPropertyDescriptor(t,o),a=t[o],r=this.currentVersion;Object.defineProperty(t,o,{set:function(t){if(a=t,!n.blocked&&r===n.currentVersion){var s={};s[o]=t,e.updateData(s)}i.set&&i.set(t)},get:function(){return i.get&&i.get(),a}})},P.prototype.unwatchRow=function(e){var t=e.getData();for(var o in t)Object.defineProperty(t,o,{value:t[o]})},P.prototype.block=function(){this.blocked=!0},P.prototype.unblock=function(){this.blocked=!1},d.prototype.registerModule("reactiveData",P);var j=function(e){this.table=e,this.startColumn=!1,this.startX=!1,this.startWidth=!1,this.handle=null,this.prevHandle=null};j.prototype.initializeColumn=function(e,t,o){var n=this,i=!1,a=this.table.options.resizableColumns;if("header"===e&&(i="textarea"==t.definition.formatter||t.definition.variableHeight,t.modules.resize={variableHeight:i}),!0===a||a==e){var r=document.createElement("div");r.className="tabulator-col-resize-handle";var s=document.createElement("div");s.className="tabulator-col-resize-handle prev",r.addEventListener("click",function(e){e.stopPropagation()});var l=function(e){var o=t.getLastColumn();o&&n._checkResizability(o)&&(n.startColumn=t,n._mouseDown(e,o,r))};r.addEventListener("mousedown",l),r.addEventListener("touchstart",l),r.addEventListener("dblclick",function(e){var o=t.getLastColumn();o&&n._checkResizability(o)&&o.reinitializeWidth(!0)}),s.addEventListener("click",function(e){e.stopPropagation()});var c=function(e){var o,i,a;(o=t.getFirstColumn())&&(a=(i=n.table.columnManager.findColumnIndex(o))>0&&n.table.columnManager.getColumnByIndex(i-1))&&n._checkResizability(a)&&(n.startColumn=t,n._mouseDown(e,a,s))};s.addEventListener("mousedown",c),s.addEventListener("touchstart",c),s.addEventListener("dblclick",function(e){var o,i,a;(o=t.getFirstColumn())&&(a=(i=n.table.columnManager.findColumnIndex(o))>0&&n.table.columnManager.getColumnByIndex(i-1))&&n._checkResizability(a)&&a.reinitializeWidth(!0)}),o.appendChild(r),o.appendChild(s)}},j.prototype._checkResizability=function(e){return void 0!==e.definition.resizable?e.definition.resizable:this.table.options.resizableColumns},j.prototype._mouseDown=function(e,t,o){var n=this;function i(e){t.setWidth(n.startWidth+((void 0===e.screenX?e.touches[0].screenX:e.screenX)-n.startX)),!n.table.browserSlow&&t.modules.resize&&t.modules.resize.variableHeight&&t.checkCellHeights()}function a(e){n.startColumn.modules.edit&&(n.startColumn.modules.edit.blocked=!1),n.table.browserSlow&&t.modules.resize&&t.modules.resize.variableHeight&&t.checkCellHeights(),document.body.removeEventListener("mouseup",a),document.body.removeEventListener("mousemove",i),o.removeEventListener("touchmove",i),o.removeEventListener("touchend",a),n.table.element.classList.remove("tabulator-block-select"),n.table.options.persistentLayout&&n.table.modExists("persistence",!0)&&n.table.modules.persistence.save("columns"),n.table.options.columnResized.call(n.table,t.getComponent())}n.table.element.classList.add("tabulator-block-select"),e.stopPropagation(),n.startColumn.modules.edit&&(n.startColumn.modules.edit.blocked=!0),n.startX=void 0===e.screenX?e.touches[0].screenX:e.screenX,n.startWidth=t.getWidth(),document.body.addEventListener("mousemove",i),document.body.addEventListener("mouseup",a),o.addEventListener("touchmove",i),o.addEventListener("touchend",a)},d.prototype.registerModule("resizeColumns",j);var I=function(e){this.table=e,this.startColumn=!1,this.startY=!1,this.startHeight=!1,this.handle=null,this.prevHandle=null};I.prototype.initializeRow=function(e){var t=this,o=e.getElement(),n=document.createElement("div");n.className="tabulator-row-resize-handle";var i=document.createElement("div");i.className="tabulator-row-resize-handle prev",n.addEventListener("click",function(e){e.stopPropagation()});var a=function(o){t.startRow=e,t._mouseDown(o,e,n)};n.addEventListener("mousedown",a),n.addEventListener("touchstart",a),i.addEventListener("click",function(e){e.stopPropagation()});var r=function(o){var n=t.table.rowManager.prevDisplayRow(e);n&&(t.startRow=n,t._mouseDown(o,n,i))};i.addEventListener("mousedown",r),i.addEventListener("touchstart",r),o.appendChild(n),o.appendChild(i)},I.prototype._mouseDown=function(e,t,o){var n=this;function i(e){t.setHeight(n.startHeight+((void 0===e.screenY?e.touches[0].screenY:e.screenY)-n.startY))}function a(e){document.body.removeEventListener("mouseup",i),document.body.removeEventListener("mousemove",i),o.removeEventListener("touchmove",i),o.removeEventListener("touchend",a),n.table.element.classList.remove("tabulator-block-select"),n.table.options.rowResized.call(this.table,t.getComponent())}n.table.element.classList.add("tabulator-block-select"),e.stopPropagation(),n.startY=void 0===e.screenY?e.touches[0].screenY:e.screenY,n.startHeight=t.getHeight(),document.body.addEventListener("mousemove",i),document.body.addEventListener("mouseup",a),o.addEventListener("touchmove",i),o.addEventListener("touchend",a)},d.prototype.registerModule("resizeRows",I);var O=function(e){this.table=e,this.binding=!1,this.observer=!1};O.prototype.initialize=function(e){var t=this.table;"undefined"!=typeof ResizeObserver&&"virtual"===t.rowManager.getRenderMode()?(this.observer=new ResizeObserver(function(e){t.redraw()}),this.observer.observe(t.element)):(this.binding=function(){t.redraw()},window.addEventListener("resize",this.binding))},O.prototype.clearBindings=function(e){this.binding&&window.removeEventListener("resize",this.binding),this.observer&&this.observer.unobserve(this.table.element)},d.prototype.registerModule("resizeTable",O);var W=function(e){this.table=e,this.columns=[],this.hiddenColumns=[],this.mode="",this.index=0,this.collapseFormatter=[],this.collapseStartOpen=!0};W.prototype.initialize=function(){var e=this,t=[];this.mode=this.table.options.responsiveLayout,this.collapseFormatter=this.table.options.responsiveLayoutCollapseFormatter||this.formatCollapsedData,this.collapseStartOpen=this.table.options.responsiveLayoutCollapseStartOpen,this.hiddenColumns=[],this.table.columnManager.columnsByIndex.forEach(function(o,n){o.modules.responsive&&o.modules.responsive.order&&o.modules.responsive.visible&&(o.modules.responsive.index=n,t.push(o),o.visible||"collapse"!==e.mode||e.hiddenColumns.push(o))}),t=(t=t.reverse()).sort(function(e,t){return t.modules.responsive.order-e.modules.responsive.order||t.modules.responsive.index-e.modules.responsive.index}),this.columns=t,"collapse"===this.mode&&this.generateCollapsedContent()},W.prototype.initializeColumn=function(e){var t=e.getDefinition();e.modules.responsive={order:void 0===t.responsive?1:t.responsive,visible:!1!==t.visible}},W.prototype.layoutRow=function(e){var t=e.getElement(),o=document.createElement("div");o.classList.add("tabulator-responsive-collapse"),t.classList.contains("tabulator-calcs")||(e.modules.responsiveLayout={element:o},this.collapseStartOpen||(o.style.display="none"),t.appendChild(o),this.generateCollapsedRowContent(e))},W.prototype.updateColumnVisibility=function(e,t){e.modules.responsive&&(e.modules.responsive.visible=t,this.initialize())},W.prototype.hideColumn=function(e){e.hide(!1,!0),"collapse"===this.mode&&(this.hiddenColumns.unshift(e),this.generateCollapsedContent())},W.prototype.showColumn=function(e){var t;e.show(!1,!0),e.setWidth(e.getWidth()),"collapse"===this.mode&&((t=this.hiddenColumns.indexOf(e))>-1&&this.hiddenColumns.splice(t,1),this.generateCollapsedContent())},W.prototype.update=function(){for(var e=!0;e;){var t="fitColumns"==this.table.modules.layout.getMode()?this.table.columnManager.getFlexBaseWidth():this.table.columnManager.getWidth(),o=this.table.columnManager.element.clientWidth-t;if(o<0){var n=this.columns[this.index];n?(this.hideColumn(n),this.index++):e=!1}else{var i=this.columns[this.index-1];i&&o>0&&o>=i.getWidth()?(this.showColumn(i),this.index--):e=!1}this.table.rowManager.activeRowsCount||this.table.rowManager.renderEmptyScroll()}},W.prototype.generateCollapsedContent=function(){var e=this;this.table.rowManager.getDisplayRows().forEach(function(t){e.generateCollapsedRowContent(t)})},W.prototype.generateCollapsedRowContent=function(e){var t,o;if(e.modules.responsiveLayout){for(t=e.modules.responsiveLayout.element;t.firstChild;)t.removeChild(t.firstChild);(o=this.collapseFormatter(this.generateCollapsedRowData(e)))&&t.appendChild(o)}},W.prototype.generateCollapsedRowData=function(e){var t,o=this,n=e.getData(),i=[];return this.hiddenColumns.forEach(function(a){var r=a.getFieldValue(n);a.definition.title&&a.field&&(a.modules.format&&o.table.options.responsiveLayoutCollapseUseFormatters?(t={value:!1,data:{},getValue:function(){return r},getData:function(){return n},getElement:function(){return document.createElement("div")},getRow:function(){return e.getComponent()},getColumn:function(){return a.getComponent()}},i.push({title:a.definition.title,value:a.modules.format.formatter.call(o.table.modules.format,t,a.modules.format.params)})):i.push({title:a.definition.title,value:r}))}),i},W.prototype.formatCollapsedData=function(e){var t=document.createElement("table"),o="";return e.forEach(function(e){var t=document.createElement("div");e.value instanceof Node&&(t.appendChild(e.value),e.value=t.innerHTML),o+="<tr><td><strong>"+e.title+"</strong></td><td>"+e.value+"</td></tr>"}),t.innerHTML=o,Object.keys(e).length?t:""},d.prototype.registerModule("responsiveLayout",W);var B=function(e){this.table=e,this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[]};B.prototype.clearSelectionData=function(e){this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],e||this._rowSelectionChanged()},B.prototype.initializeRow=function(e){var t=this,o=e.getElement(),n=function e(){setTimeout(function(){t.selecting=!1},50),document.body.removeEventListener("mouseup",e)};e.modules.select={selected:!1},t.table.options.selectableCheck.call(this.table,e.getComponent())?(o.classList.add("tabulator-selectable"),o.classList.remove("tabulator-unselectable"),t.table.options.selectable&&"highlight"!=t.table.options.selectable&&(t.table.options.selectableRangeMode&&"click"===t.table.options.selectableRangeMode?o.addEventListener("click",function(o){if(o.shiftKey){t.lastClickedRow=t.lastClickedRow||e;var n=t.table.rowManager.getDisplayRowIndex(t.lastClickedRow),i=t.table.rowManager.getDisplayRowIndex(e),a=n<=i?n:i,r=n>=i?n:i,s=t.table.rowManager.getDisplayRows().slice(0).splice(a,r-a+1);o.ctrlKey?(s.forEach(function(e){e!==t.lastClickedRow&&t.toggleRow(e)}),t.lastClickedRow=e):(t.deselectRows(),t.selectRows(s))}else o.ctrlKey?(t.toggleRow(e),t.lastClickedRow=e):(t.deselectRows(),t.selectRows(e),t.lastClickedRow=e)}):(o.addEventListener("click",function(o){t.selecting||t.toggleRow(e)}),o.addEventListener("mousedown",function(o){if(o.shiftKey)return t.selecting=!0,t.selectPrev=[],document.body.addEventListener("mouseup",n),document.body.addEventListener("keyup",n),t.toggleRow(e),!1}),o.addEventListener("mouseenter",function(o){t.selecting&&(t.toggleRow(e),t.selectPrev[1]==e&&t.toggleRow(t.selectPrev[0]))}),o.addEventListener("mouseout",function(o){t.selecting&&t.selectPrev.unshift(e)})))):(o.classList.add("tabulator-unselectable"),o.classList.remove("tabulator-selectable"))},B.prototype.toggleRow=function(e){this.table.options.selectableCheck.call(this.table,e.getComponent())&&(e.modules.select&&e.modules.select.selected?this._deselectRow(e):this._selectRow(e))},B.prototype.selectRows=function(e){var t=this;switch(void 0===e?"undefined":a(e)){case"undefined":t.table.rowManager.rows.forEach(function(e){t._selectRow(e,!0,!0)}),t._rowSelectionChanged();break;case"boolean":!0===e&&(t.table.rowManager.activeRows.forEach(function(e){t._selectRow(e,!0,!0)}),t._rowSelectionChanged());break;default:Array.isArray(e)?(e.forEach(function(e){t._selectRow(e,!0,!0)}),t._rowSelectionChanged()):t._selectRow(e,!1,!0)}},B.prototype._selectRow=function(e,t,o){if(!isNaN(this.table.options.selectable)&&!0!==this.table.options.selectable&&!o&&this.selectedRows.length>=this.table.options.selectable){if(!this.table.options.selectableRollingSelection)return!1;this._deselectRow(this.selectedRows[0])}var n=this.table.rowManager.findRow(e);n?-1==this.selectedRows.indexOf(n)&&(n.modules.select||(n.modules.select={}),n.modules.select.selected=!0,n.getElement().classList.add("tabulator-selected"),this.selectedRows.push(n),t||(this.table.options.rowSelected.call(this.table,n.getComponent()),this._rowSelectionChanged())):t||console.warn("Selection Error - No such row found, ignoring selection:"+e)},B.prototype.isRowSelected=function(e){return-1!==this.selectedRows.indexOf(e)},B.prototype.deselectRows=function(e){var t,o=this;if(void 0===e){t=o.selectedRows.length;for(var n=0;n<t;n++)o._deselectRow(o.selectedRows[0],!0);o._rowSelectionChanged()}else Array.isArray(e)?(e.forEach(function(e){o._deselectRow(e,!0)}),o._rowSelectionChanged()):o._deselectRow(e)},B.prototype._deselectRow=function(e,t){var o,n=this.table.rowManager.findRow(e);n?(o=this.selectedRows.findIndex(function(e){return e==n}))>-1&&(n.modules.select||(n.modules.select={}),n.modules.select.selected=!1,n.getElement().classList.remove("tabulator-selected"),this.selectedRows.splice(o,1),t||(this.table.options.rowDeselected.call(this.table,n.getComponent()),this._rowSelectionChanged())):t||console.warn("Deselection Error - No such row found, ignoring selection:"+e)},B.prototype.getSelectedData=function(){var e=[];return this.selectedRows.forEach(function(t){e.push(t.getData())}),e},B.prototype.getSelectedRows=function(){var e=[];return this.selectedRows.forEach(function(t){e.push(t.getComponent())}),e},B.prototype._rowSelectionChanged=function(){this.table.options.rowSelectionChanged.call(this.table,this.getSelectedData(),this.getSelectedRows())},d.prototype.registerModule("selectRow",B);var V=function(e){this.table=e,this.sortList=[],this.changed=!1};V.prototype.initializeColumn=function(e,t){var o,n,i=this,r=!1;switch(a(e.definition.sorter)){case"string":i.sorters[e.definition.sorter]?r=i.sorters[e.definition.sorter]:console.warn("Sort Error - No such sorter found: ",e.definition.sorter);break;case"function":r=e.definition.sorter}e.modules.sort={sorter:r,dir:"none",params:e.definition.sorterParams||{},startingDir:e.definition.headerSortStartingDir||"asc",tristate:e.definition.headerSortTristate},!1!==e.definition.headerSort&&((o=e.getElement()).classList.add("tabulator-sortable"),(n=document.createElement("div")).classList.add("tabulator-arrow"),t.appendChild(n),o.addEventListener("click",function(t){var o="",n=[],a=!1;if(e.modules.sort){if(e.modules.sort.tristate)o="none"==e.modules.sort.dir?e.modules.sort.startingDir:e.modules.sort.dir==e.modules.sort.startingDir?"asc"==e.modules.sort.dir?"desc":"asc":"none";else switch(e.modules.sort.dir){case"asc":o="desc";break;case"desc":o="asc";break;default:o=e.modules.sort.startingDir}i.table.options.columnHeaderSortMulti&&(t.shiftKey||t.ctrlKey)?((a=(n=i.getSort()).findIndex(function(t){return t.field===e.getField()}))>-1?(n[a].dir=o,a!=n.length-1&&(a=n.splice(a,1)[0],"none"!=o&&n.push(a))):"none"!=o&&n.push({column:e,dir:o}),i.setSort(n)):"none"==o?i.clear():i.setSort(e,o),i.table.rowManager.sorterRefresh(!i.sortList.length)}}))},V.prototype.hasChanged=function(){var e=this.changed;return this.changed=!1,e},V.prototype.getSort=function(){var e=[];return this.sortList.forEach(function(t){t.column&&e.push({column:t.column.getComponent(),field:t.column.getField(),dir:t.dir})}),e},V.prototype.setSort=function(e,t){var o=this,n=[];Array.isArray(e)||(e=[{column:e,dir:t}]),e.forEach(function(e){var t;(t=o.table.columnManager.findColumn(e.column))?(e.column=t,n.push(e),o.changed=!0):console.warn("Sort Warning - Sort field does not exist and is being ignored: ",e.column)}),o.sortList=n,this.table.options.persistentSort&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.save("sort")},V.prototype.clear=function(){this.setSort([])},V.prototype.findSorter=function(e){var t,o=this.table.rowManager.activeRows[0],n="string";if(o&&(o=o.getData(),e.getField()))switch(void 0===(t=e.getFieldValue(o))?"undefined":a(t)){case"undefined":n="string";break;case"boolean":n="boolean";break;default:isNaN(t)||""===t?t.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)&&(n="alphanum"):n="number"}return this.sorters[n]},V.prototype.sort=function(e){var t,o=this;t=this.table.options.sortOrderReverse?o.sortList.slice().reverse():o.sortList,o.table.options.dataSorting&&o.table.options.dataSorting.call(o.table,o.getSort()),o.clearColumnHeaders(),o.table.options.ajaxSorting?t.forEach(function(e,t){o.setColumnHeader(e.column,e.dir)}):t.forEach(function(n,i){n.column&&n.column.modules.sort&&(n.column.modules.sort.sorter||(n.column.modules.sort.sorter=o.findSorter(n.column)),o._sortItem(e,n.column,n.dir,t,i)),o.setColumnHeader(n.column,n.dir)}),o.table.options.dataSorted&&o.table.options.dataSorted.call(o.table,o.getSort(),o.table.rowManager.getComponents(!0))},V.prototype.clearColumnHeaders=function(){this.table.columnManager.getRealColumns().forEach(function(e){e.modules.sort&&(e.modules.sort.dir="none",e.getElement().setAttribute("aria-sort","none"))})},V.prototype.setColumnHeader=function(e,t){e.modules.sort.dir=t,e.getElement().setAttribute("aria-sort",t)},V.prototype._sortItem=function(e,t,o,n,i){var a=this,r="function"==typeof t.modules.sort.params?t.modules.sort.params(t.getComponent(),o):t.modules.sort.params;e.sort(function(e,s){var l=a._sortRow(e,s,t,o,r);if(0===l&&i)for(var c=i-1;c>=0&&0===(l=a._sortRow(e,s,n[c].column,n[c].dir,r));c--);return l})},V.prototype._sortRow=function(e,t,o,n,i){var a,r,s="asc"==n?e:t,l="asc"==n?t:e;return e=void 0!==(e=o.getFieldValue(s.getData()))?e:"",t=void 0!==(t=o.getFieldValue(l.getData()))?t:"",a=s.getComponent(),r=l.getComponent(),o.modules.sort.sorter.call(this,e,t,a,r,o.getComponent(),n,i)},V.prototype.sorters={number:function(e,t,o,n,i,a,r){var s=r.alignEmptyValues,l=r.decimalSeparator||".",c=r.thousandSeparator||",",u=0;if(e=parseFloat(String(e).split(c).join("").split(l).join(".")),t=parseFloat(String(t).split(c).join("").split(l).join(".")),isNaN(e))u=isNaN(t)?0:-1;else{if(!isNaN(t))return e-t;u=1}return("top"===s&&"desc"===a||"bottom"===s&&"asc"===a)&&(u*=-1),u},string:function(e,t,o,n,i,r,s){var l,c=s.alignEmptyValues,u=0;if(e){if(t){switch(a(s.locale)){case"boolean":s.locale&&(l=this.table.modules.localize.getLocale());break;case"string":l=s.locale}return String(e).toLowerCase().localeCompare(String(t).toLowerCase(),l)}u=1}else u=t?-1:0;return("top"===c&&"desc"===r||"bottom"===c&&"asc"===r)&&(u*=-1),u},date:function(e,t,o,n,i,a,r){return r.format||(r.format="DD/MM/YYYY"),this.sorters.datetime.call(this,e,t,o,n,i,a,r)},time:function(e,t,o,n,i,a,r){return r.format||(r.format="hh:mm"),this.sorters.datetime.call(this,e,t,o,n,i,a,r)},datetime:function(e,t,o,n,i,a,r){var s=r.format||"DD/MM/YYYY hh:mm:ss",l=r.alignEmptyValues,c=0;if("undefined"!=typeof moment){if(e=moment(e,s),t=moment(t,s),e.isValid()){if(t.isValid())return e-t;c=1}else c=t.isValid()?-1:0;return("top"===l&&"desc"===a||"bottom"===l&&"asc"===a)&&(c*=-1),c}console.error("Sort Error - 'datetime' sorter is dependant on moment.js")},boolean:function(e,t,o,n,i,a,r){return(!0===e||"true"===e||"True"===e||1===e?1:0)-(!0===t||"true"===t||"True"===t||1===t?1:0)},array:function(e,t,o,n,i,a,r){var s=r.type||"length",l=r.alignEmptyValues,c=0;function u(e){switch(s){case"length":return e.length;case"sum":return e.reduce(function(e,t){return e+t});case"max":return Math.max.apply(null,e);case"min":return Math.min.apply(null,e);case"avg":return e.reduce(function(e,t){return e+t})/e.length}}if(Array.isArray(e)){if(Array.isArray(t))return(e?u(e):0)-(t?u(t):0);l=1}else l=Array.isArray(t)?-1:0;return("top"===l&&"desc"===a||"bottom"===l&&"asc"===a)&&(c*=-1),c},exists:function(e,t,o,n,i,a,r){return(void 0===e?0:1)-(void 0===t?0:1)},alphanum:function(e,t,o,n,i,a,r){var s,l,c,u,d,h=0,f=/(\d+)|(\D+)/g,p=/\d/,m=r.alignEmptyValues,g=0;if(e||0===e){if(t||0===t){if(isFinite(e)&&isFinite(t))return e-t;if((s=String(e).toLowerCase())===(l=String(t).toLowerCase()))return 0;if(!p.test(s)||!p.test(l))return s>l?1:-1;for(s=s.match(f),l=l.match(f),d=s.length>l.length?l.length:s.length;h<d;)if((c=s[h])!==(u=l[h++]))return isFinite(c)&&isFinite(u)?("0"===c.charAt(0)&&(c="."+c),"0"===u.charAt(0)&&(u="."+u),c-u):c>u?1:-1;return s.length>l.length}g=1}else g=t||0===t?-1:0;return("top"===m&&"desc"===a||"bottom"===m&&"asc"===a)&&(g*=-1),g}},d.prototype.registerModule("sort",V);var $=function(e){this.table=e};return $.prototype.initializeColumn=function(e){var t,o=this,n=[];e.definition.validator&&(Array.isArray(e.definition.validator)?e.definition.validator.forEach(function(e){(t=o._extractValidator(e))&&n.push(t)}):(t=this._extractValidator(e.definition.validator))&&n.push(t),e.modules.validate=!!n.length&&n)},$.prototype._extractValidator=function(e){var t,o,n;switch(void 0===e?"undefined":a(e)){case"string":return o=(t=e.split(":",2)).shift(),n=t[0],this._buildValidator(o,n);case"function":return this._buildValidator(e);case"object":return this._buildValidator(e.type,e.parameters)}},$.prototype._buildValidator=function(e,t){var o="function"==typeof e?e:this.validators[e];return o?{type:"function"==typeof e?"function":e,func:o,params:t}:(console.warn("Validator Setup Error - No matching validator found:",e),!1)},$.prototype.validate=function(e,t,o){var n=this,i=[];return e&&e.forEach(function(e){e.func.call(n,t,o,e.params)||i.push({type:e.type,parameters:e.params})}),!i.length||i},$.prototype.validators={integer:function(e,t,o){return""===t||null==t||"number"==typeof(t=Number(t))&&isFinite(t)&&Math.floor(t)===t},float:function(e,t,o){return""===t||null==t||"number"==typeof(t=Number(t))&&isFinite(t)&&t%1!=0},numeric:function(e,t,o){return""===t||null==t||!isNaN(t)},string:function(e,t,o){return""===t||null==t||isNaN(t)},max:function(e,t,o){return""===t||null==t||parseFloat(t)<=o},min:function(e,t,o){return""===t||null==t||parseFloat(t)>=o},minLength:function(e,t,o){return""===t||null==t||String(t).length>=o},maxLength:function(e,t,o){return""===t||null==t||String(t).length<=o},in:function(e,t,o){return""===t||null==t||("string"==typeof o&&(o=o.split("|")),""===t||o.indexOf(t)>-1)},regex:function(e,t,o){return""===t||null==t||new RegExp(o).test(t)},unique:function(e,t,o){if(""===t||null==t)return!0;var n=!0,i=e.getData(),a=e.getColumn()._getSelf();return this.table.rowManager.rows.forEach(function(e){var o=e.getData();o!==i&&t==a.getFieldValue(o)&&(n=!1)}),n},required:function(e,t,o){return""!==t&null!==t&&void 0!==t}},d.prototype.registerModule("validate",$),d},"object"===a(o)?t.exports=i():n.Tabulator=i()}),Zc=Q(function(e,t){var o,n,i,a,r,s;e.exports=(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},r=function(){function e(t){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5e3;n(this,e),this.ctx=t,this.iframes=o,this.exclude=i,this.iframesTimeout=a}return i(e,[{key:"getContexts",value:function(){var e=[];return(void 0!==this.ctx&&this.ctx?NodeList.prototype.isPrototypeOf(this.ctx)?Array.prototype.slice.call(this.ctx):Array.isArray(this.ctx)?this.ctx:"string"==typeof this.ctx?Array.prototype.slice.call(document.querySelectorAll(this.ctx)):[this.ctx]:[]).forEach(function(t){var o=e.filter(function(e){return e.contains(t)}).length>0;-1!==e.indexOf(t)||o||e.push(t)}),e}},{key:"getIframeContents",value:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},n=void 0;try{var i=e.contentWindow;if(n=i.document,!i||!n)throw new Error("iframe inaccessible")}catch(e){o()}n&&t(n)}},{key:"isIframeBlank",value:function(e){var t="about:blank",o=e.getAttribute("src").trim(),n=e.contentWindow.location.href;return n===t&&o!==t&&o}},{key:"observeIframeLoad",value:function(e,t,o){var n=this,i=!1,a=null,r=function r(){if(!i){i=!0,clearTimeout(a);try{n.isIframeBlank(e)||(e.removeEventListener("load",r),n.getIframeContents(e,t,o))}catch(e){o()}}};e.addEventListener("load",r),a=setTimeout(r,this.iframesTimeout)}},{key:"onIframeReady",value:function(e,t,o){try{"complete"===e.contentWindow.document.readyState?this.isIframeBlank(e)?this.observeIframeLoad(e,t,o):this.getIframeContents(e,t,o):this.observeIframeLoad(e,t,o)}catch(e){o()}}},{key:"waitForIframes",value:function(e,t){var o=this,n=0;this.forEachIframe(e,function(){return!0},function(e){n++,o.waitForIframes(e.querySelector("html"),function(){--n||t()})},function(e){e||t()})}},{key:"forEachIframe",value:function(t,o,n){var i=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},r=t.querySelectorAll("iframe"),s=r.length,l=0;r=Array.prototype.slice.call(r);var c=function(){--s<=0&&a(l)};s||c(),r.forEach(function(t){e.matches(t,i.exclude)?c():i.onIframeReady(t,function(e){o(t)&&(l++,n(e)),c()},c)})}},{key:"createIterator",value:function(e,t,o){return document.createNodeIterator(e,t,o,!1)}},{key:"createInstanceOnIframe",value:function(t){return new e(t.querySelector("html"),this.iframes)}},{key:"compareNodeIframe",value:function(e,t,o){var n=e.compareDocumentPosition(o),i=Node.DOCUMENT_POSITION_PRECEDING;if(n&i){if(null===t)return!0;var a=t.compareDocumentPosition(o),r=Node.DOCUMENT_POSITION_FOLLOWING;if(a&r)return!0}return!1}},{key:"getIteratorNode",value:function(e){var t=e.previousNode(),o=void 0;return o=null===t?e.nextNode():e.nextNode()&&e.nextNode(),{prevNode:t,node:o}}},{key:"checkIframeFilter",value:function(e,t,o,n){var i=!1,a=!1;return n.forEach(function(e,t){e.val===o&&(i=t,a=e.handled)}),this.compareNodeIframe(e,t,o)?(!1!==i||a?!1===i||a||(n[i].handled=!0):n.push({val:o,handled:!0}),!0):(!1===i&&n.push({val:o,handled:!1}),!1)}},{key:"handleOpenIframes",value:function(e,t,o,n){var i=this;e.forEach(function(e){e.handled||i.getIframeContents(e.val,function(e){i.createInstanceOnIframe(e).forEachNode(t,o,n)})})}},{key:"iterateThroughNodes",value:function(e,t,o,n,i){for(var a=this,r=this.createIterator(t,e,n),s=[],l=[],c=void 0,u=void 0;d=void 0,d=a.getIteratorNode(r),u=d.prevNode,c=d.node;)this.iframes&&this.forEachIframe(t,function(e){return a.checkIframeFilter(c,u,e,s)},function(t){a.createInstanceOnIframe(t).forEachNode(e,function(e){return l.push(e)},n)}),l.push(c);var d;l.forEach(function(e){o(e)}),this.iframes&&this.handleOpenIframes(s,e,o,n),i()}},{key:"forEachNode",value:function(e,t,o){var n=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},a=this.getContexts(),r=a.length;r||i(),a.forEach(function(a){var s=function(){n.iterateThroughNodes(e,a,t,o,function(){--r<=0&&i()})};n.iframes?n.waitForIframes(a,s):s()})}}],[{key:"matches",value:function(e,t){var o="string"==typeof t?[t]:t,n=e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;if(n){var i=!1;return o.every(function(t){return!n.call(e,t)||(i=!0,!1)}),i}return!1}}]),e}(),s=function(){function e(t){n(this,e),this.ctx=t,this.ie=!1;var o=window.navigator.userAgent;(o.indexOf("MSIE")>-1||o.indexOf("Trident")>-1)&&(this.ie=!0)}return i(e,[{key:"log",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"debug",n=this.opt.log;this.opt.debug&&"object"===(void 0===n?"undefined":o(n))&&"function"==typeof n[t]&&n[t]("mark.js: "+e)}},{key:"escapeStr",value:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}},{key:"createRegExp",value:function(e){return"disabled"!==this.opt.wildcards&&(e=this.setupWildcardsRegExp(e)),e=this.escapeStr(e),Object.keys(this.opt.synonyms).length&&(e=this.createSynonymsRegExp(e)),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(e=this.setupIgnoreJoinersRegExp(e)),this.opt.diacritics&&(e=this.createDiacriticsRegExp(e)),e=this.createMergedBlanksRegExp(e),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(e=this.createJoinersRegExp(e)),"disabled"!==this.opt.wildcards&&(e=this.createWildcardsRegExp(e)),e=this.createAccuracyRegExp(e)}},{key:"createSynonymsRegExp",value:function(e){var t=this.opt.synonyms,o=this.opt.caseSensitive?"":"i",n=this.opt.ignoreJoiners||this.opt.ignorePunctuation.length?"\0":"";for(var i in t)if(t.hasOwnProperty(i)){var a=t[i],r="disabled"!==this.opt.wildcards?this.setupWildcardsRegExp(i):this.escapeStr(i),s="disabled"!==this.opt.wildcards?this.setupWildcardsRegExp(a):this.escapeStr(a);""!==r&&""!==s&&(e=e.replace(new RegExp("("+this.escapeStr(r)+"|"+this.escapeStr(s)+")","gm"+o),n+"("+this.processSynomyms(r)+"|"+this.processSynomyms(s)+")"+n))}return e}},{key:"processSynomyms",value:function(e){return(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(e=this.setupIgnoreJoinersRegExp(e)),e}},{key:"setupWildcardsRegExp",value:function(e){return(e=e.replace(/(?:\\)*\?/g,function(e){return"\\"===e.charAt(0)?"?":""})).replace(/(?:\\)*\*/g,function(e){return"\\"===e.charAt(0)?"*":""})}},{key:"createWildcardsRegExp",value:function(e){var t="withSpaces"===this.opt.wildcards;return e.replace(/\u0001/g,t?"[\\S\\s]?":"\\S?").replace(/\u0002/g,t?"[\\S\\s]*?":"\\S*")}},{key:"setupIgnoreJoinersRegExp",value:function(e){return e.replace(/[^(|)\\]/g,function(e,t,o){var n=o.charAt(t+1);return/[(|)\\]/.test(n)||""===n?e:e+"\0"})}},{key:"createJoinersRegExp",value:function(e){var t=[],o=this.opt.ignorePunctuation;return Array.isArray(o)&&o.length&&t.push(this.escapeStr(o.join(""))),this.opt.ignoreJoiners&&t.push("\\u00ad\\u200b\\u200c\\u200d"),t.length?e.split(/\u0000+/).join("["+t.join("")+"]*"):e}},{key:"createDiacriticsRegExp",value:function(e){var t=this.opt.caseSensitive?"":"i",o=this.opt.caseSensitive?["aàáảãạăằắẳẵặâầấẩẫậäåāą","AÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ","cçćč","CÇĆČ","dđď","DĐĎ","eèéẻẽẹêềếểễệëěēę","EÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ","iìíỉĩịîïī","IÌÍỈĨỊÎÏĪ","lł","LŁ","nñňń","NÑŇŃ","oòóỏõọôồốổỗộơởỡớờợöøō","OÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ","rř","RŘ","sšśșş","SŠŚȘŞ","tťțţ","TŤȚŢ","uùúủũụưừứửữựûüůū","UÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ","yýỳỷỹỵÿ","YÝỲỶỸỴŸ","zžżź","ZŽŻŹ"]:["aàáảãạăằắẳẵặâầấẩẫậäåāąAÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ","cçćčCÇĆČ","dđďDĐĎ","eèéẻẽẹêềếểễệëěēęEÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ","iìíỉĩịîïīIÌÍỈĨỊÎÏĪ","lłLŁ","nñňńNÑŇŃ","oòóỏõọôồốổỗộơởỡớờợöøōOÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ","rřRŘ","sšśșşSŠŚȘŞ","tťțţTŤȚŢ","uùúủũụưừứửữựûüůūUÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ","yýỳỷỹỵÿYÝỲỶỸỴŸ","zžżźZŽŻŹ"],n=[];return e.split("").forEach(function(i){o.every(function(o){if(-1!==o.indexOf(i)){if(n.indexOf(o)>-1)return!1;e=e.replace(new RegExp("["+o+"]","gm"+t),"["+o+"]"),n.push(o)}return!0})}),e}},{key:"createMergedBlanksRegExp",value:function(e){return e.replace(/[\s]+/gim,"[\\s]+")}},{key:"createAccuracyRegExp",value:function(e){var t=this,o=this.opt.accuracy,n="string"==typeof o?o:o.value,i="string"==typeof o?[]:o.limiters,a="";switch(i.forEach(function(e){a+="|"+t.escapeStr(e)}),n){case"partially":default:return"()("+e+")";case"complementary":return"()([^"+(a="\\s"+(a||this.escapeStr("!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~¡¿")))+"]*"+e+"[^"+a+"]*)";case"exactly":return"(^|\\s"+a+")("+e+")(?=$|\\s"+a+")"}}},{key:"getSeparatedKeywords",value:function(e){var t=this,o=[];return e.forEach(function(e){t.opt.separateWordSearch?e.split(" ").forEach(function(e){e.trim()&&-1===o.indexOf(e)&&o.push(e)}):e.trim()&&-1===o.indexOf(e)&&o.push(e)}),{keywords:o.sort(function(e,t){return t.length-e.length}),length:o.length}}},{key:"isNumeric",value:function(e){return Number(parseFloat(e))==e}},{key:"checkRanges",value:function(e){var t=this;if(!Array.isArray(e)||"[object Object]"!==Object.prototype.toString.call(e[0]))return this.log("markRanges() will only accept an array of objects"),this.opt.noMatch(e),[];var o=[],n=0;return e.sort(function(e,t){return e.start-t.start}).forEach(function(e){var i=t.callNoMatchOnInvalidRanges(e,n),a=i.start,r=i.end,s=i.valid;s&&(e.start=a,e.length=r-a,o.push(e),n=r)}),o}},{key:"callNoMatchOnInvalidRanges",value:function(e,t){var o=void 0,n=void 0,i=!1;return e&&void 0!==e.start?(o=parseInt(e.start,10),n=o+parseInt(e.length,10),this.isNumeric(e.start)&&this.isNumeric(e.length)&&n-t>0&&n-o>0?i=!0:(this.log("Ignoring invalid or overlapping range: "+JSON.stringify(e)),this.opt.noMatch(e))):(this.log("Ignoring invalid range: "+JSON.stringify(e)),this.opt.noMatch(e)),{start:o,end:n,valid:i}}},{key:"checkWhitespaceRanges",value:function(e,t,o){var n=void 0,i=!0,a=o.length,r=t-a,s=parseInt(e.start,10)-r;return(n=(s=s>a?a:s)+parseInt(e.length,10))>a&&(n=a,this.log("End range automatically set to the max value of "+a)),s<0||n-s<0||s>a||n>a?(i=!1,this.log("Invalid range: "+JSON.stringify(e)),this.opt.noMatch(e)):""===o.substring(s,n).replace(/\s+/g,"")&&(i=!1,this.log("Skipping whitespace only range: "+JSON.stringify(e)),this.opt.noMatch(e)),{start:s,end:n,valid:i}}},{key:"getTextNodes",value:function(e){var t=this,o="",n=[];this.iterator.forEachNode(NodeFilter.SHOW_TEXT,function(e){n.push({start:o.length,end:(o+=e.textContent).length,node:e})},function(e){return t.matchesExclude(e.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},function(){e({value:o,nodes:n})})}},{key:"matchesExclude",value:function(e){return r.matches(e,this.opt.exclude.concat(["script","style","title","head","html"]))}},{key:"wrapRangeInTextNode",value:function(e,t,o){var n=this.opt.element?this.opt.element:"mark",i=e.splitText(t),a=i.splitText(o-t),r=document.createElement(n);return r.setAttribute("data-markjs","true"),this.opt.className&&r.setAttribute("class",this.opt.className),r.textContent=i.textContent,i.parentNode.replaceChild(r,i),a}},{key:"wrapRangeInMappedTextNode",value:function(e,t,o,n,i){var a=this;e.nodes.every(function(r,s){var l=e.nodes[s+1];if(void 0===l||l.start>t){if(!n(r.node))return!1;var c=t-r.start,u=(o>r.end?r.end:o)-r.start,d=e.value.substr(0,r.start),h=e.value.substr(u+r.start);if(r.node=a.wrapRangeInTextNode(r.node,c,u),e.value=d+h,e.nodes.forEach(function(t,o){o>=s&&(e.nodes[o].start>0&&o!==s&&(e.nodes[o].start-=u),e.nodes[o].end-=u)}),o-=u,i(r.node.previousSibling,r.start),!(o>r.end))return!1;t=r.end}return!0})}},{key:"wrapMatches",value:function(e,t,o,n,i){var a=this,r=0===t?0:t+1;this.getTextNodes(function(t){t.nodes.forEach(function(t){t=t.node;for(var i=void 0;null!==(i=e.exec(t.textContent))&&""!==i[r];)if(o(i[r],t)){var s=i.index;if(0!==r)for(var l=1;l<r;l++)s+=i[l].length;t=a.wrapRangeInTextNode(t,s,s+i[r].length),n(t.previousSibling),e.lastIndex=0}}),i()})}},{key:"wrapMatchesAcrossElements",value:function(e,t,o,n,i){var a=this,r=0===t?0:t+1;this.getTextNodes(function(t){for(var s=void 0;null!==(s=e.exec(t.value))&&""!==s[r];){var l=s.index;if(0!==r)for(var c=1;c<r;c++)l+=s[c].length;var u=l+s[r].length;a.wrapRangeInMappedTextNode(t,l,u,function(e){return o(s[r],e)},function(t,o){e.lastIndex=o,n(t)})}i()})}},{key:"wrapRangeFromIndex",value:function(e,t,o,n){var i=this;this.getTextNodes(function(a){var r=a.value.length;e.forEach(function(e,n){var s=i.checkWhitespaceRanges(e,r,a.value),l=s.start,c=s.end,u=s.valid;u&&i.wrapRangeInMappedTextNode(a,l,c,function(o){return t(o,e,a.value.substring(l,c),n)},function(t){o(t,e)})}),n()})}},{key:"unwrapMatches",value:function(e){for(var t=e.parentNode,o=document.createDocumentFragment();e.firstChild;)o.appendChild(e.removeChild(e.firstChild));t.replaceChild(o,e),this.ie?this.normalizeTextNode(t):t.normalize()}},{key:"normalizeTextNode",value:function(e){if(e){if(3===e.nodeType)for(;e.nextSibling&&3===e.nextSibling.nodeType;)e.nodeValue+=e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);else this.normalizeTextNode(e.firstChild);this.normalizeTextNode(e.nextSibling)}}},{key:"markRegExp",value:function(e,t){var o=this;this.opt=t,this.log('Searching with expression "'+e+'"');var n=0,i="wrapMatches";this.opt.acrossElements&&(i="wrapMatchesAcrossElements"),this[i](e,this.opt.ignoreGroups,function(e,t){return o.opt.filter(t,e,n)},function(e){n++,o.opt.each(e)},function(){0===n&&o.opt.noMatch(e),o.opt.done(n)})}},{key:"mark",value:function(e,t){var o=this;this.opt=t;var n=0,i="wrapMatches",a=this.getSeparatedKeywords("string"==typeof e?[e]:e),r=a.keywords,s=a.length,l=this.opt.caseSensitive?"":"i";this.opt.acrossElements&&(i="wrapMatchesAcrossElements"),0===s?this.opt.done(n):function e(t){var a=new RegExp(o.createRegExp(t),"gm"+l),c=0;o.log('Searching with expression "'+a+'"'),o[i](a,1,function(e,i){return o.opt.filter(i,t,n,c)},function(e){c++,n++,o.opt.each(e)},function(){0===c&&o.opt.noMatch(t),r[s-1]===t?o.opt.done(n):e(r[r.indexOf(t)+1])})}(r[0])}},{key:"markRanges",value:function(e,t){var o=this;this.opt=t;var n=0,i=this.checkRanges(e);i&&i.length?(this.log("Starting to mark with the following ranges: "+JSON.stringify(i)),this.wrapRangeFromIndex(i,function(e,t,n,i){return o.opt.filter(e,t,n,i)},function(e,t){n++,o.opt.each(e,t)},function(){o.opt.done(n)})):this.opt.done(n)}},{key:"unmark",value:function(e){var t=this;this.opt=e;var o=this.opt.element?this.opt.element:"*";o+="[data-markjs]",this.opt.className&&(o+="."+this.opt.className),this.log('Removal selector "'+o+'"'),this.iterator.forEachNode(NodeFilter.SHOW_ELEMENT,function(e){t.unwrapMatches(e)},function(e){var n=r.matches(e,o),i=t.matchesExclude(e);return!n||i?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},this.opt.done)}},{key:"opt",set:function(e){this._opt=a({},{element:"",className:"",exclude:[],iframes:!1,iframesTimeout:5e3,separateWordSearch:!0,diacritics:!0,synonyms:{},accuracy:"partially",acrossElements:!1,caseSensitive:!1,ignoreJoiners:!1,ignoreGroups:0,ignorePunctuation:[],wildcards:"disabled",each:function(){},noMatch:function(){},filter:function(){return!0},done:function(){},debug:!1,log:window.console},e)},get:function(){return this._opt}},{key:"iterator",get:function(){return new r(this.ctx,this.opt.iframes,this.opt.exclude,this.opt.iframesTimeout)}}]),e}(),function(e){var t=this,o=new s(e);return this.mark=function(e,n){return o.mark(e,n),t},this.markRegExp=function(e,n){return o.markRegExp(e,n),t},this.markRanges=function(e,n){return o.markRanges(e,n),t},this.unmark=function(e){return o.unmark(e),t},this})});function Qc(e){var o,n,i,a,r,s,l,c,u,d,h,v,y,E;return{c(){o=g("div"),n=g("div"),i=g("div"),a=g("div"),r=g("div"),s=g("div"),(l=g("h2")).textContent="List",c=b(),(u=g("h3")).textContent="Searchable and sortable reviews",d=b(),h=g("input"),v=b(),(y=g("div")).innerHTML='<div class="table-responsive"><table class="table sortable table-striped table-border" id="items"></table></div>',l.className="card-title",u.className="card-category",h.className="review-search svelte-1ewtbdw",h.placeholder="Search Reviews...",s.className="card-header card-header-primary",y.className="card-body",r.className="card",a.className="col-md-12",i.className="row",n.className="container-fluid",o.className="content",E=w(h,"input",e.input_input_handler)},m(t,m){p(t,o,m),f(o,n),f(n,i),f(i,a),f(a,r),f(r,s),f(s,l),f(s,c),f(s,u),f(s,d),f(s,h),h.value=e.tableSearch,f(r,v),f(r,y)},p(e,t){e.tableSearch&&h.value!==t.tableSearch&&(h.value=t.tableSearch)},i:t,o:t,d(e){e&&m(o),E()}}}function eu(e,t,o){let n,i;T(async()=>{const e={data:a,height:window.screen.height,tooltips:!0,layout:"fitColumns",columns:[{title:"Title",width:150,formatter:"textarea",field:"title"},{title:"Rating",width:75,align:"center",field:"rating"},{title:"Stars",field:"rating",formatter:"star",align:"center",width:100,field:"rating"},{title:"Sentiment",width:100,align:"center",field:"sentiment"},{title:"Version",width:100,align:"center",field:"version"},{title:"Content",formatter:"textarea",field:"content",minWidth:300}]};o("table",n=new Kc("#items",e))}),o("mark",i=new Zc("div.tabulator-cell"));let{reviews:a=[]}=t,r="";return e.$set=(e=>{"reviews"in e&&o("reviews",a=e.reviews)}),e.$$.update=((e={table:1,reviews:1,tableSearch:1,mark:1})=>{(e.table||e.reviews)&&n&&n.setData(a),(e.table||e.tableSearch)&&n&&n.setFilter("content","like",r),(e.tableSearch||e.mark)&&(r.length<2?i.unmark():i.mark(r,{accuracy:"complementary"}))}),{reviews:a,tableSearch:r,input_input_handler:function(){r=this.value,o("tableSearch",r)}}}class tu extends Y{constructor(e){super(),U(this,e,eu,Qc,s,["reviews"])}}var ou=function(e,t){var o=-1,n=xe(e)?Array(e.length):[];return Zl(e,function(e,i,a){n[++o]=t(e,i,a)}),n},nu=Object.prototype.hasOwnProperty,iu=ec(function(e,t,o){nu.call(e,o)?++e[o]:Xl(e,o,1)}),au=ne?ne.isConcatSpreadable:void 0;var ru=function(e){return yo(e)||Ao(e)||!!(au&&e&&e[au])};var su=function e(t,o,n,i,a){var r=-1,s=t.length;for(n||(n=ru),a||(a=[]);++r<s;){var l=t[r];o>0&&n(l)?o>1?e(l,o-1,n,i,a):bo(a,l):i||(a[a.length]=l)}return a};var lu=function(e,t){var o=e.length;for(e.sort(t);o--;)e[o]=e[o].value;return e};var cu=function(e,t){if(e!==t){var o=void 0!==e,n=null===e,i=e==e,a=Se(e),r=void 0!==t,s=null===t,l=t==t,c=Se(t);if(!s&&!c&&!a&&e>t||a&&r&&l&&!s&&!c||n&&r&&l||!o&&l||!i)return 1;if(!n&&!a&&!c&&e<t||c&&o&&i&&!n&&!a||s&&o&&i||!r&&i||!l)return-1}return 0};var uu=function(e,t,o){for(var n=-1,i=e.criteria,a=t.criteria,r=i.length,s=o.length;++n<r;){var l=cu(i[n],a[n]);if(l)return n>=s?l:l*("desc"==o[n]?-1:1)}return e.index-t.index};var du=function(e,t,o){var n=-1;t=Nn(t.length?t:[Zn],Po(oi));var i=ou(e,function(e,o,i){return{criteria:Nn(t,function(t){return t(e)}),index:++n,value:e}});return lu(i,function(e,t){return uu(e,t,o)})};var hu=function(e,t,o){switch(o.length){case 0:return e.call(t);case 1:return e.call(t,o[0]);case 2:return e.call(t,o[0],o[1]);case 3:return e.call(t,o[0],o[1],o[2])}return e.apply(t,o)},fu=Math.max;var pu=function(e,t,o){return t=fu(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=fu(n.length-t,0),r=Array(a);++i<a;)r[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=o(r),hu(e,this,s)}};var mu=function(e){return function(){return e}},gu=ql?function(e,t){return ql(e,"toString",{configurable:!0,enumerable:!1,value:mu(t),writable:!0})}:Zn,vu=800,bu=16,yu=Date.now;var wu=function(e){var t=0,o=0;return function(){var n=yu(),i=bu-(n-o);if(o=n,i>0){if(++t>=vu)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(gu);var Eu=function(e,t){return wu(pu(e,t,Zn),e+"")}(function(e,t){if(null==e)return[];var o=t.length;return o>1&&Te(e,t[0],t[1])?t=[]:o>2&&Te(t[0],t[1],t[2])&&(t=[t[0]]),du(e,su(t,1),[])}),Cu=xu;function xu(e){if("number"!=typeof e||isNaN(e)||e<1||e===1/0)throw new Error("`"+e+"` is not a valid argument for n-gram");return function(t){var o,n=[];if(null==t)return n;if(t=t.slice?t:String(t),(o=t.length-e+1)<1)return n;for(;o--;)n[o]=t.slice(o,o+e);return n}}xu.bigram=xu(2),xu.trigram=xu(3);var Ru=Q(function(e){!function(){function t(e){return e.replace(/'/g,"").replace(/\W/g," ").replace(/\s\s+/g," ").split(" ").map(function(e){return e.toLowerCase()})}function o(e){var o={},n=[];return(e=Array.isArray(e)?e:[e]).forEach(function(e){t(e).forEach(function(e){e=e.toLowerCase(),o[e]||""===e?o[e]+=1:(o[e]=1,n.push(e))})}),{words:n,dict:o}}function n(e,o){return Math.log(o.length/(1+function(e,o){var n=0;return o.forEach(function(o){n+=t(o).indexOf(e)>-1?1:0}),n}(e,o)))}e.exports={dict:o,bow:function(e,t){var n=o([e]).dict,i=[];return t.words.forEach(function(e){i.push(n[e]||0)}),i},tfidf:function(e,i,a){return function(e,n){var i=e.toLowerCase();return o(n).dict[i]/t(n).length}(e,i)*n(e,a)},tokenize:t}}()}),Mu=(Ru.dict,Ru.bow,Ru.tfidf,Ru.tokenize),ku={"😂":1,"❤":4,"♥":3,"😍":3,"😭":0,"😘":4,"😊":3,"👌":3,"💕":3,"👏":3,"😁":2,"☺":3,"♡":3,"👍":3,"😩":-2,"🙏":2,"✌":2,"😏":2,"😉":2,"🙌":3,"🙈":2,"💪":3,"😄":2,"😒":-2,"💃":4,"💖":4,"😃":3,"😔":-1,"😱":1,"🎉":4,"😜":2,"☯":0,"🌸":3,"💜":3,"💙":4,"✨":2,"😳":0,"💗":3,"★":1,"█":0,"☀":2,"😡":-1,"😎":2,"😢":0,"💋":3,"😋":3,"🙊":2,"😴":0,"🎶":3,"💞":4,"😌":2,"🔥":1,"💯":1,"🔫":-1,"💛":4,"💁":2,"💚":3,"♫":1,"😞":-1,"😆":2,"😝":2,"😪":0,"😫":-1,"😅":1,"👊":1,"💀":-1,"😀":3,"😚":4,"😻":3,"©":1,"👀":0,"💘":3,"🐓":0,"☕":1,"👋":2,"✋":1,"🎊":4,"🍕":2,"❄":3,"😥":1,"😕":-2,"💥":1,"💔":-1,"😤":-1,"😈":1,"►":1,"✈":2,"🔝":2,"😰":0,"⚽":3,"😑":-2,"👑":4,"😹":1,"👉":2,"🍃":2,"🎁":4,"😠":-2,"🐧":2,"☆":2,"🍀":1,"🎈":4,"🎅":2,"😓":0,"😣":-1,"😐":-2,"✊":2,"😨":-1,"😖":-1,"💤":2,"💓":3,"👎":-1,"💦":2,"✔":1,"😷":-1,"⚡":1,"🙋":2,"🎄":3,"💩":-1,"🎵":3,"➡":1,"😛":3,"😬":1,"👯":2,"💎":3,"🌿":2,"🎂":3,"🌟":2,"🔮":1,"❗":1,"👫":1,"🏆":4,"✖":2,"☝":2,"😙":4,"⛄":3,"👅":2,"♪":3,"🍂":3,"💏":2,"🔪":0,"🌴":3,"👈":2,"🌹":3,"🙆":3,"➜":1,"👻":1,"💰":1,"🍻":3,"🙅":-1,"🌞":3,"🍁":2,"⭐":3,"▪":1,"🎀":3,"━":1,"☷":0,"🐷":2,"🙉":2,"🌺":3,"💅":2,"🐶":3,"🌚":2,"👽":2,"🎤":2,"👭":2,"🎧":2,"👆":2,"🍸":3,"🍷":2,"®":1,"🍉":3,"😇":3,"☑":1,"🏃":2,"😿":-2,"│":2,"💣":0,"🍺":3,"▶":1,"😲":0,"🎸":3,"🍹":3,"💫":3,"📚":2,"😶":-1,"🌷":3,"💝":3,"💨":2,"🏈":3,"💍":2,"☔":1,"👸":3,"🇪":3,"░":0,"🍩":2,"👾":2,"☁":2,"🌻":3,"😵":0,"📒":0,"↿":3,"🐯":2,"👼":2,"🍔":1,"😸":2,"👶":2,"↾":3,"💐":4,"🌊":3,"🍦":2,"🍓":3,"👇":1,"💆":1,"🍴":3,"😧":0,"🇸":3,"😮":1,"▓":0,"🚫":-2,"😽":3,"🌈":3,"🙀":2,"⚠":0,"🎮":2,"╯":0,"🍆":2,"🍰":2,"✓":1,"👐":0,"🙇":1,"🍟":2,"🍌":2,"💑":3,"👬":0,"🐣":2,"🎃":3,"▬":2,"😟":0,"🐾":3,"🎓":3,"🏊":3,"🍫":1,"📷":2,"👄":2,"🌼":4,"🚶":-1,"🐱":3,"║":1,"🐸":0,"🇺":3,"👿":-3,"🚬":3,"✿":2,"📖":1,"🐒":3,"🌍":3,"┊":5,"🐥":3,"🌀":1,"🐼":1,"🎥":2,"💄":2,"💸":1,"⛔":3,"●":1,"🏀":1,"💉":2,"💟":4,"🚗":1,"😯":1,"📝":1,"═":0,"♦":2,"💭":1},Tu={abandon:-2,abandoned:-2,abandons:-2,abducted:-2,abduction:-2,abductions:-2,abhor:-3,abhorred:-3,abhorrent:-3,abhors:-3,abilities:2,ability:2,aboard:1,aborted:-1,aborts:-1,absentee:-1,absentees:-1,absolve:2,absolved:2,absolves:2,absolving:2,absorbed:1,abuse:-3,abused:-3,abuses:-3,abusing:-3,abusive:-3,accept:1,acceptable:1,acceptance:1,accepted:1,accepting:1,accepts:1,accessible:1,accident:-2,accidental:-2,accidentally:-2,accidents:-2,acclaim:2,acclaimed:2,accolade:2,accomplish:2,accomplished:2,accomplishes:2,accomplishment:2,accomplishments:2,accusation:-2,accusations:-2,accuse:-2,accused:-2,accuses:-2,accusing:-2,ache:-2,achievable:1,aching:-2,acquit:2,acquits:2,acquitted:2,acquitting:2,acrimonious:-3,active:1,adequate:1,admire:3,admired:3,admires:3,admiring:3,admit:-1,admits:-1,admitted:-1,admonish:-2,admonished:-2,adopt:1,adopts:1,adorable:3,adoration:3,adore:3,adored:3,adores:3,adoring:3,adoringly:3,advanced:1,advantage:2,advantageous:2,advantageously:2,advantages:2,adventure:2,adventures:2,adventurous:2,adversary:-1,advisable:1,affected:-1,affection:3,affectionate:3,affectionateness:3,afflicted:-1,affordable:2,affronted:-1,aficionados:2,afraid:-2,aggravate:-2,aggravated:-2,aggravates:-2,aggravating:-2,aggression:-2,aggressions:-2,aggressive:-2,aggressiveness:-2,aghast:-2,agog:2,agonise:-3,agonised:-3,agonises:-3,agonising:-3,agonize:-3,agonized:-3,agonizes:-3,agonizing:-3,agree:1,agreeable:2,agreed:1,agreement:1,agrees:1,alarm:-2,alarmed:-2,alarmist:-2,alarmists:-2,alas:-1,alert:-1,alienation:-2,alive:1,allegation:-2,allegations:-2,allergic:-2,allow:1,ally:2,alone:-2,altruistic:2,amaze:2,amazed:2,amazes:2,amazing:4,ambitious:2,ambivalent:-1,amicable:2,amuse:3,amused:3,amusement:3,amusements:3,anger:-3,angered:-3,angers:-3,angry:-3,anguish:-3,anguished:-3,animosity:-2,annoy:-2,annoyance:-2,annoyed:-2,annoying:-2,annoys:-2,antagonistic:-2,anti:-1,anticipation:1,anxiety:-2,anxious:-2,apathetic:-3,apathy:-3,apeshit:-3,apocalyptic:-2,apologise:-1,apologised:-1,apologises:-1,apologising:-1,apologize:-1,apologized:-1,apologizes:-1,apologizing:-1,apology:-1,appalled:-2,appalling:-2,appealing:2,appease:2,appeased:2,appeases:2,appeasing:2,applaud:2,applauded:2,applauding:2,applauds:2,applause:2,appreciate:2,appreciated:2,appreciates:2,appreciating:2,appreciation:2,apprehensive:-2,appropriate:2,appropriately:2,approval:2,approved:2,approves:2,ardent:1,arrest:-2,arrested:-3,arrests:-2,arrogant:-2,arsehole:-4,ashame:-2,ashamed:-2,ass:-4,assassination:-3,assassinations:-3,assault:-2,assaults:-2,asset:2,assets:2,assfucking:-4,asshole:-4,astonished:2,astound:3,astounded:3,astounding:3,astoundingly:3,astounds:3,atrocious:-3,atrocity:-3,attack:-1,attacked:-1,attacking:-1,attacks:-1,attract:1,attracted:1,attracting:2,attraction:2,attractions:2,attractive:2,attractively:2,attractiveness:2,attracts:1,audacious:3,aura:1,authority:1,avenge:-2,avenged:-2,avenger:-2,avengers:-2,avenges:-2,avenging:-2,avert:-1,averted:-1,averts:-1,avid:2,avoid:-1,avoided:-1,avoids:-1,await:-1,awaited:-1,awaits:-1,award:3,awarded:3,awards:3,awesome:4,awful:-3,awkward:-2,axe:-1,axed:-1,backed:1,backing:2,backs:1,bad:-3,badass:-3,badly:-3,badness:-3,bailout:-2,balanced:1,bamboozle:-2,bamboozled:-2,bamboozles:-2,ban:-2,banish:-1,bankrupt:-3,bankruptcy:-3,bankster:-3,banned:-2,barbarian:-2,barbaric:-2,barbarous:-2,bargain:2,barrier:-2,bastard:-5,bastards:-5,battle:-1,battled:-1,battles:-1,battling:-2,beaten:-2,beatific:3,beating:-1,beauties:3,beautiful:3,beautifully:3,beautify:3,beauty:3,befit:2,befitting:2,belittle:-2,belittled:-2,beloved:3,benefactor:2,benefactors:2,benefit:2,benefits:2,benefitted:2,benefitting:2,benevolent:3,bereave:-2,bereaved:-2,bereaves:-2,bereaving:-2,best:3,betray:-3,betrayal:-3,betrayed:-3,betraying:-3,betrays:-3,better:2,bias:-1,biased:-2,big:1,bitch:-5,bitches:-5,bitter:-2,bitterest:-2,bitterly:-2,bizarre:-2,blackmail:-3,blackmailed:-3,blackmailing:-3,blackmails:-3,blah:-2,blame:-2,blamed:-2,blames:-2,blaming:-2,bless:2,blesses:2,blessing:3,blessings:3,blind:-1,bliss:3,blissful:3,blithe:2,bloated:-1,block:-1,blockade:-2,blockbuster:3,blocked:-1,blocking:-1,blocks:-1,bloody:-3,blurry:-2,boastful:-2,bold:2,boldly:2,bomb:-1,boost:1,boosted:1,boosting:1,boosts:1,bore:-2,bored:-2,boring:-3,bother:-2,bothered:-2,bothers:-2,bothersome:-2,boycott:-2,boycotted:-2,boycotting:-2,boycotts:-2,brainwashing:-3,brave:2,braveness:2,bravery:2,bravura:3,breach:-2,breached:-2,breaches:-2,breaching:-2,breakthrough:3,breathtaking:5,bribe:-3,bribed:-3,bribes:-3,bribing:-3,bright:1,brightest:2,brightness:1,brilliant:4,brilliance:3,brilliances:3,brisk:2,broke:-1,broken:-1,brooding:-2,brutal:-3,brutally:-3,bullied:-2,bullshit:-4,bully:-2,bullying:-2,bummer:-2,buoyant:2,burden:-2,burdened:-2,burdening:-2,burdens:-2,burglar:-2,burglary:-2,calm:2,calmed:2,calming:2,calms:2,stand:-3,cancel:-1,cancelled:-1,cancelling:-1,cancels:-1,cancer:-1,capabilities:1,capability:1,capable:1,captivated:3,care:2,carefree:1,careful:2,carefully:2,carefulness:2,careless:-2,cares:2,caring:2,casualty:-2,catastrophe:-3,catastrophic:-4,cautious:-1,celebrate:3,celebrated:3,celebrates:3,celebrating:3,celebration:3,celebrations:3,censor:-2,censored:-2,censors:-2,certain:1,chagrin:-2,chagrined:-2,challenge:-1,champion:2,championed:2,champions:2,chance:2,chances:2,chaos:-2,chaotic:-2,charged:-3,charges:-2,charisma:2,charitable:2,charm:3,charming:3,charmingly:3,charmless:-3,chastise:-3,chastised:-3,chastises:-3,chastising:-3,cheat:-3,cheated:-3,cheater:-3,cheaters:-3,cheating:-3,cheats:-3,cheer:2,cheered:2,cheerful:2,cheerfully:2,cheering:2,cheerless:-2,cheers:2,cheery:3,cherish:2,cherished:2,cherishes:2,cherishing:2,chic:2,chide:-3,chided:-3,chides:-3,chiding:-3,childish:-2,chilling:-1,choke:-2,choked:-2,chokes:-2,choking:-2,clarifies:2,clarity:2,clash:-2,classy:3,clean:2,cleaner:2,clear:1,cleared:1,clearly:1,clears:1,clever:2,clouded:-1,clueless:-2,cock:-5,cocksucker:-5,cocksuckers:-5,cocky:-2,coerced:-2,coercion:-2,collapse:-2,collapsed:-2,collapses:-2,collapsing:-2,collide:-1,collides:-1,colliding:-1,collision:-2,collisions:-2,colluding:-3,combat:-1,combats:-1,comedy:1,comfort:2,comfortable:2,comfortably:2,comforting:2,comforts:2,comic:1,commend:2,commended:2,commit:1,commitment:2,commits:1,committed:1,committing:1,compassion:2,compassionate:2,compelled:1,competencies:1,competent:2,competitive:2,complacent:-2,complain:-2,complained:-2,complaining:-2,complains:-2,complaint:-2,complaints:-2,complicating:-2,compliment:2,complimented:2,compliments:2,comprehensive:2,concerned:-2,conciliate:2,conciliated:2,conciliates:2,conciliating:2,condemn:-2,condemnation:-2,condemned:-2,condemns:-2,confidence:2,confident:2,confidently:2,conflict:-2,conflicting:-2,conflictive:-2,conflicts:-2,confuse:-2,confused:-2,confusing:-2,congrats:2,congratulate:2,congratulation:2,congratulations:2,consent:2,consents:2,consolable:2,conspiracy:-3,constipation:-2,constrained:-2,contagion:-2,contagions:-2,contagious:-1,contaminant:-2,contaminants:-2,contaminate:-2,contaminated:-2,contaminates:-2,contaminating:-2,contamination:-2,contaminations:-2,contempt:-2,contemptible:-2,contemptuous:-2,contemptuously:-2,contend:-1,contender:-1,contending:-1,contentious:-2,contestable:-2,controversial:-2,controversially:-2,controversies:-2,controversy:-2,convicted:-2,convince:1,convinced:1,convinces:1,convivial:2,cool:1,cornered:-2,corpse:-1,corrupt:-3,corrupted:-3,corrupting:-3,corruption:-3,corrupts:-3,costly:-2,courage:2,courageous:2,courageously:2,courageousness:2,courteous:2,courtesy:2,coward:-2,cowardly:-2,coziness:2,cramp:-1,crap:-3,crappy:-3,crash:-2,crazier:-2,craziest:-2,crazy:-2,creative:2,crestfallen:-2,cried:-2,cries:-2,crime:-3,crimes:-3,criminal:-3,criminals:-3,criminate:-3,criminated:-3,criminates:-3,crisis:-3,critic:-2,criticise:-2,criticised:-2,criticises:-2,criticising:-2,criticism:-2,criticize:-2,criticized:-2,criticizes:-2,criticizing:-2,critics:-2,critique:-2,crowding:-1,crude:-1,cruel:-3,cruelty:-3,crush:-1,crushed:-2,crushes:-1,crushing:-1,cry:-1,crying:-2,cumbersome:-2,cunning:2,cunt:-5,curious:1,curse:-1,cut:-1,cutback:-2,cutbacks:-2,cute:2,cuts:-1,cutting:-1,cynic:-2,cynical:-2,cynicism:-2,damage:-3,damaged:-3,damages:-3,damaging:-3,damn:-2,damned:-4,damnit:-4,danger:-2,dangerous:-2,dangerously:-2,daredevil:2,daring:2,darkest:-2,darkness:-1,dauntless:2,dazzling:3,dead:-3,deadening:-2,deadlock:-2,deadly:-3,deafening:-1,dear:2,dearly:3,death:-2,deaths:-2,debonair:2,debt:-2,deceit:-3,deceitful:-3,deceive:-3,deceived:-3,deceives:-3,deceiving:-3,deception:-3,deceptive:-3,decisive:1,dedicated:2,dedication:2,defeat:-2,defeated:-2,defect:-3,defective:-3,defects:-3,defender:2,defenders:2,defenseless:-2,defer:-1,deferring:-1,defiant:-1,deficient:-2,deficiency:-2,deficiencies:-2,deficit:-2,deformed:-2,deformities:-2,deformity:-2,defraud:-3,defrauds:-3,deft:2,defunct:-2,degrade:-2,degraded:-2,degrades:-2,dehumanize:-2,dehumanized:-2,dehumanizes:-2,dehumanizing:-2,deject:-2,dejected:-2,dejecting:-2,dejects:-2,delay:-1,delayed:-1,delectable:3,delicious:3,delight:3,delighted:3,delightful:3,delightfully:3,delighting:3,delights:3,demand:-1,demanded:-1,demanding:-1,demands:-1,demonstration:-1,demoralize:-2,demoralized:-2,demoralizes:-2,demoralizing:-2,denial:-2,denials:-2,denied:-2,denier:-2,deniers:-2,denies:-2,denounce:-2,denounces:-2,dent:-2,deny:-2,denying:-2,deplore:-3,deplored:-3,deplores:-3,deploring:-3,deport:-2,deported:-2,deporting:-2,deports:-2,deportation:-2,deportations:-2,depressed:-2,depressing:-2,deprivation:-3,derail:-2,derailed:-2,derails:-2,derelict:-2,deride:-2,derided:-2,derides:-2,deriding:-2,derision:-2,desirable:2,desire:1,desired:2,desirous:2,despair:-3,despairing:-3,despairs:-3,desperate:-3,desperately:-3,despondent:-3,destroy:-3,destroyed:-3,destroying:-3,destroys:-3,destruction:-3,destructive:-3,detached:-1,detain:-2,detained:-2,detention:-2,deteriorate:-2,deteriorated:-2,deteriorates:-2,deteriorating:-2,determined:2,deterrent:-2,detract:-1,detracted:-1,detracts:-1,devastate:-2,devastated:-2,devastating:-2,devastation:-2,devastations:-2,devoted:3,devotion:2,devotional:2,diamond:1,dick:-4,dickhead:-4,die:-3,died:-3,difficult:-1,diffident:-2,dignity:2,dilemma:-1,dilligence:2,dipshit:-3,dire:-3,direful:-3,dirt:-2,dirtier:-2,dirtiest:-2,dirty:-2,disabilities:-2,disability:-2,disabling:-1,disadvantage:-2,disadvantaged:-2,disagree:-2,disagreeable:-2,disagreement:-2,disappear:-1,disappeared:-1,disappears:-1,disappoint:-2,disappointed:-2,disappointing:-2,disappointment:-2,disappointments:-2,disappoints:-2,disapproval:-2,disapprovals:-2,disapprove:-2,disapproved:-2,disapproves:-2,disapproving:-2,disaster:-2,disasters:-2,disastrous:-3,disbelieve:-2,discard:-1,discarded:-1,discarding:-1,discards:-1,discernment:2,discomfort:-2,disconsolate:-2,disconsolation:-2,discontented:-2,discord:-2,discounted:-1,discouraged:-2,discredited:-2,discriminate:-2,discriminated:-2,discriminates:-2,discriminating:-2,discriminatory:-2,disdain:-2,disease:-1,diseases:-1,disgrace:-2,disgraced:-2,disguise:-1,disguised:-1,disguises:-1,disguising:-1,disgust:-3,disgusted:-3,disgustful:-3,disgusting:-3,disheartened:-2,dishonest:-2,disillusioned:-2,disinclined:-2,disjointed:-2,dislike:-2,disliked:-2,dislikes:-2,dismal:-2,dismayed:-2,dismissed:-2,disorder:-2,disorders:-2,disorganized:-2,disoriented:-2,disparage:-2,disparaged:-2,disparages:-2,disparaging:-2,displeased:-2,displeasure:-2,disproportionate:-2,dispute:-2,disputed:-2,disputes:-2,disputing:-2,disqualified:-2,disquiet:-2,disregard:-2,disregarded:-2,disregarding:-2,disregards:-2,disrespect:-2,disrespected:-2,disrupt:-2,disrupted:-2,disrupting:-2,disruption:-2,disruptions:-2,disruptive:-2,disrupts:-2,dissatisfied:-2,distasteful:-2,distinguished:2,distort:-2,distorted:-2,distorting:-2,distorts:-2,distract:-2,distracted:-2,distraction:-2,distracts:-2,distress:-2,distressed:-2,distresses:-2,distressing:-2,distrust:-3,distrustful:-3,disturb:-2,disturbed:-2,disturbing:-2,disturbs:-2,dithering:-2,diverting:-1,dizzy:-1,dodging:-2,dodgy:-2,dolorous:-2,donate:2,donated:2,donates:2,donating:2,donation:2,doom:-2,doomed:-2,doubt:-1,doubted:-1,doubtful:-1,doubting:-1,doubts:-1,douche:-3,douchebag:-3,dour:-2,downcast:-2,downer:-2,downhearted:-2,downside:-2,drag:-1,dragged:-1,drags:-1,drained:-2,dread:-2,dreaded:-2,dreadful:-3,dreading:-2,dream:1,dreams:1,dreary:-2,droopy:-2,drop:-1,dropped:-1,drown:-2,drowned:-2,drowns:-2,drudgery:-2,drunk:-2,dubious:-2,dud:-2,dull:-2,dumb:-3,dumbass:-3,dump:-1,dumped:-2,dumps:-1,dupe:-2,duped:-2,dupery:-2,durable:2,dying:-3,dysfunction:-2,eager:2,earnest:2,ease:2,easy:1,ecstatic:4,eerie:-2,eery:-2,effective:2,effectively:2,effectiveness:2,effortlessly:2,elated:3,elation:3,elegant:2,elegantly:2,embarrass:-2,embarrassed:-2,embarrasses:-2,embarrassing:-2,embarrassment:-2,embezzlement:-3,embittered:-2,embrace:1,emergency:-2,empathetic:2,empower:2,empowerment:2,emptiness:-1,empty:-1,enchanted:2,encourage:2,encouraged:2,encouragement:2,encourages:2,encouraging:2,endorse:2,endorsed:2,endorsement:2,endorses:2,enemies:-2,enemy:-2,energetic:2,engage:1,engages:1,engrossed:1,engrossing:3,enjoy:2,enjoyable:2,enjoyed:2,enjoying:2,enjoys:2,enlighten:2,enlightened:2,enlightening:2,enlightens:2,ennui:-2,enrage:-2,enraged:-2,enrages:-2,enraging:-2,enrapture:3,enslave:-2,enslaved:-2,enslaves:-2,ensure:1,ensuring:1,enterprising:1,entertaining:2,enthral:3,enthusiastic:3,entitled:1,entrusted:2,envies:-1,envious:-2,envy:-1,envying:-1,erroneous:-2,error:-2,errors:-2,escape:-1,escapes:-1,escaping:-1,esteem:2,esteemed:2,ethical:2,euphoria:3,euphoric:4,evacuate:-1,evacuated:-1,evacuates:-1,evacuating:-1,evacuation:-1,evergreen:2,evergreens:2,evergreening:-3,eviction:-1,evil:-3,exacerbate:-2,exacerbated:-2,exacerbates:-2,exacerbating:-2,exaggerate:-2,exaggerated:-2,exaggerates:-2,exaggerating:-2,exasparate:-2,exasperated:-2,exasperates:-2,exasperating:-2,excellence:3,excellent:3,excite:3,excited:3,excitement:3,exciting:3,exclude:-1,excluded:-2,exclusion:-1,exclusive:2,excruciatingly:-1,excuse:-1,exempt:-1,exhausted:-2,exhilarated:3,exhilarates:3,exhilarating:3,exonerate:2,exonerated:2,exonerates:2,exonerating:2,expand:1,expands:1,expel:-2,expelled:-2,expelling:-2,expels:-2,expertly:2,exploit:-2,exploited:-2,exploiting:-2,exploits:-2,exploration:1,explorations:1,expose:-1,exposed:-1,exposes:-1,exposing:-1,exquisite:3,extend:1,extends:1,extremist:-2,extremists:-2,exuberant:4,exultant:3,exultantly:3,fabulous:4,fabulously:4,fad:-2,fag:-3,faggot:-3,faggots:-3,fail:-2,failed:-2,failing:-2,fails:-2,failure:-2,failures:-2,fainthearted:-2,fair:2,fairness:2,faith:1,faithful:3,fake:-3,faker:-3,fakes:-3,faking:-3,fallen:-2,falling:-1,false:-1,falsely:-2,falsified:-3,falsify:-3,fame:1,famine:-2,famous:2,fan:3,fantastic:4,farce:-1,fascinate:3,fascinated:3,fascinates:3,fascinating:3,fascination:3,fascist:-2,fascists:-2,fatal:-3,fatalities:-3,fatality:-3,fatigue:-2,fatigued:-2,fatigues:-2,fatiguing:-2,favor:2,favorable:2,favorably:2,favored:2,favorite:2,favorited:2,favorites:2,favors:2,favour:2,favourable:2,favourably:2,favoured:2,favourite:2,favourited:2,favourites:2,favours:2,fear:-2,fearful:-2,fearfully:-2,fearing:-2,fearless:2,fearlessness:2,fearsome:-2,feeble:-2,feeling:1,felonies:-3,felony:-3,fertile:2,fervent:2,fervid:2,festive:2,fever:-2,fiasco:-3,fidgety:-2,fight:-1,fighting:-2,fine:2,fines:-2,finest:3,fire:-2,fired:-2,firing:-2,fit:1,fitness:1,filth:-2,filthy:-2,flagship:2,flaw:-2,flawed:-3,flawless:2,flawlessly:2,flaws:-2,flees:-1,flop:-2,flops:-2,flu:-2,flustered:-2,focused:2,fond:2,fondness:2,fool:-2,foolish:-2,fools:-2,forbid:-1,forbidden:-2,forbidding:-2,forced:-1,foreclosure:-2,foreclosures:-2,forefront:1,forget:-1,forgetful:-2,forgettable:-1,forgive:1,forgiving:1,forgot:-1,forgotten:-1,fortune:2,fortunate:2,fortunately:2,foul:-3,frantic:-1,fraud:-4,frauds:-4,fraudster:-4,fraudsters:-4,fraudulence:-4,fraudulent:-4,freak:-2,free:1,freedom:2,freedoms:2,frenzy:-3,fresh:1,friend:1,friendliness:2,friendly:2,friendship:2,fright:-2,frightened:-2,frightening:-3,frikin:-2,frisky:2,frowning:-1,fruitless:-2,frustrate:-2,frustrated:-2,frustrates:-2,frustrating:-2,frustration:-2,ftw:3,fuck:-4,fucked:-4,fucker:-4,fuckers:-4,fuckface:-4,fuckhead:-4,fuckin:-4,fucking:-4,fucktard:-4,fud:-3,fuked:-4,fuking:-4,fulfill:2,fulfilled:2,fulfillment:2,fulfills:2,fuming:-2,fun:4,funeral:-1,funerals:-1,funky:2,funnier:4,funny:4,furious:-3,futile:-2,gag:-2,gagged:-2,gain:2,gained:2,gaining:2,gains:2,gallant:3,gallantly:3,gallantry:3,garbage:-1,gem:3,generous:2,generously:2,genial:3,ghastly:-2,ghost:-1,giddy:-2,gift:2,glad:3,glamorous:3,glamourous:3,glee:3,gleeful:3,gloom:-1,gloomy:-2,glorious:2,glory:2,glum:-2,god:1,goddamn:-3,godsend:4,gold:2,good:3,goodlooking:3,goodmorning:1,goodness:3,goodwill:3,goofiness:-2,goofy:-2,grace:1,graceful:2,gracious:3,grand:3,grant:1,granted:1,granting:1,grants:1,grateful:3,gratification:2,grave:-2,gray:-1,grisly:-2,gr8:3,great:3,greater:3,greatest:3,greed:-3,greedy:-2,greenwash:-3,greenwasher:-3,greenwashers:-3,greenwashing:-3,greet:1,greeted:1,greeting:1,greetings:2,greets:1,grey:-1,grief:-2,grieved:-2,grim:-2,gripping:2,groan:-2,groaned:-2,groaning:-2,groans:-2,gross:-2,growing:1,growth:2,growths:2,gruesome:-3,guarantee:1,guilt:-3,guilty:-3,gullibility:-2,gullible:-2,gun:-1,ha:2,hacked:-1,haha:3,hahaha:3,hahahah:3,hail:2,hailed:2,hallelujah:3,handpicked:1,handsome:3,hapless:-2,haplessness:-2,happiest:3,happiness:3,happy:3,harass:-3,harassed:-3,harasses:-3,harassing:-3,harassment:-3,hard:-1,hardier:2,hardship:-2,hardy:2,harm:-2,harmed:-2,harmful:-2,harming:-2,harmony:2,harmonious:2,harmoniously:2,harms:-2,harried:-2,harsh:-2,harsher:-2,harshest:-2,harshly:-2,hate:-3,hated:-3,hater:-3,haters:-3,hates:-3,hating:-3,hatred:-3,haunt:-1,haunted:-2,haunting:1,haunts:-1,havoc:-2,hazardous:-3,headache:-2,healthy:2,heartbreaking:-3,heartbroken:-3,heartfelt:3,heartless:-2,heartwarming:3,heaven:2,heavenly:4,heavyhearted:-2,hehe:2,hell:-4,hellish:-2,help:2,helpful:2,helping:2,helpless:-2,helps:2,hero:2,heroes:2,heroic:3,hesitant:-2,hesitate:-2,hid:-1,hide:-1,hideous:-3,hides:-1,hiding:-1,highlight:2,hilarious:2,hinder:-2,hindrance:-2,hoax:-2,hollow:-1,homeless:-2,homesick:-2,homicide:-2,homicides:-2,honest:2,honor:2,honored:2,honoring:2,honour:2,honoured:2,honouring:2,hooligan:-2,hooliganism:-2,hooligans:-2,hope:2,hopeful:2,hopefully:2,hopeless:-2,hopelessness:-2,hopes:2,hoping:2,horrendous:-3,horrid:-3,horrible:-3,horrific:-3,horrified:-3,hospitalized:-2,hostile:-2,huckster:-2,hug:2,huge:1,hugs:2,humane:2,humble:1,humbug:-2,humerous:3,humiliated:-3,humiliation:-3,humor:2,humorous:2,humour:2,humourous:2,hunger:-2,hurrah:5,hurt:-2,hurting:-2,hurts:-2,hypocritical:-2,hysteria:-3,hysterical:-3,hysterics:-3,icky:-3,idiocy:-3,idiot:-3,idiotic:-3,ignorance:-2,ignorant:-2,ignore:-1,ignored:-2,ignores:-1,ill:-2,illegal:-3,illegally:-3,illegitimate:-3,illiteracy:-2,illness:-2,illnesses:-2,illogical:-2,imaginative:2,imbecile:-3,immobilized:-1,immortal:2,immune:1,impair:-2,impaired:-2,impairing:-2,impairment:-2,impairs:-2,impatient:-2,impeachment:-3,impeachments:-3,impede:-2,impeded:-2,impedes:-2,impeding:-2,impedingly:-2,imperfect:-2,importance:2,important:2,impose:-1,imposed:-1,imposes:-1,imposing:-1,imposter:-2,impotent:-2,impress:3,impressed:3,impresses:3,impressive:3,imprisoned:-2,imprisonment:-2,improper:-2,improperly:-2,improve:2,improved:2,improvement:2,improves:2,improving:2,inability:-2,inaction:-2,inadequate:-2,inadvertently:-2,inappropriate:-2,incapable:-2,incapacitated:-2,incapacitates:-2,incapacitating:-2,incense:-2,incensed:-2,incenses:-2,incensing:-2,incoherent:-2,incompetence:-2,incompetent:-2,incomplete:-1,incomprehensible:-2,inconsiderate:-2,inconvenience:-2,inconvenient:-2,increase:1,increased:1,incredible:1,indecisive:-2,indestructible:2,indicted:-2,indifference:-2,indifferent:-2,indignant:-2,indignation:-2,indoctrinate:-2,indoctrinated:-2,indoctrinates:-2,indoctrinating:-2,inediable:-2,inexorable:-3,inexcusable:-3,ineffective:-2,ineffectively:-2,ineffectual:-2,inefficiency:-2,inefficient:-2,inefficiently:-2,inept:-2,ineptitude:-2,infantile:-2,infantilized:-2,infatuated:2,infatuation:2,infect:-2,infected:-2,infecting:-2,infection:-2,infections:-2,infectious:-2,infects:-2,inferior:-2,infest:-2,infested:-2,infesting:-2,infests:-2,inflamed:-2,inflict:-2,inflicted:-2,inflicting:-2,inflicts:-2,influential:2,infract:-2,infracted:-2,infracting:-2,infracts:-2,infringement:-2,infuriate:-2,infuriated:-2,infuriates:-2,infuriating:-2,inhibit:-1,inhuman:-2,injured:-2,injuries:-2,injury:-2,injustice:-2,innovate:1,innovates:1,innovation:1,innovative:2,inoperative:-2,inquisition:-2,inquisitive:2,insane:-2,insanity:-2,insecure:-2,insensitive:-2,insensitivity:-2,insignificant:-2,insipid:-2,insolvent:-2,insomnia:-2,inspiration:2,inspirational:2,inspire:2,inspired:2,inspires:2,inspiring:3,insufficiency:-2,insufficient:-2,insufficiently:-2,insult:-2,insulted:-2,insulting:-2,insults:-2,intact:2,integrity:2,intelligent:2,intense:1,interest:1,interested:2,interesting:2,interests:1,interrogated:-2,interrupt:-2,interrupted:-2,interrupting:-2,interruption:-2,interrupts:-2,intimacy:2,intimidate:-2,intimidated:-2,intimidates:-2,intimidating:-2,intimidation:-2,intransigence:-2,intransigency:-2,intricate:2,intrigues:1,invasion:-1,invincible:2,invite:1,inviting:1,invulnerable:2,irate:-3,ironic:-1,irony:-1,irrational:-1,irreparable:-2,irreproducible:-2,irresistible:2,irresistibly:2,irresolute:-2,irresponsible:-2,irresponsibly:-2,irreversible:-1,irreversibly:-1,irritate:-3,irritated:-3,irritates:-3,irritating:-3,isolated:-1,itchy:-2,jackass:-4,jackasses:-4,jailed:-2,jaunty:2,jealous:-2,jealousy:-2,jeopardy:-2,jerk:-3,jesus:1,jewel:1,jewels:1,jocular:2,join:1,joke:2,jokes:2,jolly:2,jovial:2,joy:3,joyful:3,joyfully:3,joyless:-2,joyous:3,jubilant:3,jumpy:-1,junk:-2,justice:2,justifiably:2,justified:2,keen:1,kickback:-3,kickbacks:-3,kidnap:-2,kidnapped:-2,kidnapping:-2,kidnappings:-2,kidnaps:-2,kill:-3,killed:-3,killing:-3,kills:-3,kind:2,kinder:2,kindness:2,kiss:2,kudos:3,lack:-2,lackadaisical:-2,lag:-1,lagged:-2,lagging:-2,lags:-2,lame:-2,landmark:2,lapse:-1,lapsed:-1,laugh:1,laughed:1,laughing:1,laughs:1,laughting:1,launched:1,lawl:3,lawsuit:-2,lawsuits:-2,lazy:-1,leadership:1,leading:2,leak:-1,leaked:-1,leave:-1,legal:1,legally:1,lenient:1,lethal:-2,lethality:-2,lethargic:-2,lethargy:-2,liar:-3,liars:-3,libelous:-2,lied:-2,lifeless:-1,lifesaver:4,lighthearted:1,likable:2,like:2,likeable:2,liked:2,likers:2,likes:2,liking:2,limitation:-1,limited:-1,limits:-1,litigation:-1,litigious:-2,lively:2,livid:-2,lmao:4,lmfao:4,loathe:-3,loathed:-3,loathes:-3,loathing:-3,loathsome:-3,lobbied:-2,lobby:-2,lobbying:-2,lobbyist:-2,lobbyists:-2,lol:3,lolol:4,lololol:4,lolololol:4,lonely:-2,lonesome:-2,longing:-1,lool:3,loom:-1,loomed:-1,looming:-1,looms:-1,loool:3,looool:3,loose:-3,looses:-3,loser:-3,losing:-3,loss:-3,losses:-3,lost:-3,lousy:-2,lovable:3,love:3,loved:3,lovelies:3,lovely:3,loves:3,loving:2,lowest:-1,loyal:3,loyalty:3,luck:3,luckily:3,lucky:3,lucrative:3,ludicrous:-3,lugubrious:-2,lunatic:-3,lunatics:-3,lurk:-1,lurking:-1,lurks:-1,luxury:2,macabre:-2,mad:-3,maddening:-3,madly:-3,madness:-3,magnificent:3,maladaption:-2,maldevelopment:-2,maltreatment:-2,mandatory:-1,manipulated:-1,manipulating:-1,manipulation:-1,manslaughter:-3,marvel:3,marvelous:3,marvels:3,masterpiece:4,masterpieces:4,matter:1,matters:1,mature:2,meaningful:2,meaningless:-2,medal:3,mediocrity:-3,meditative:1,melancholy:-2,memorable:1,memoriam:-2,menace:-2,menaced:-2,menaces:-2,mercy:2,merry:3,mesmerizing:3,mess:-2,messed:-2,methodical:2,methodically:2,mindless:-2,miracle:4,mirth:3,mirthful:3,mirthfully:3,misbehave:-2,misbehaved:-2,misbehaves:-2,misbehaving:-2,misbranding:-3,miscast:-2,mischief:-1,mischiefs:-1,misclassified:-2,misclassifies:-2,misclassify:-2,misconduct:-2,misconducted:-2,misconducting:-2,misconducts:-2,miserable:-3,miserably:-3,misery:-2,misfire:-2,misfortune:-2,misgiving:-2,misinformation:-2,misinformed:-2,misinterpreted:-2,mislead:-3,misleaded:-3,misleading:-3,misleads:-3,misplace:-2,misplaced:-2,misplaces:-2,misplacing:-2,mispricing:-3,misread:-1,misreport:-2,misreported:-2,misreporting:-2,misreports:-2,misrepresent:-2,misrepresentation:-2,misrepresentations:-2,misrepresented:-2,misrepresenting:-2,misrepresents:-2,miss:-2,missed:-2,missing:-2,mistake:-2,mistaken:-2,mistakes:-2,mistaking:-2,misunderstand:-2,misunderstanding:-2,misunderstands:-2,misunderstood:-2,misuse:-2,misused:-2,misuses:-2,misusing:-2,moan:-2,moaned:-2,moaning:-2,moans:-2,mock:-2,mocked:-2,mocking:-2,mocks:-2,modernize:2,modernized:2,modernizes:2,modernizing:2,mongering:-2,monopolize:-2,monopolized:-2,monopolizes:-2,monopolizing:-2,monotone:-1,moody:-1,mope:-1,moping:-1,moron:-3,motherfucker:-5,motherfucking:-5,motivate:1,motivated:2,motivating:2,motivation:1,mourn:-2,mourned:-2,mournful:-2,mourning:-2,mourns:-2,muddy:-2,mumpish:-2,murder:-2,murderer:-2,murdering:-3,murderous:-3,murders:-2,murky:-2,myth:-1,n00b:-2,naive:-2,narcissism:-2,nasty:-3,natural:1,"naïve":-2,needy:-2,negative:-2,negativity:-2,neglect:-2,neglected:-2,neglecting:-2,neglects:-2,nerves:-1,nervous:-2,nervously:-2,nice:3,nifty:2,niggas:-5,nigger:-5,no:-1,noble:2,noblest:2,noisy:-1,nonsense:-2,noob:-2,nosey:-2,notable:2,noticeable:2,notorious:-2,novel:2,numb:-1,nurturing:2,nuts:-3,obliterate:-2,obliterated:-2,obnoxious:-3,obscene:-2,obscenity:-2,obsessed:2,obsolete:-2,obstacle:-2,obstacles:-2,obstinate:-2,obstruct:-2,obstructed:-2,obstructing:-2,obstruction:-2,obstructs:-2,odd:-2,offence:-2,offences:-2,offend:-2,offended:-2,offender:-2,offending:-2,offends:-2,offense:-2,offenses:-2,offensive:-2,offensively:-2,offline:-1,oks:2,ominous:3,oops:-2,opportunities:2,opportunity:2,oppressed:-2,oppression:-2,oppressions:-2,oppressive:-2,optimism:2,optimistic:2,optionless:-2,ostracize:-2,ostracized:-2,ostracizes:-2,ouch:-2,outage:-2,outages:-2,outbreak:-2,outbreaks:-2,outcry:-2,outmaneuvered:-2,outnumbered:-2,outrage:-3,outraged:-3,outrageous:-3,outreach:2,outstanding:5,overjoyed:4,overload:-1,overlooked:-1,overprotective:-2,overran:-2,overreact:-2,overreacted:-2,overreacting:-2,overreaction:-2,overreacts:-2,oversell:-2,overselling:-2,oversells:-2,oversight:-1,oversimplification:-2,oversimplified:-2,oversimplifies:-2,oversimplify:-2,oversold:-2,overstatement:-2,overstatements:-2,overweight:-1,overwrought:-3,oxymoron:-1,pain:-2,pained:-2,painful:-2,panic:-3,panicked:-3,panics:-3,paradise:3,paradox:-1,pardon:2,pardoned:2,pardoning:2,pardons:2,parley:-1,passion:1,passionate:2,passive:-1,passively:-1,pathetic:-2,pay:-1,peace:2,peaceful:2,peacefully:2,penalize:-2,penalized:-2,penalizes:-2,penalizing:-2,penalty:-2,pensive:-1,perfect:3,perfected:2,perfection:3,perfectly:3,perfects:2,peril:-2,perjury:-3,perpetrated:-2,perpetrator:-2,perpetrators:-2,perplexed:-2,persecute:-2,persecuted:-2,persecutes:-2,persecuting:-2,perturbed:-2,pervert:-3,pesky:-2,pessimism:-2,pessimistic:-2,petrified:-2,philanthropy:2,phobic:-2,picturesque:2,pileup:-1,pillage:-2,pique:-2,piqued:-2,piss:-4,pissed:-4,pissing:-3,piteous:-2,pitied:-1,pity:-2,plague:-3,plagued:-3,plagues:-3,plaguing:-3,playful:2,pleasant:3,please:1,pleased:3,pleasurable:3,pleasure:3,plodding:-2,poignant:2,pointless:-2,poised:-2,poison:-2,poisoned:-2,poisons:-2,polished:2,polite:2,politeness:2,pollutant:-2,pollute:-2,polluted:-2,polluter:-2,polluters:-2,pollutes:-2,pollution:-2,poor:-2,poorer:-2,poorest:-2,poorly:-2,popular:3,popularity:3,positive:2,positively:2,possessive:-2,postpone:-1,postponed:-1,postpones:-1,postponing:-1,poverty:-1,powerful:2,powerless:-2,praise:3,praised:3,praises:3,praising:3,pray:1,praying:1,prays:1,prblm:-2,prblms:-2,predatory:-2,prepared:1,pressure:-1,pressured:-2,pretend:-1,pretending:-1,pretends:-1,pretty:1,prevent:-1,prevented:-1,preventing:-1,prevents:-1,prick:-5,prison:-2,prisoner:-2,prisoners:-2,privileged:2,proactive:2,problem:-2,problems:-2,profit:2,profitable:2,profiteer:-2,profits:2,progress:2,prohibit:-1,prohibits:-1,prominent:2,promise:1,promised:1,promises:1,promote:1,promoted:1,promotes:1,promoting:1,promptly:1,propaganda:-2,prosecute:-1,prosecuted:-2,prosecutes:-1,prosecution:-1,prospect:1,prospects:1,prosperity:3,prosperous:3,protect:1,protected:1,protects:1,protest:-2,protesters:-2,protesting:-2,protests:-2,proud:2,proudly:2,provoke:-1,provoked:-1,provokes:-1,provoking:-1,prudence:2,pseudoscience:-3,psychopathic:-2,punish:-2,punished:-2,punishes:-2,punishing:-2,punitive:-2,pure:1,purest:1,purposeful:2,pushy:-1,puzzled:-2,quaking:-2,qualities:2,quality:2,questionable:-2,questioned:-1,questioning:-1,racism:-3,racist:-3,racists:-3,rage:-2,rageful:-2,rainy:-1,rant:-3,ranter:-3,ranters:-3,rants:-3,rape:-4,raped:-4,rapist:-4,rapture:2,raptured:2,raptures:2,rapturous:4,rash:-2,ratified:2,reach:1,reached:1,reaches:1,reaching:1,reassure:1,reassured:1,reassures:1,reassuring:2,rebel:-2,rebellion:-2,rebels:-2,recession:-2,reckless:-2,recognition:2,recommend:2,recommended:2,recommends:2,redeemed:2,refine:1,refined:1,refines:1,refreshingly:2,refuse:-2,refused:-2,refuses:-2,refusing:-2,regret:-2,regretful:-2,regrets:-2,regretted:-2,regretting:-2,reigning:1,reject:-1,rejected:-1,rejecting:-1,rejection:-2,rejects:-1,rejoice:4,rejoiced:4,rejoices:4,rejoicing:4,relaxed:2,relentless:-1,reliability:2,reliable:2,reliably:2,reliant:2,relieve:1,relieved:2,relieves:1,relieving:2,relishing:2,remarkable:2,remorse:-2,repellent:-2,repercussion:-2,repercussions:-2,reprimand:-2,reprimanded:-2,reprimanding:-2,reprimands:-2,repulse:-1,repulsed:-2,repulsive:-2,rescue:2,rescued:2,rescues:2,resentful:-2,resign:-1,resigned:-1,resigning:-1,resigns:-1,resolute:2,resolution:2,resolve:2,resolved:2,resolves:2,resolving:2,respect:2,respected:2,respects:2,responsibility:1,responsible:2,responsive:2,restful:2,restless:-2,restore:1,restored:1,restores:1,restoring:1,restrict:-2,restricted:-2,restricting:-2,restriction:-2,restrictive:-1,restricts:-2,retained:-1,retard:-2,retarded:-2,retreat:-1,revenge:-2,revengeful:-2,revered:2,revive:2,revives:2,revolting:-2,reward:2,rewarded:2,rewarding:2,rewards:2,rich:2,richly:2,ridiculous:-3,rig:-1,rigged:-1,righteousness:2,rightful:2,rightfully:2,rigorous:3,rigorously:3,riot:-2,riots:-2,rise:1,rises:1,risk:-2,risks:-2,risky:-2,riveting:3,rob:-2,robber:-2,robed:-2,robing:-2,robs:-2,robust:2,rocks:2,rofl:4,roflcopter:4,roflmao:4,romance:2,romantical:2,romantically:2,rose:1,rotfl:4,rotflmfao:4,rotflol:4,rotten:-3,rude:-2,ruin:-2,ruined:-2,ruining:-2,ruins:-2,sabotage:-2,sad:-2,sadden:-2,saddened:-2,sadly:-2,safe:1,safely:1,safer:2,safety:1,salient:1,salute:2,saluted:2,salutes:2,saluting:2,salvation:2,sappy:-1,sarcastic:-2,satisfied:2,savange:-2,savanges:-2,save:2,saved:2,savings:1,scam:-2,scams:-2,scandal:-3,scandalous:-3,scandals:-3,scapegoat:-2,scapegoats:-2,scare:-2,scared:-2,scar:-2,scars:-2,scary:-2,sceptical:-2,scold:-2,scoop:3,scorn:-2,scornful:-2,scream:-2,screamed:-2,screaming:-2,screams:-2,screwed:-2,scum:-3,scumbag:-4,seamless:2,seamlessly:2,secure:2,secured:2,secures:2,sedition:-2,seditious:-2,seduced:-1,selfish:-3,selfishness:-3,sentence:-2,sentenced:-2,sentences:-2,sentencing:-2,serene:2,settlement:1,settlements:1,severe:-2,severely:-2,sexist:-2,sexistic:-2,sexy:3,shaky:-2,shame:-2,shamed:-2,shameful:-2,share:1,shared:1,shares:1,shattered:-2,shit:-4,shithead:-4,shitty:-3,shock:-2,shocked:-2,shocking:-2,shocks:-2,shoody:-2,shoot:-1,shortage:-2,shortages:-2,shrew:-4,shy:-1,sick:-2,sickness:-2,sigh:-2,significance:1,significant:1,silencing:-1,silly:-1,simplicity:1,sin:-2,sincere:2,sincerely:2,sincerest:2,sincerity:2,sinful:-3,singleminded:-2,sinister:-2,sins:-2,skeptic:-2,skeptical:-2,skepticism:-2,skeptics:-2,slam:-2,slash:-2,slashed:-2,slashes:-2,slashing:-2,slave:-3,slavery:-3,slaves:-3,sleeplessness:-2,slick:2,slicker:2,slickest:2,slip:-1,sloppy:-2,sluggish:-2,slumping:-1,slut:-5,smart:1,smarter:2,smartest:2,smear:-2,smile:2,smiled:2,smiles:2,smiling:2,smog:-2,smuggle:-2,smuggled:-2,smuggling:-2,smuggles:-2,sneaky:-1,sneeze:-2,sneezed:-2,sneezes:-2,sneezing:-2,snub:-2,snubbed:-2,snubbing:-2,snubs:-2,sobering:1,solemn:-1,solid:2,solidarity:2,solidified:2,solidifies:2,solidify:2,solidifying:2,solution:1,solutions:1,solve:1,solved:1,solves:1,solving:1,somber:-2,soothe:3,soothed:3,soothing:3,sophisticated:2,sore:-1,sorrow:-2,sorrowful:-2,sorry:-1,spacious:1,spam:-2,spammer:-3,spammers:-3,spamming:-2,spark:1,sparkle:3,sparkles:3,sparkling:3,spearhead:2,speculative:-2,spirit:1,spirited:2,spiritless:-2,spiteful:-2,splendid:3,spoiled:-2,spoilt:-2,spotless:2,sprightly:2,squander:-2,squandered:-2,squandering:-2,squanders:-2,squelched:-1,stab:-2,stabbed:-2,stable:2,stabs:-2,stall:-2,stalled:-2,stalling:-2,stamina:2,stampede:-2,stank:-2,startled:-2,startling:3,starve:-2,starved:-2,starves:-2,starving:-2,steadfast:2,steal:-2,stealing:-2,steals:-2,stereotype:-2,stereotyped:-2,stifled:-1,stimulate:1,stimulated:1,stimulates:1,stimulating:2,stingy:-2,stink:-2,stinked:-2,stinker:-2,stinking:-2,stinks:-2,stinky:-2,stole:-2,stolen:-2,stop:-1,stopped:-1,stopping:-1,stops:-1,stout:2,straight:1,strange:-1,strangely:-1,strangled:-2,strength:2,strengthen:2,strengthened:2,strengthening:2,strengthens:2,strengths:2,stress:-1,stressed:-2,stressor:-2,stressors:-2,stricken:-2,strike:-1,strikers:-2,strikes:-1,strong:2,stronger:2,strongest:2,struck:-1,struggle:-2,struggled:-2,struggles:-2,struggling:-2,stubborn:-2,stuck:-2,stunned:-2,stunning:4,stupid:-2,stupidity:-3,stupidly:-2,suave:2,subpoena:-2,substantial:1,substantially:1,subversive:-2,succeed:3,succeeded:3,succeeding:3,succeeds:3,success:2,successful:3,successfully:3,suck:-3,sucks:-3,sue:-2,sued:-2,sueing:-2,sues:-2,suffer:-2,suffered:-2,sufferer:-2,sufferers:-2,suffering:-2,suffers:-2,suicidal:-2,suicide:-2,suicides:-2,suing:-2,suitable:2,suited:2,sulking:-2,sulky:-2,sullen:-2,sunshine:2,super:3,superb:5,superior:2,support:2,supported:2,supporter:1,supporters:1,supporting:1,supportive:2,supports:2,supreme:4,survived:2,surviving:2,survivor:2,suspect:-1,suspected:-1,suspecting:-1,suspects:-1,suspend:-1,suspended:-1,suspicious:-2,sustainability:1,sustainable:2,sustainably:2,swear:-2,swearing:-2,swears:-2,sweet:2,sweeter:3,sweetest:3,swift:2,swiftly:2,swindle:-3,swindles:-3,swindling:-3,sympathetic:2,sympathy:2,taint:-2,tainted:-2,talent:2,tard:-2,tarnish:-2,tarnished:-2,tarnishes:-2,tears:-2,tender:2,tenderness:2,tense:-2,tension:-1,terrible:-3,terribly:-3,terrific:4,terrifically:4,terrified:-3,terror:-3,terrorist:-2,terrorists:-2,terrorize:-3,terrorized:-3,terrorizes:-3,thank:2,thankful:2,thanks:2,thorny:-2,thoughtful:2,thoughtless:-2,threat:-2,threaten:-2,threatened:-2,threatening:-2,threatens:-2,threats:-2,thrilled:5,thwart:-2,thwarted:-2,thwarting:-2,thwarts:-2,timid:-2,timorous:-2,tired:-2,tits:-2,tolerance:2,tolerant:2,toothless:-2,top:2,tops:2,torn:-2,torture:-4,tortured:-4,tortures:-4,torturing:-4,totalitarian:-2,totalitarianism:-2,tout:-2,touted:-2,touting:-2,touts:-2,toxic:-3,tragedies:-2,tragedy:-2,tragic:-2,tranquil:2,transgress:-2,transgressed:-2,transgresses:-2,transgressing:-2,trap:-1,trapped:-2,traps:-1,trauma:-3,traumatic:-3,travesty:-2,treason:-3,treasonous:-3,treasure:2,treasures:2,trembling:-2,tremor:-2,tremors:-2,tremulous:-2,tribulation:-2,tribute:2,tricked:-2,trickery:-2,triumph:4,triumphant:4,troll:-2,trouble:-2,troubled:-2,troubles:-2,troubling:-2,true:2,trust:1,trusted:2,trusts:1,tumor:-2,twat:-5,tyran:-3,tyrannic:-3,tyrannical:-3,tyrannically:-3,tyrans:-3,ubiquitous:2,ugh:-2,ugliness:-3,ugly:-3,unable:-2,unacceptable:-2,unappeasable:-2,unappreciated:-2,unapproved:-2,unattractive:-2,unavailable:-1,unavailing:-2,unaware:-2,unbearable:-2,unbelievable:-1,unbelieving:-1,unbiased:2,uncertain:-1,unclear:-1,uncomfortable:-2,unconcerned:-2,unconfirmed:-1,unconvinced:-1,uncredited:-1,undecided:-1,undercooked:-2,underestimate:-1,underestimated:-1,underestimates:-1,underestimating:-1,undermine:-2,undermined:-2,undermines:-2,undermining:-2,underperform:-2,underperformed:-2,underperforming:-2,underperforms:-2,undeserving:-2,undesirable:-2,uneasy:-2,unemployed:-1,unemployment:-2,unequal:-1,unequaled:2,unethical:-2,uneventful:-2,unfair:-2,unfavorable:-2,unfit:-2,unfitted:-2,unfocused:-2,unforgivable:-3,unforgiving:-2,unfulfilled:-2,unfunny:-2,ungenerous:-2,ungrateful:-3,unhappy:-2,unhappiness:-2,unhealthy:-2,unhygienic:-2,unified:1,unimaginative:-2,unimpressed:-2,uninspired:-2,unintelligent:-2,unintentional:-2,uninvolving:-2,united:1,unjust:-2,unlikely:-1,unlovable:-2,unloved:-2,unmatched:1,unmotivated:-2,unoriginal:-2,unparliamentary:-2,unpleasant:-2,unpleasantness:-2,unprofessional:-2,unravel:1,unreliable:-2,unreleting:-2,unresearched:-2,unsafe:-2,unsatisfied:-2,unscientific:-2,unsecured:-2,unselfish:2,unsettled:-1,unsold:-1,unsophisticated:-2,unsound:-2,unstable:-2,unstoppable:2,unsuccessful:-2,unsuccessfully:-2,unsupported:-2,unsure:-1,untarnished:2,untrue:-2,unwanted:-2,unworthy:-2,uplifting:2,uproar:-3,upset:-2,upsets:-2,upsetting:-2,uptight:-2,urgent:-1,useful:2,usefulness:2,useless:-2,uselessness:-2,vague:-2,validate:1,validated:1,validates:1,validating:1,vapid:-2,verdict:-1,verdicts:-1,vested:1,vexation:-2,vexing:-2,vibrant:3,vicious:-2,victim:-3,victimization:-3,victimize:-3,victimized:-3,victimizes:-3,victimizing:-3,victims:-3,victor:3,victors:3,victory:3,victories:3,vigilant:3,vigor:3,vile:-3,vindicate:2,vindicated:2,vindicates:2,vindicating:2,violate:-2,violated:-2,violates:-2,violating:-2,violation:-2,violations:-2,violence:-3,violent:-3,violently:-3,virtuous:2,virulent:-2,vision:1,visionary:3,visioning:1,visions:1,vitality:3,vitamin:1,vitriolic:-3,vivacious:3,vividly:2,vociferous:-1,vomit:-3,vomited:-3,vomiting:-3,vomits:-3,vulnerability:-2,vulnerable:-2,walkout:-2,walkouts:-2,wanker:-3,want:1,war:-2,warfare:-2,warm:1,warmhearted:2,warmness:2,warmth:2,warn:-2,warned:-2,warning:-3,warnings:-3,warns:-2,waste:-1,wasted:-2,wasting:-2,wavering:-1,weak:-2,weakened:-2,weakness:-2,weaknesses:-2,wealth:3,wealthier:2,wealthy:2,weary:-2,weep:-2,weeping:-2,weird:-2,welcome:2,welcomed:2,welcomes:2,whimsical:1,whitewash:-3,whore:-4,wicked:-2,widowed:-1,willingness:2,win:4,winner:4,winning:4,wins:4,winwin:3,wisdom:1,wish:1,wishes:1,wishing:1,withdrawal:-3,wits:2,woebegone:-2,woeful:-3,won:3,wonderful:4,wonderfully:4,woo:3,woohoo:3,wooo:4,woow:4,work:3,works:3,working:3,worn:-1,worried:-3,worries:-3,worry:-3,worrying:-3,worse:-3,worsen:-3,worsened:-3,worsening:-3,worsens:-3,worshiped:3,worst:-3,worth:2,worthless:-2,worthwhile:2,worthy:2,wow:4,wowow:4,wowww:4,wrathful:-3,wreck:-2,wrenching:-2,wrong:-2,wrongdoing:-2,wrongdoings:-2,wronged:-2,wrongful:-2,wrongfully:-2,wrongly:-2,wtf:-4,wtff:-4,wtfff:-4,xo:3,xoxo:3,xoxoxo:4,xoxoxoxo:4,yeah:1,yearning:1,yeees:2,yes:1,yess:2,yesss:2,youthful:2,yucky:-2,yummy:3,zealot:-2,zealots:-2,zealous:2},Du={":)":2,":(":-2,":|":-1,":]":2,":[":-2,":}":2,":{":-2,":/":-2,":\\":-2,":*":2,":-)":2,":-(":-2,":-|":-1,":-]":2,":-[":-2,":-}":2,":-?":-1,":->":2,":-*":2,":-D":3,":-P":3,":-S":-2,":-p":3,":-/":-2,":D":3,":P":3,":S":-2,":p":3,":o)":2,":'(":-2,"(:":2,"):":-2,"(-:":2,")-:":-2,";-(":-2,";)":2,";(":-2,";-)":2,";-D":3,"=(":-2,"=/":-2,"=\\":-2,"=^/":-1,"=P":3,"o/":3,"♥":3,":-))":3,":-)))":3,":-))))":3,":-)))))":3,":-))))))":4,":-)))))))":4,":-))))))))":4,":-)))))))))":4,"://":0,":))":3,":)))":3,":))))":3,":)))))":3,":))))))":4,":)))))))":4,":))))))))":4,":)))))))))":4,":))))))))))":4,":-((":-3,":-(((":-3,":-((((":-3,":((":-3,";))":3,";)))":3,"<3":3,"<33":3,"<333":4,"<3333":4,"<33333":4,"<333333":4,"<3333333":4,"<33333333":4,"<333333333":4,"8(":-2,"8)":2,"8-D":3,"8-)":2,"8-(":-2,"8D":3,"X-D":3,XD:3},Lu={never:!0,none:!0,no:!0,not:!0,non:!0,arent:!0,cant:!0,dont:!0,wont:!0,isnt:!0,wouldnt:!0,shouldnt:!0,"n't":!0},Su={bad:{luck:-2,fit:-1},best:{damn:4},cashing:{in:-2},cool:{stuff:3},cover:{up:-3},damn:{cute:3,good:4},environment:{friendly:2},fed:{up:-3},fucking:{amazing:4,beautiful:4,cute:4,fantastic:4,good:4,great:4,hot:2,love:4,loves:4,perfect:4},game:{changing:3},green:{wash:-3,washing:-3},ill:{fated:-2},kind:{of:0},loving:{kindness:3},made:{up:-1},messing:{up:-2},post:{traumatic:-2},right:{direction:3},screwed:{up:-3},self:{abuse:-2,confident:2,contradictory:-2,deluded:-2},short:{sighted:-2,sightedness:-2},side:{effect:-2,effects:-2},some:{kind:0},violence:{related:-3},well:{being:2,championed:3,developed:2,done:3,established:2,focused:2,groomed:2,proportioned:2}},_u=Object.create(null),Au="word";_u["can't"]=[{value:"ca",tag:Au},{value:"n't",tag:Au}],_u["CAN'T"]=[{value:"CA",tag:Au},{value:"N'T",tag:Au}],_u["Can't"]=[{value:"Ca",tag:Au},{value:"n't",tag:Au}],_u["Couldn't"]=[{value:"could",tag:Au},{value:"n't",tag:Au}],_u["COULDN'T"]=[{value:"COULD",tag:Au},{value:"N'T",tag:Au}],_u["Couldn't"]=[{value:"Could",tag:Au},{value:"n't",tag:Au}],_u["don't"]=[{value:"do",tag:Au},{value:"n't",tag:Au}],_u["DON'T"]=[{value:"DO",tag:Au},{value:"N'T",tag:Au}],_u["Don't"]=[{value:"Do",tag:Au},{value:"n't",tag:Au}],_u["doesn't"]=[{value:"does",tag:Au},{value:"n't",tag:Au}],_u["DOESN'T"]=[{value:"DOES",tag:Au},{value:"N'T",tag:Au}],_u["Doesn't"]=[{value:"Does",tag:Au},{value:"n't",tag:Au}],_u["didn't"]=[{value:"did",tag:Au},{value:"n't",tag:Au}],_u["DIDN'T"]=[{value:"DID",tag:Au},{value:"N'T",tag:Au}],_u["Didn't"]=[{value:"Did",tag:Au},{value:"n't",tag:Au}],_u["hadn't"]=[{value:"had",tag:Au},{value:"n't",tag:Au}],_u["HADN'T"]=[{value:"HAD",tag:Au},{value:"N'T",tag:Au}],_u["Hadn't"]=[{value:"Had",tag:Au},{value:"n't",tag:Au}],_u["mayn't"]=[{value:"may",tag:Au},{value:"n't",tag:Au}],_u["MAYN'T"]=[{value:"MAY",tag:Au},{value:"N'T",tag:Au}],_u["Mayn't"]=[{value:"May",tag:Au},{value:"n't",tag:Au}],_u["mightn't"]=[{value:"might",tag:Au},{value:"n't",tag:Au}],_u["MIGHTN'T"]=[{value:"MIGHT",tag:Au},{value:"N'T",tag:Au}],_u["Mightn't"]=[{value:"Might",tag:Au},{value:"n't",tag:Au}],_u["mustn't"]=[{value:"must",tag:Au},{value:"n't",tag:Au}],_u["MUSTN'T"]=[{value:"MUST",tag:Au},{value:"N'T",tag:Au}],_u["Mustn't"]=[{value:"Must",tag:Au},{value:"n't",tag:Au}],_u["needn't"]=[{value:"need",tag:Au},{value:"n't",tag:Au}],_u["NEEDN'T"]=[{value:"NEED",tag:Au},{value:"N'T",tag:Au}],_u["Needn't"]=[{value:"Need",tag:Au},{value:"n't",tag:Au}],_u["oughtn't"]=[{value:"ought",tag:Au},{value:"n't",tag:Au}],_u["OUGHTN'T"]=[{value:"OUGHT",tag:Au},{value:"N'T",tag:Au}],_u["Oughtn't"]=[{value:"Ought",tag:Au},{value:"n't",tag:Au}],_u["shan't"]=[{value:"sha",tag:Au},{value:"n't",tag:Au}],_u["SHAN'T"]=[{value:"SHA",tag:Au},{value:"N'T",tag:Au}],_u["Shan't"]=[{value:"Sha",tag:Au},{value:"n't",tag:Au}],_u["shouldn't"]=[{value:"should",tag:Au},{value:"n't",tag:Au}],_u["SHOULDN'T"]=[{value:"SHOULD",tag:Au},{value:"N'T",tag:Au}],_u["Shouldn't"]=[{value:"Should",tag:Au},{value:"n't",tag:Au}],_u["won't"]=[{value:"wo",tag:Au},{value:"n't",tag:Au}],_u["WON'T"]=[{value:"WO",tag:Au},{value:"N'T",tag:Au}],_u["Won't"]=[{value:"Wo",tag:Au},{value:"n't",tag:Au}],_u["wouldn't"]=[{value:"would",tag:Au},{value:"n't",tag:Au}],_u["WOULDN'T"]=[{value:"WOULD",tag:Au},{value:"N'T",tag:Au}],_u["Wouldn't"]=[{value:"Would",tag:Au},{value:"n't",tag:Au}],_u["ain't"]=[{value:"ai",tag:Au},{value:"n't",tag:Au}],_u["AIN'T"]=[{value:"AI",tag:Au},{value:"N'T",tag:Au}],_u["Ain't"]=[{value:"Ai",tag:Au},{value:"n't",tag:Au}],_u["aren't"]=[{value:"are",tag:Au},{value:"n't",tag:Au}],_u["AREN'T"]=[{value:"ARE",tag:Au},{value:"N'T",tag:Au}],_u["Aren't"]=[{value:"Are",tag:Au},{value:"n't",tag:Au}],_u["isn't"]=[{value:"is",tag:Au},{value:"n't",tag:Au}],_u["ISN'T"]=[{value:"IS",tag:Au},{value:"N'T",tag:Au}],_u["Isn't"]=[{value:"Is",tag:Au},{value:"n't",tag:Au}],_u["wasn't"]=[{value:"was",tag:Au},{value:"n't",tag:Au}],_u["WASN'T"]=[{value:"WAS",tag:Au},{value:"N'T",tag:Au}],_u["Wasn't"]=[{value:"Was",tag:Au},{value:"n't",tag:Au}],_u["weren't"]=[{value:"were",tag:Au},{value:"n't",tag:Au}],_u["WEREN'T"]=[{value:"WERE",tag:Au},{value:"N'T",tag:Au}],_u["Weren't"]=[{value:"Were",tag:Au},{value:"n't",tag:Au}],_u["haven't"]=[{value:"have",tag:Au},{value:"n't",tag:Au}],_u["HAVEN'T"]=[{value:"HAVE",tag:Au},{value:"N'T",tag:Au}],_u["Haven't"]=[{value:"Have",tag:Au},{value:"n't",tag:Au}],_u["hasn't"]=[{value:"has",tag:Au},{value:"n't",tag:Au}],_u["HASN'T"]=[{value:"HAS",tag:Au},{value:"N'T",tag:Au}],_u["Hasn't"]=[{value:"Has",tag:Au},{value:"n't",tag:Au}],_u["daren't"]=[{value:"dare",tag:Au},{value:"n't",tag:Au}],_u["DAREN'T"]=[{value:"DARE",tag:Au},{value:"N'T",tag:Au}],_u["Daren't"]=[{value:"Dare",tag:Au},{value:"n't",tag:Au}],_u["i'm"]=[{value:"i",tag:Au},{value:"'m",tag:Au}],_u["I'M"]=[{value:"I",tag:Au},{value:"'M",tag:Au}],_u["I'm"]=[{value:"I",tag:Au},{value:"'m",tag:Au}],_u["i've"]=[{value:"i",tag:Au},{value:"'ve",tag:Au}],_u["I'VE"]=[{value:"I",tag:Au},{value:"'VE",tag:Au}],_u["I've"]=[{value:"I",tag:Au},{value:"'ve",tag:Au}],_u["i'd"]=[{value:"i",tag:Au},{value:"'d",tag:Au}],_u["I'D"]=[{value:"I",tag:Au},{value:"'D",tag:Au}],_u["I'd"]=[{value:"I",tag:Au},{value:"'d",tag:Au}],_u["i'll"]=[{value:"i",tag:Au},{value:"'ll",tag:Au}],_u["I'LL"]=[{value:"I",tag:Au},{value:"'LL",tag:Au}],_u["I'll"]=[{value:"I",tag:Au},{value:"'ll",tag:Au}],_u["you've"]=[{value:"you",tag:Au},{value:"'ve",tag:Au}],_u["YOU'VE"]=[{value:"YOU",tag:Au},{value:"'VE",tag:Au}],_u["You've"]=[{value:"You",tag:Au},{value:"'ve",tag:Au}],_u["you'd"]=[{value:"you",tag:Au},{value:"'d",tag:Au}],_u["YOU'D"]=[{value:"YOU",tag:Au},{value:"'D",tag:Au}],_u["You'd"]=[{value:"You",tag:Au},{value:"'d",tag:Au}],_u["you'll"]=[{value:"you",tag:Au},{value:"'ll",tag:Au}],_u["YOU'LL"]=[{value:"YOU",tag:Au},{value:"'LL",tag:Au}],_u["You'll"]=[{value:"You",tag:Au},{value:"'ll",tag:Au}],_u["they've"]=[{value:"they",tag:Au},{value:"'ve",tag:Au}],_u["THEY'VE"]=[{value:"THEY",tag:Au},{value:"'VE",tag:Au}],_u["They've"]=[{value:"They",tag:Au},{value:"'ve",tag:Au}],_u["they'd"]=[{value:"they",tag:Au},{value:"'d",tag:Au}],_u["THEY'D"]=[{value:"THEY",tag:Au},{value:"'D",tag:Au}],_u["They'd"]=[{value:"They",tag:Au},{value:"'d",tag:Au}],_u["they'll"]=[{value:"they",tag:Au},{value:"'ll",tag:Au}],_u["THEY'LL"]=[{value:"THEY",tag:Au},{value:"'LL",tag:Au}],_u["They'll"]=[{value:"They",tag:Au},{value:"'ll",tag:Au}],_u["they're"]=[{value:"they",tag:Au},{value:"'re",tag:Au}],_u["THEY'RE"]=[{value:"THEY",tag:Au},{value:"'RE",tag:Au}],_u["They're"]=[{value:"They",tag:Au},{value:"'re",tag:Au}],_u["we've"]=[{value:"we",tag:Au},{value:"'ve",tag:Au}],_u["WE'VE"]=[{value:"WE",tag:Au},{value:"'VE",tag:Au}],_u["We've"]=[{value:"We",tag:Au},{value:"'ve",tag:Au}],_u["we'd"]=[{value:"we",tag:Au},{value:"'d",tag:Au}],_u["WE'D"]=[{value:"WE",tag:Au},{value:"'D",tag:Au}],_u["We'd"]=[{value:"We",tag:Au},{value:"'d",tag:Au}],_u["we'll"]=[{value:"we",tag:Au},{value:"'ll",tag:Au}],_u["WE'LL"]=[{value:"WE",tag:Au},{value:"'LL",tag:Au}],_u["We'll"]=[{value:"We",tag:Au},{value:"'ll",tag:Au}],_u["we're"]=[{value:"we",tag:Au},{value:"'re",tag:Au}],_u["WE'RE"]=[{value:"WE",tag:Au},{value:"'RE",tag:Au}],_u["We're"]=[{value:"We",tag:Au},{value:"'re",tag:Au}],_u["she'd"]=[{value:"she",tag:Au},{value:"'d",tag:Au}],_u["SHE'D"]=[{value:"SHE",tag:Au},{value:"'D",tag:Au}],_u["She'd"]=[{value:"She",tag:Au},{value:"'d",tag:Au}],_u["she'll"]=[{value:"she",tag:Au},{value:"'ll",tag:Au}],_u["SHE'LL"]=[{value:"SHE",tag:Au},{value:"'LL",tag:Au}],_u["She'll"]=[{value:"She",tag:Au},{value:"'ll",tag:Au}],_u["she's"]=[{value:"she",tag:Au},{value:"'s",tag:Au}],_u["SHE'S"]=[{value:"SHE",tag:Au},{value:"'S",tag:Au}],_u["She's"]=[{value:"She",tag:Au},{value:"'s",tag:Au}],_u["he'd"]=[{value:"he",tag:Au},{value:"'d",tag:Au}],_u["HE'D"]=[{value:"HE",tag:Au},{value:"'D",tag:Au}],_u["He'd"]=[{value:"He",tag:Au},{value:"'d",tag:Au}],_u["he'll"]=[{value:"he",tag:Au},{value:"'ll",tag:Au}],_u["HE'LL"]=[{value:"HE",tag:Au},{value:"'LL",tag:Au}],_u["He'll"]=[{value:"He",tag:Au},{value:"'ll",tag:Au}],_u["he's"]=[{value:"he",tag:Au},{value:"'s",tag:Au}],_u["HE'S"]=[{value:"HE",tag:Au},{value:"'S",tag:Au}],_u["He's"]=[{value:"He",tag:Au},{value:"'s",tag:Au}],_u["it'd"]=[{value:"it",tag:Au},{value:"'d",tag:Au}],_u["IT'D"]=[{value:"IT",tag:Au},{value:"'D",tag:Au}],_u["It'd"]=[{value:"It",tag:Au},{value:"'d",tag:Au}],_u["it'll"]=[{value:"it",tag:Au},{value:"'ll",tag:Au}],_u["IT'LL"]=[{value:"IT",tag:Au},{value:"'LL",tag:Au}],_u["It'll"]=[{value:"It",tag:Au},{value:"'ll",tag:Au}],_u["it's"]=[{value:"it",tag:Au},{value:"'s",tag:Au}],_u["IT'S"]=[{value:"IT",tag:Au},{value:"'S",tag:Au}],_u["It's"]=[{value:"It",tag:Au},{value:"'s",tag:Au}],_u["what've"]=[{value:"what",tag:Au},{value:"'ve",tag:Au}],_u["WHAT'VE"]=[{value:"WHAT",tag:Au},{value:"'VE",tag:Au}],_u["What've"]=[{value:"What",tag:Au},{value:"'ve",tag:Au}],_u["what'd"]=[{value:"what",tag:Au},{value:"'d",tag:Au}],_u["WHAT'D"]=[{value:"WHAT",tag:Au},{value:"'D",tag:Au}],_u["What'd"]=[{value:"What",tag:Au},{value:"'d",tag:Au}],_u["what'll"]=[{value:"what",tag:Au},{value:"'ll",tag:Au}],_u["WHAT'LL"]=[{value:"WHAT",tag:Au},{value:"'LL",tag:Au}],_u["What'll"]=[{value:"What",tag:Au},{value:"'ll",tag:Au}],_u["what're"]=[{value:"what",tag:Au},{value:"'re",tag:Au}],_u["WHAT'RE"]=[{value:"WHAT",tag:Au},{value:"'RE",tag:Au}],_u["What're"]=[{value:"What",tag:Au},{value:"'re",tag:Au}],_u["who've"]=[{value:"who",tag:Au},{value:"'ve",tag:Au}],_u["WHO'VE"]=[{value:"WHO",tag:Au},{value:"'VE",tag:Au}],_u["Who've"]=[{value:"Who",tag:Au},{value:"'ve",tag:Au}],_u["who'd"]=[{value:"who",tag:Au},{value:"'d",tag:Au}],_u["WHO'D"]=[{value:"WHO",tag:Au},{value:"'D",tag:Au}],_u["Who'd"]=[{value:"Who",tag:Au},{value:"'d",tag:Au}],_u["who'll"]=[{value:"who",tag:Au},{value:"'ll",tag:Au}],_u["WHO'LL"]=[{value:"WHO",tag:Au},{value:"'LL",tag:Au}],_u["Who'll"]=[{value:"Who",tag:Au},{value:"'ll",tag:Au}],_u["who're"]=[{value:"who",tag:Au},{value:"'re",tag:Au}],_u["WHO'RE"]=[{value:"WHO",tag:Au},{value:"'RE",tag:Au}],_u["Who're"]=[{value:"Who",tag:Au},{value:"'re",tag:Au}],_u["when've"]=[{value:"when",tag:Au},{value:"'ve",tag:Au}],_u["WHEN'VE"]=[{value:"WHEN",tag:Au},{value:"'VE",tag:Au}],_u["When've"]=[{value:"When",tag:Au},{value:"'ve",tag:Au}],_u["when'd"]=[{value:"when",tag:Au},{value:"'d",tag:Au}],_u["WHEN'D"]=[{value:"WHEN",tag:Au},{value:"'D",tag:Au}],_u["When'd"]=[{value:"When",tag:Au},{value:"'d",tag:Au}],_u["when'll"]=[{value:"when",tag:Au},{value:"'ll",tag:Au}],_u["WHEN'LL"]=[{value:"WHEN",tag:Au},{value:"'LL",tag:Au}],_u["When'll"]=[{value:"When",tag:Au},{value:"'ll",tag:Au}],_u["when're"]=[{value:"when",tag:Au},{value:"'re",tag:Au}],_u["WHEN'RE"]=[{value:"WHEN",tag:Au},{value:"'RE",tag:Au}],_u["When're"]=[{value:"When",tag:Au},{value:"'re",tag:Au}],_u["where've"]=[{value:"where",tag:Au},{value:"'ve",tag:Au}],_u["WHERE'VE"]=[{value:"WHERE",tag:Au},{value:"'VE",tag:Au}],_u["Where've"]=[{value:"Where",tag:Au},{value:"'ve",tag:Au}],_u["where'd"]=[{value:"where",tag:Au},{value:"'d",tag:Au}],_u["WHERE'D"]=[{value:"WHERE",tag:Au},{value:"'D",tag:Au}],_u["Where'd"]=[{value:"Where",tag:Au},{value:"'d",tag:Au}],_u["where'll"]=[{value:"where",tag:Au},{value:"'ll",tag:Au}],_u["WHERE'LL"]=[{value:"WHERE",tag:Au},{value:"'LL",tag:Au}],_u["Where'll"]=[{value:"Where",tag:Au},{value:"'ll",tag:Au}],_u["where're"]=[{value:"where",tag:Au},{value:"'re",tag:Au}],_u["WHERE'RE"]=[{value:"WHERE",tag:Au},{value:"'RE",tag:Au}],_u["Where're"]=[{value:"Where",tag:Au},{value:"'re",tag:Au}],_u["why've"]=[{value:"why",tag:Au},{value:"'ve",tag:Au}],_u["WHY'VE"]=[{value:"WHY",tag:Au},{value:"'VE",tag:Au}],_u["Why've"]=[{value:"Why",tag:Au},{value:"'ve",tag:Au}],_u["why'd"]=[{value:"why",tag:Au},{value:"'d",tag:Au}],_u["WHY'D"]=[{value:"WHY",tag:Au},{value:"'D",tag:Au}],_u["Why'd"]=[{value:"Why",tag:Au},{value:"'d",tag:Au}],_u["why'll"]=[{value:"why",tag:Au},{value:"'ll",tag:Au}],_u["WHY'LL"]=[{value:"WHY",tag:Au},{value:"'LL",tag:Au}],_u["Why'll"]=[{value:"Why",tag:Au},{value:"'ll",tag:Au}],_u["why're"]=[{value:"why",tag:Au},{value:"'re",tag:Au}],_u["WHY'RE"]=[{value:"WHY",tag:Au},{value:"'RE",tag:Au}],_u["Why're"]=[{value:"Why",tag:Au},{value:"'re",tag:Au}],_u["how've"]=[{value:"how",tag:Au},{value:"'ve",tag:Au}],_u["HOW'VE"]=[{value:"HOW",tag:Au},{value:"'VE",tag:Au}],_u["How've"]=[{value:"How",tag:Au},{value:"'ve",tag:Au}],_u["how'd"]=[{value:"how",tag:Au},{value:"'d",tag:Au}],_u["HOW'D"]=[{value:"HOW",tag:Au},{value:"'D",tag:Au}],_u["How'd"]=[{value:"How",tag:Au},{value:"'d",tag:Au}],_u["how'll"]=[{value:"how",tag:Au},{value:"'ll",tag:Au}],_u["HOW'LL"]=[{value:"HOW",tag:Au},{value:"'LL",tag:Au}],_u["How'll"]=[{value:"How",tag:Au},{value:"'ll",tag:Au}],_u["how're"]=[{value:"how",tag:Au},{value:"'re",tag:Au}],_u["HOW'RE"]=[{value:"HOW",tag:Au},{value:"'RE",tag:Au}],_u["How're"]=[{value:"How",tag:Au},{value:"'re",tag:Au}],_u["there've"]=[{value:"there",tag:Au},{value:"'ve",tag:Au}],_u["THERE'VE"]=[{value:"THERE",tag:Au},{value:"'VE",tag:Au}],_u["There've"]=[{value:"There",tag:Au},{value:"'ve",tag:Au}],_u["there'd"]=[{value:"there",tag:Au},{value:"'d",tag:Au}],_u["THERE'D"]=[{value:"THERE",tag:Au},{value:"'D",tag:Au}],_u["There'd"]=[{value:"There",tag:Au},{value:"'d",tag:Au}],_u["there'll"]=[{value:"there",tag:Au},{value:"'ll",tag:Au}],_u["THERE'LL"]=[{value:"THERE",tag:Au},{value:"'LL",tag:Au}],_u["There'll"]=[{value:"There",tag:Au},{value:"'ll",tag:Au}],_u["there're"]=[{value:"there",tag:Au},{value:"'re",tag:Au}],_u["THERE'RE"]=[{value:"THERE",tag:Au},{value:"'RE",tag:Au}],_u["There're"]=[{value:"There",tag:Au},{value:"'re",tag:Au}],_u["that've"]=[{value:"that",tag:Au},{value:"'ve",tag:Au}],_u["THAT'VE"]=[{value:"THAT",tag:Au},{value:"'VE",tag:Au}],_u["That've"]=[{value:"That",tag:Au},{value:"'ve",tag:Au}],_u["that'd"]=[{value:"that",tag:Au},{value:"'d",tag:Au}],_u["THAT'D"]=[{value:"THAT",tag:Au},{value:"'D",tag:Au}],_u["That'd"]=[{value:"That",tag:Au},{value:"'d",tag:Au}],_u["that'll"]=[{value:"that",tag:Au},{value:"'ll",tag:Au}],_u["THAT'LL"]=[{value:"THAT",tag:Au},{value:"'LL",tag:Au}],_u["That'll"]=[{value:"That",tag:Au},{value:"'ll",tag:Au}],_u["that're"]=[{value:"that",tag:Au},{value:"'re",tag:Au}],_u["THAT'RE"]=[{value:"THAT",tag:Au},{value:"'RE",tag:Au}],_u["That're"]=[{value:"That",tag:Au},{value:"'re",tag:Au}],_u["let's"]=[{value:"let",tag:Au},{value:"'s",tag:Au}],_u["LET'S"]=[{value:"THAT",tag:Au},{value:"'S",tag:Au}],_u["Let's"]=[{value:"Let",tag:Au},{value:"'s",tag:Au}],_u["could've"]=[{value:"could",tag:Au},{value:"'ve",tag:Au}],_u["COULD'VE"]=[{value:"COULD",tag:Au},{value:"'VE",tag:Au}],_u["Could've"]=[{value:"Could",tag:Au},{value:"'ve",tag:Au}],_u["should've"]=[{value:"should",tag:Au},{value:"'ve",tag:Au}],_u["SHOULD'VE"]=[{value:"SHOULD",tag:Au},{value:"'VE",tag:Au}],_u["Should've"]=[{value:"Should",tag:Au},{value:"'ve",tag:Au}],_u["would've"]=[{value:"would",tag:Au},{value:"'ve",tag:Au}],_u["WOULD'VE"]=[{value:"WOULD",tag:Au},{value:"'VE",tag:Au}],_u["Would've"]=[{value:"Would",tag:Au},{value:"'ve",tag:Au}],_u["i'll've"]=[{value:"i",tag:Au},{value:"'ll",tag:Au},{value:"'ve",tag:Au}],_u["I'LL'VE"]=[{value:"I",tag:Au},{value:"'LL",tag:Au},{value:"'VE",tag:Au}],_u["I'll've"]=[{value:"I",tag:Au},{value:"'ll",tag:Au},{value:"'ve",tag:Au}],_u["you'll've"]=[{value:"you",tag:Au},{value:"'ll",tag:Au},{value:"'ve",tag:Au}],_u["YOU'LL'VE"]=[{value:"YOU",tag:Au},{value:"'LL",tag:Au},{value:"'VE",tag:Au}],_u["You'll've"]=[{value:"You",tag:Au},{value:"'ll",tag:Au},{value:"'ve",tag:Au}],_u["they'll've"]=[{value:"they",tag:Au},{value:"'ll",tag:Au},{value:"'ve",tag:Au}],_u["THEY'LL'VE"]=[{value:"THEY",tag:Au},{value:"'LL",tag:Au},{value:"'VE",tag:Au}],_u["They'll've"]=[{value:"They",tag:Au},{value:"'ll",tag:Au},{value:"'ve",tag:Au}],_u["it'll've"]=[{value:"it",tag:Au},{value:"'ll",tag:Au},{value:"'ve",tag:Au}],_u["IT'LL'VE"]=[{value:"IT",tag:Au},{value:"'LL",tag:Au},{value:"'VE",tag:Au}],_u["It'll've"]=[{value:"It",tag:Au},{value:"'ll",tag:Au},{value:"'ve",tag:Au}],_u["he'll've"]=[{value:"he",tag:Au},{value:"'ll",tag:Au},{value:"'ve",tag:Au}],_u["HE'LL'VE"]=[{value:"HE",tag:Au},{value:"'LL",tag:Au},{value:"'VE",tag:Au}],_u["He'll've"]=[{value:"He",tag:Au},{value:"'ll",tag:Au},{value:"'ve",tag:Au}],_u["she'll've"]=[{value:"she",tag:Au},{value:"'ll",tag:Au},{value:"'ve",tag:Au}],_u["SHE'LL'VE"]=[{value:"SHE",tag:Au},{value:"'LL",tag:Au},{value:"'VE",tag:Au}],_u["She'll've"]=[{value:"She",tag:Au},{value:"'ll",tag:Au},{value:"'ve",tag:Au}],_u["shouldn't've"]=[{value:"should",tag:Au},{value:"n't",tag:Au},{value:"'ve",tag:Au}],_u["SHOULDN'T'VE"]=[{value:"SHOULD",tag:Au},{value:"N'T",tag:Au},{value:"'VE",tag:Au}],_u["Shouldn't've"]=[{value:"Should",tag:Au},{value:"n't",tag:Au},{value:"'ve",tag:Au}],_u["couldn't've"]=[{value:"could",tag:Au},{value:"n't",tag:Au},{value:"'ve",tag:Au}],_u["COULDN'T'VE"]=[{value:"COULD",tag:Au},{value:"N'T",tag:Au},{value:"'VE",tag:Au}],_u["Couldn't've"]=[{value:"Could",tag:Au},{value:"n't",tag:Au},{value:"'ve",tag:Au}],_u["wouldn't've"]=[{value:"would",tag:Au},{value:"n't",tag:Au},{value:"'ve",tag:Au}],_u["WOULDN'T'VE"]=[{value:"WOULD",tag:Au},{value:"N'T",tag:Au},{value:"'VE",tag:Au}],_u["Wouldn't've"]=[{value:"Would",tag:Au},{value:"n't",tag:Au},{value:"'ve",tag:Au}],_u["i'd've"]=[{value:"i",tag:Au},{value:"'d",tag:Au},{value:"'ve",tag:Au}],_u["I'D'VE"]=[{value:"I",tag:Au},{value:"'D",tag:Au},{value:"'VE",tag:Au}],_u["I'd've"]=[{value:"I",tag:Au},{value:"'d",tag:Au},{value:"'ve",tag:Au}],_u["you'd've"]=[{value:"you",tag:Au},{value:"'d",tag:Au},{value:"'ve",tag:Au}],_u["YOU'D'VE"]=[{value:"YOU",tag:Au},{value:"'D",tag:Au},{value:"'VE",tag:Au}],_u["You'd've"]=[{value:"You",tag:Au},{value:"'d",tag:Au},{value:"'ve",tag:Au}],_u["he'd've"]=[{value:"he",tag:Au},{value:"'d",tag:Au},{value:"'ve",tag:Au}],_u["HE'D'VE"]=[{value:"HE",tag:Au},{value:"'D",tag:Au},{value:"'VE",tag:Au}],_u["He'd've"]=[{value:"He",tag:Au},{value:"'d",tag:Au},{value:"'ve",tag:Au}],_u["she'd've"]=[{value:"she",tag:Au},{value:"'d",tag:Au},{value:"'ve",tag:Au}],_u["SHE'D'VE"]=[{value:"SHE",tag:Au},{value:"'D",tag:Au},{value:"'VE",tag:Au}],_u["She'd've"]=[{value:"She",tag:Au},{value:"'d",tag:Au},{value:"'ve",tag:Au}],_u["you'd've"]=[{value:"you",tag:Au},{value:"'d",tag:Au},{value:"'ve",tag:Au}],_u["YOU'D'VE"]=[{value:"YOU",tag:Au},{value:"'D",tag:Au},{value:"'VE",tag:Au}],_u["You'd've"]=[{value:"You",tag:Au},{value:"'d",tag:Au},{value:"'ve",tag:Au}],_u["they'd've"]=[{value:"they",tag:Au},{value:"'d",tag:Au},{value:"'ve",tag:Au}],_u["THEY'D'VE"]=[{value:"THEY",tag:Au},{value:"'D",tag:Au},{value:"'VE",tag:Au}],_u["They'd've"]=[{value:"They",tag:Au},{value:"'d",tag:Au},{value:"'ve",tag:Au}],_u["there'd've"]=[{value:"there",tag:Au},{value:"'d",tag:Au},{value:"'ve",tag:Au}],_u["THERE'D'VE"]=[{value:"THERE",tag:Au},{value:"'D",tag:Au},{value:"'VE",tag:Au}],_u["There'd've"]=[{value:"There",tag:Au},{value:"'d",tag:Au},{value:"'ve",tag:Au}],_u["it'd've"]=[{value:"it",tag:Au},{value:"'d",tag:Au},{value:"'ve",tag:Au}],_u["IT'D'VE"]=[{value:"IT",tag:Au},{value:"'D",tag:Au},{value:"'VE",tag:Au}],_u["It'd've"]=[{value:"It",tag:Au},{value:"'d",tag:Au},{value:"'ve",tag:Au}];var zu=_u,Hu=/\s+/g,Nu=/'/,Fu=/([a-z]+)('s)$/i,Pu=/([a-z]+s)(')$/i,ju=[{regex:/"[^"]*"/g,category:"quoted_phrase"},{regex:/(?:https?:\/\/)(?:[\da-z\.-]+)\.(?:[a-z\.]{2,6})(?:[\/\w\.\-\?#=]*)*\/?/gi,category:"url"},{regex:/[-!#$%&'*+\/=?^\w{|}~](?:\.?[-!#$%&'*+\/=?^\w`{|}~])*@[a-z0-9](?:-?\.?[a-z0-9])*(?:\.[a-z](?:-?[a-z0-9])*)+/gi,category:"email"},{regex:/@\w+/g,category:"mention"},{regex:/#[a-z][a-z0-9]*/gi,category:"hashtag"},{regex:/#[\u0900-\u0963\u0970-\u097F][\u0900-\u0963\u0970-\u097F\u0966-\u096F0-9]*/gi,category:"hashtag"},{regex:/[\uD800-\uDBFF][\uDC00-\uDFFF]|[\u2600-\u26FF]|[\u2700-\u27BF]/g,category:"emoji"},{regex:/:-?[dps\*\/\[\]{}\(\)]|;-?[\/(\/)d]|<3/gi,category:"emoticon"},{regex:/(?:\d|[01]\d|2[0-3]):?(?:[0-5][0-9])?\s?(?:[ap]\.?m\.?|hours|hrs)/gi,category:"time"},{regex:/1\dth|[04-9]th|1st|2nd|3rd|[02-9]1st|[02-9]2nd|[02-9]3rd|[02-9][04-9]th|\d+\d[04-9]th|\d+\d1st|\d+\d2nd|\d+\d3rd/g,category:"ordinal"},{regex:/\d+\/\d+|\d(?:[\.,-\/]?\d)*(?:\.\d+)?/g,category:"number"},{regex:/[\u0966-\u096F]+\/[\u0966-\u096F]+|[\u0966-\u096F](?:[\.,-\/]?[\u0966-\u096F])*(?:\.[\u0966-\u096F]+)?/g,category:"number"},{regex:/[₿₽₹₨$£¥€₩]/g,category:"currency"},{regex:/[a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF][a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF']*/gi,category:"word"},{regex:/[\u0900-\u094F\u0951-\u0963\u0970-\u097F]+/gi,category:"word"},{regex:/[’'‘’`“”"\[\]\(\){}…,\.!;\?\-:\u0964\u0965]/g,category:"punctuation"},{regex:/[\u0950~@#%\^\+=\*\|\/<>&]/g,category:"symbol"}],Iu={emoticon:"c",email:"e",emoji:"j",hashtag:"h",mention:"m",number:"n",ordinal:"o",quoted_phrase:"q",currency:"r",time:"t",url:"u",word:"w",alien:"z"},Ou=function(){var e=ju.slice(0),t=[],o=Object.create(null),n=function(e,t){var o,n=zu[e];return void 0===n?(o=e.match(Fu))?(t.push({value:o[1],tag:"word"}),t.push({value:o[2],tag:"word"})):(o=e.match(Pu))?(t.push({value:o[1],tag:"word"}),t.push({value:o[2],tag:"word"})):t.push({value:e,tag:"word"}):(t.push(Object.assign({},n[0])),t.push(Object.assign({},n[1])),n[2]&&t.push(Object.assign({},n[2]))),t},i=function(e,o){var a,r,s,l=e.trim();if(o.length)for(a=function(e,t){var o,i,a,r,s=e.match(t.regex),l=e.split(t.regex),c=[],u=t.category,d=0;for(s=s||[],i=0,a=l.length;i<a;i+=1)(r=(r=l[i]).trim())&&c.push(r),d<s.length&&("word"===u?(o=s[d],Nu.test(o)?c=n(o,c):c.push({value:o,tag:u})):c.push({value:s[d],tag:u})),d+=1;return c}(l,o[0]),r=0,s=a.length;r<s;r+=1)"string"==typeof a[r]?i(a[r],o.slice(1)):t.push(a[r]);else e.split(Hu).forEach(function(e){t.push({value:e.trim(),tag:"alien"})})},a=function(t){e="object"==typeof t&&Object.keys(t).length?ju.filter(function(e){var o=t[e.category];return null==o||!!o}):[];const o=Object.create(null);return e.forEach(function(e){o[e.category]=!0}),Iu={emoticon:"c",email:"e",emoji:"j",hashtag:"h",mention:"m",number:"n",ordinal:"o",quoted_phrase:"q",currency:"r",time:"t",url:"u",word:"w",alien:"z"},Object.keys(o).length},r=function(e,t){if(Iu[e])throw new Error("Tag "+e+" already exists");Iu[e]=t};return a({quoted_phrase:!1}),o.defineConfig=a,o.tokenize=function(o){return t=[],i(o,e),t},o.getTokensFP=function(){var e=[];return t.forEach(function(t){e.push(Iu[t.tag]?Iu[t.tag]:t.value)}),e.join("")},o.addTag=r,o.addRegex=function(t,o,n){if(!Iu[o]&&!n)throw new Error("Tag "+o+" doesn't exist; Provide a 'fingerprintCode' to add it as a tag.");Iu[o]||r(o,n),e.unshift({regex:t,category:o})},o}().tokenize,Wu=function(e,t,o,n,i){let a=0,r=0;if(o&&(a=e/o),n){r=t/n;const e=15;r/=Math.sqrt(i>e?i/e:1)}return a&&r?(a+r)/2:r||a},Bu=function(e){if("string"!=typeof e)throw Error("wink-sentiment: input phrase must be a string, instead found: "+typeof e);var t=Ou(e);if(0===t.length)return{score:0,normalizedScore:0};var o,n,i,a,r,s,l=0,c=0,u=0,d=0,h=0;for(o=0,n=t.length;o<n;o+=1)switch(i=(a=t[o]).value,a.tag){case"emoji":(r=ku[i])&&(l+=r,a.score=r,d+=1),h+=1;break;case"emoticon":(r=Du[i])&&(l+=r,a.score=r,d+=1),h+=1;break;case"hashtag":(r=Tu[i.slice(1).toLowerCase()])&&(a.score=r,c+=r,u+=1);break;case"word":i=i.toLowerCase(),s=1,o<n-1&&Su[i]&&void 0!==Su[i][t[o+1].value.toLowerCase()]?(r=Su[i][t[o+1].value.toLowerCase()],a.grouped=1,s=2):r=Tu[i]||0,(o>0&&Lu[t[o-1].value.toLowerCase()]||o>1&&Lu[t[o-2].value.toLowerCase()])&&(r=-r,a.negation=!0),l+=r,o+=s-1,r&&(a.score=r,d+=1),h+=s}return{score:l+c,normalizedScore:+Wu(c,l,u,d,h).toFixed(4),tokenizedPhrase:t}};const Vu=new Set(["ourselves","hers","between","yourself","but","again","there","about","once","during","out","very","having","with","they","own","an","be","some","for","do","its","yours","such","into","of","most","itself","other","off","is","s","am","or","who","as","from","him","each","the","themselves","until","below","are","we","these","your","his","through","don","nor","me","were","her","more","himself","this","down","should","our","their","while","above","both","up","to","ours","had","she","all","no","when","at","any","before","them","same","and","been","have","in","will","on","does","yourselves","then","that","because","what","over","why","so","can","did","not","now","under","he","you","herself","has","just","where","too","only","myself","which","those","i","after","few","whom","t","being","if","theirs","my","against","a","by","doing","it","how","further","was","here","than","it","m","undefined"]),$u=new Set([...Vu,"it","a","lot","of","i","used","tto","would","as","well","app","way","best","able","using","nice","thank","like","work","the","want","really","back","try","seems","could","see","use","one","also","get","need","cant","first","good","looking","trying","needs","last","old","doesn","much","new","great","ive","ve","easy","dont","change","bought","purchased"]);function Gu(e){return Bu(e.title+e.content)}function Uu(e,t,o){const n=Object.create(e);return n.go=t[o],n}function Yu(e){return{c:t,m:t,p:t,d:t}}function qu(e){var t,o,n=e.value.name;return{c(){t=g("h2"),o=v(n),t.className="card-title"},m(e,n){p(e,t,n),f(t,o)},p(e,t){e.currentApp&&n!==(n=t.value.name)&&C(o,n)},d(e){e&&m(t)}}}function Xu(e){var o;return{c(){(o=g("h2")).textContent="Loading...",o.className="card-title"},m(e,t){p(e,o,t)},p:t,d(e){e&&m(o)}}}function Ju(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function Ku(e){var t,o=new Jc({props:{currentApp:e.val[0],currentAppReviewsSentiment:e.val[1]}});return{c(){o.$$.fragment.c()},m(e,n){$(o,e,n),t=!0},p(e,t){var n={};(e.currentApp||e.currentAppReviewsSentiment)&&(n.currentApp=t.val[0]),(e.currentApp||e.currentAppReviewsSentiment)&&(n.currentAppReviewsSentiment=t.val[1]),o.$set(n)},i(e){t||(o.$$.fragment.i(e),t=!0)},o(e){o.$$.fragment.o(e),t=!1},d(e){o.$destroy(e)}}}function Zu(e){var o,n=new Jc({});return{c(){n.$$.fragment.c()},m(e,t){$(n,e,t),o=!0},p:t,i(e){o||(n.$$.fragment.i(e),o=!0)},o(e){n.$$.fragment.o(e),o=!1},d(e){n.$destroy(e)}}}function Qu(e){var t,o,n=e.go;return{c(){t=g("option"),o=v(n),t.__value=e.go,t.value=t.__value},m(e,n){p(e,t,n),f(t,o)},p(e,o){t.value=t.__value},d(e){e&&m(t)}}}function ed(e){var o,n,i,a=e.error.message;return{c(){o=g("p"),n=v("Something went wrong: "),i=v(a)},m(e,t){p(e,o,t),f(o,n),f(o,i)},p(e,t){e.formattedReviews&&a!==(a=t.error.message)&&C(i,a)},i:t,o:t,d(e){e&&m(o)}}}function td(e){var t,o=new $l({props:{words:e.value}});return{c(){o.$$.fragment.c()},m(e,n){$(o,e,n),t=!0},p(e,t){var n={};e.formattedReviews&&(n.words=t.value),o.$set(n)},i(e){t||(o.$$.fragment.i(e),t=!0)},o(e){o.$$.fragment.o(e),t=!1},d(e){o.$destroy(e)}}}function od(e){var o;return{c(){(o=g("div")).innerHTML="<p>Loading Word Cloud...</p>",o.className="container cloud svelte-1w1jmfm"},m(e,t){p(e,o,t)},p:t,i:t,o:t,d(e){e&&m(o)}}}function nd(e){var o,n,i,a=e.error.message;return{c(){o=g("p"),n=v("Something went wrong: "),i=v(a)},m(e,t){p(e,o,t),f(o,n),f(o,i)},p(e,t){e.appReviews&&a!==(a=t.error.message)&&C(i,a)},i:t,o:t,d(e){e&&m(o)}}}function id(e){var t,o=new tu({props:{reviews:e.reviews}});return{c(){o.$$.fragment.c()},m(e,n){$(o,e,n),t=!0},p(e,t){var n={};e.appReviews&&(n.reviews=t.reviews),o.$set(n)},i(e){t||(o.$$.fragment.i(e),t=!0)},o(e){o.$$.fragment.o(e),t=!1},d(e){o.$destroy(e)}}}function ad(e){var o,n,i=new tu({});return{c(){o=g("div"),i.$$.fragment.c(),o.className="container"},m(e,t){p(e,o,t),$(i,o,null),n=!0},p:t,i(e){n||(i.$$.fragment.i(e),n=!0)},o(e){i.$$.fragment.o(e),n=!1},d(e){e&&m(o),i.$destroy()}}}function rd(e){var t,n,i,a,r,s,l,c,u,d,h,v,C,R,M,k,T,D,L,S,_,A,z,H,N,P,j,I,O,W,B,G,U,Y,q,X,J,K;let Z={ctx:e,current:null,pending:Xu,then:qu,catch:Yu,value:"value",error:"null"};V(c=e.currentApp,Z);var Q=new _c({});let ee={ctx:e,current:null,pending:Zu,then:Ku,catch:Ju,value:"val",error:"null",blocks:Array(3)};V(M=Promise.all([e.currentApp,e.currentAppReviewsSentiment]),ee);for(var te=e.gramOptions,oe=[],ne=0;ne<te.length;ne+=1)oe[ne]=Qu(Uu(e,te,ne));let ie={ctx:e,current:null,pending:od,then:td,catch:ed,value:"value",error:"error",blocks:Array(3)};V(U=e.formattedReviews,ie);let ae={ctx:e,current:null,pending:ad,then:id,catch:nd,value:"reviews",error:"error",blocks:Array(3)};return V(X=e.appReviews,ae),{c(){(t=g("a")).innerHTML='<svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true" class="svelte-1w1jmfm"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm svelte-1w1jmfm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg>',n=b(),i=g("div"),a=g("div"),r=g("div"),s=g("div"),l=g("div"),Z.block.c(),u=b(),(d=g("h3")).textContent="A dashboard for your iOS App Store reviews.",h=b(),v=g("form"),C=g("div"),Q.$$.fragment.c(),R=b(),ee.block.c(),k=b(),T=g("div"),D=g("div"),L=g("div"),S=g("div"),_=g("div"),A=g("div"),(z=g("h2")).textContent="Word Cloud",H=b(),(N=g("h3")).textContent="A word cloud made from most frequent words in app reviews.",P=b(),j=g("div"),(I=g("label")).textContent="nGrams",O=b(),W=g("select");for(var o=0;o<oe.length;o+=1)oe[o].c();B=b(),G=g("div"),ie.block.c(),Y=b(),q=y(),ae.block.c(),t.href="https://github.com/briansunter/app-review-dashboard",t.className="github-corner svelte-1w1jmfm",E(t,"aria-label","View source on GitHub"),d.className="card-category",l.className="card-header card-header-primary",C.className="input-group mb-3 flex-nowrap svelte-1w1jmfm",v.className="navbar-form",s.className="card",r.className="col-md-12",a.className="row",i.className="container-fluid",z.className="card-title",N.className="card-category",I.className="gramSelectLabel svelte-1w1jmfm",I.htmlFor="gramSelect",void 0===e.gramOptionsValue&&F(()=>e.select_change_handler.call(W)),W.className="gramSelect svelte-1w1jmfm",j.className="input-group-append svelte-1w1jmfm",A.className="card-header card-header-primary",G.className="card-body",_.className="card",S.className="col-md-12",L.className="row",D.className="container-fluid",T.className="content",K=w(W,"change",e.select_change_handler)},m(o,c){p(o,t,c),p(o,n,c),p(o,i,c),f(i,a),f(a,r),f(r,s),f(s,l),Z.block.m(l,Z.anchor=null),Z.mount=(()=>l),Z.anchor=u,f(l,u),f(l,d),f(s,h),f(s,v),f(v,C),$(Q,C,null),f(i,R),ee.block.m(i,ee.anchor=null),ee.mount=(()=>i),ee.anchor=null,p(o,k,c),p(o,T,c),f(T,D),f(D,L),f(L,S),f(S,_),f(_,A),f(A,z),f(A,H),f(A,N),f(A,P),f(A,j),f(j,I),f(j,O),f(j,W);for(var m=0;m<oe.length;m+=1)oe[m].m(W,null);x(W,e.gramOptionsValue),f(_,B),f(_,G),ie.block.m(G,ie.anchor=null),ie.mount=(()=>G),ie.anchor=null,p(o,Y,c),p(o,q,c),ae.block.m(o,ae.anchor=c),ae.mount=(()=>q.parentNode),ae.anchor=q,J=!0},p(t,n){if(e=n,Z.ctx=e,"currentApp"in t&&c!==(c=e.currentApp)&&V(c,Z)||Z.block.p(t,o(o({},e),Z.resolved)),ee.ctx=e,("currentApp"in t||"currentAppReviewsSentiment"in t)&&M!==(M=Promise.all([e.currentApp,e.currentAppReviewsSentiment]))&&V(M,ee)||ee.block.p(t,o(o({},e),ee.resolved)),t.gramOptions){te=e.gramOptions;for(var i=0;i<te.length;i+=1){const o=Uu(e,te,i);oe[i]?oe[i].p(t,o):(oe[i]=Qu(o),oe[i].c(),oe[i].m(W,null))}for(;i<oe.length;i+=1)oe[i].d(1);oe.length=te.length}t.gramOptionsValue&&x(W,e.gramOptionsValue),ie.ctx=e,"formattedReviews"in t&&U!==(U=e.formattedReviews)&&V(U,ie)||ie.block.p(t,o(o({},e),ie.resolved)),ae.ctx=e,"appReviews"in t&&X!==(X=e.appReviews)&&V(X,ae)||ae.block.p(t,o(o({},e),ae.resolved))},i(e){J||(Q.$$.fragment.i(e),ee.block.i(),ie.block.i(),ae.block.i(),J=!0)},o(e){Q.$$.fragment.o(e);for(let e=0;e<3;e+=1){const t=ee.blocks[e];t&&t.o()}for(let e=0;e<3;e+=1){const t=ie.blocks[e];t&&t.o()}for(let e=0;e<3;e+=1){const t=ae.blocks[e];t&&t.o()}J=!1},d(e){e&&(m(t),m(n),m(i)),Z.block.d(),Z=null,Q.$destroy(),ee.block.d(),ee=null,e&&(m(k),m(T)),function(e,t){for(let o=0;o<e.length;o+=1)e[o]&&e[o].d(t)}(oe,e),ie.block.d(),ie=null,e&&(m(Y),m(q)),ae.block.d(e),ae=null,K()}}}const sd=284882215;function ld(e,t,o){let n,i,a,r,{appId:s=284882215}=t,l=We(1,6).map(e=>e.toString()),c="2";return e.$set=(e=>{"appId"in e&&o("appId",s=e.appId)}),e.$$.update=((e={appId:1,currentApp:1,appReviews:1,gramOptionsValue:1})=>{e.appId&&o("currentApp",n=async function(e){let t=await fetch(`https://cors-anywhere.herokuapp.com/https://itunes.apple.com/lookup?id=${e}`),o=(await t.json()).results[0];return{id:o.trackId,name:o.trackName,link:o.trackViewUrl,currentVersionRatingCount:o.userRatingCountForCurrentVersion,currentVersionRating:o.averageUserRatingForCurrentVersion,appRating:o.averageUserRating,appRatingCount:o.userRatingCount,appPrice:o.formattedPrice}}(s||sd)),e.currentApp&&o("appReviews",i=n.then(e=>(async function({appId:e}){return(await Promise.all(We(1,11).map(t=>fetch(`https://itunes.apple.com/us/rss/customerreviews/id=${e}/sortBy=mostRecent/page=${t}/json`).then(async e=>await e.json())))).filter(e=>e.feed&&e.feed.entry).map(e=>e.feed.entry.map(e=>({rating:e["im:rating"].label,content:e.content.label,title:e.title.label,version:e["im:version"].label,sentiment:Bu(e.title.label+e.content.label).score}))).flat()})({appId:e.id}))),(e.appReviews||e.gramOptionsValue)&&o("formattedReviews",a=i.then(e=>(function({reviews:e,nGrams:t}){let o=e.map(e=>Cu(t)(Mu(e.content+e.title).filter(e=>!Vu.has(e)))).filter(e=>!function(e,t){for(var o of t)if(!e.has(o))return!1;return!0}($u,new Set(e))).flat(),n=iu(o),i=Eu(Object.keys(n),e=>-1*n[e]),a=[];return i.slice(0,1e3).forEach(e=>{let t=e.split(",").join(" ");a.push({text:t,size:n[e]})}),a})({reviews:e,nGrams:parseInt(c)}))),e.appReviews&&o("currentAppReviewsSentiment",r=i.then(e=>ri(e.map(Gu),"score")))}),{appId:s,gramOptions:l,gramOptionsValue:c,currentApp:n,appReviews:i,formattedReviews:a,currentAppReviewsSentiment:r,select_change_handler:function(){c=function(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}(this),o("gramOptionsValue",c),o("gramOptions",l)}}}class cd extends Y{constructor(e){super(),U(this,e,ld,rd,s,["appId"])}}function ud(e){var t,o,n,i,a,r=new Dc({props:{path:"/app-review-dashboard",component:cd}}),s=new Dc({props:{path:"/app-review-dashboard/:appId",component:cd}}),l=new Dc({props:{path:"/:appId",component:cd}}),c=new Dc({props:{path:"/",component:cd}});return{c(){t=g("div"),r.$$.fragment.c(),o=b(),s.$$.fragment.c(),n=b(),l.$$.fragment.c(),i=b(),c.$$.fragment.c()},m(e,u){p(e,t,u),$(r,t,null),f(t,o),$(s,t,null),f(t,n),$(l,t,null),f(t,i),$(c,t,null),a=!0},p(e,t){var o={};e.Home&&(o.component=cd),r.$set(o);var n={};e.Home&&(n.component=cd),s.$set(n);var i={};e.Home&&(i.component=cd),l.$set(i);var a={};e.Home&&(a.component=cd),c.$set(a)},i(e){a||(r.$$.fragment.i(e),s.$$.fragment.i(e),l.$$.fragment.i(e),c.$$.fragment.i(e),a=!0)},o(e){r.$$.fragment.o(e),s.$$.fragment.o(e),l.$$.fragment.o(e),c.$$.fragment.o(e),a=!1},d(e){e&&m(t),r.$destroy(),s.$destroy(),l.$destroy(),c.$destroy()}}}function dd(e){var t,o=new Cc({props:{$$slots:{default:[ud]},$$scope:{ctx:e}}});return{c(){o.$$.fragment.c()},m(e,n){$(o,e,n),t=!0},p(e,t){var n={};e.$$scope&&(n.$$scope={changed:e,ctx:t}),o.$set(n)},i(e){t||(o.$$.fragment.i(e),t=!0)},o(e){o.$$.fragment.o(e),t=!1},d(e){o.$destroy(e)}}}return new class extends Y{constructor(e){super(),U(this,e,null,dd,s,[])}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
